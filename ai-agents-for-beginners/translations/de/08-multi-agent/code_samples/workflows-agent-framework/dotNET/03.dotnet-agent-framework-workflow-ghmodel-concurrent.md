<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "b9c6e32c9b5f2fed20b6916984440d88",
  "translation_date": "2025-11-11T13:05:47+00:00",
  "source_file": "08-multi-agent/code_samples/workflows-agent-framework/dotNET/03.dotnet-agent-framework-workflow-ghmodel-concurrent.md",
  "language_code": "de"
}
-->
# âš¡ Gleichzeitige Agenten-Workflows mit GitHub-Modellen (.NET)

## ğŸ“‹ Tutorial fÃ¼r Hochleistungs-Parallele Verarbeitung

Dieses Notebook demonstriert **gleichzeitige Workflow-Muster** mit dem Microsoft Agent Framework fÃ¼r .NET und GitHub-Modelle. Sie lernen, wie Sie Hochleistungs-Workflows fÃ¼r parallele Verarbeitung erstellen, die den Durchsatz maximieren, indem mehrere KI-Agenten gleichzeitig ausgefÃ¼hrt werden, wÃ¤hrend Koordination und Datenkonsistenz erhalten bleiben.

## ğŸ¯ Lernziele

### ğŸš€ **Grundlagen der gleichzeitigen Verarbeitung**
- **Parallele AgentenausfÃ¼hrung**: Mehrere KI-Agenten gleichzeitig ausfÃ¼hren fÃ¼r maximale Leistung
- **Async/Await-Muster**: Nutzung des asynchronen Programmiermodells von .NET fÃ¼r effiziente Gleichzeitigkeit
- **Integration von GitHub-Modellen**: Koordination mehrerer gleichzeitiger Anfragen an den Inferenzdienst von GitHub-Modellen
- **Ressourcenmanagement**: Effiziente Verwaltung von KI-Modellressourcen Ã¼ber gleichzeitige Operationen hinweg

### ğŸ—ï¸ **Fortgeschrittene Architektur fÃ¼r Gleichzeitigkeit**
- **Task-basierte ParallelitÃ¤t**: Nutzung der .NET Task Parallel Library fÃ¼r optimale gleichzeitige AusfÃ¼hrung
- **Synchronisationsmuster**: Koordination gleichzeitiger Agenten unter Vermeidung von Race Conditions
- **Lastverteilung**: Effiziente Verteilung der Arbeit Ã¼ber die verfÃ¼gbare gleichzeitige VerarbeitungskapazitÃ¤t
- **Fehlertoleranz**: Umgang mit AusfÃ¤llen einzelner Agenten, ohne den gesamten Workflow zu stoppen

### ğŸ¢ **Gleichzeitige Anwendungen fÃ¼r Unternehmen**
- **Hochvolumige Dokumentenverarbeitung**: Mehrere Dokumente gleichzeitig verarbeiten
- **Echtzeit-Inhaltsanalyse**: Gleichzeitige Analyse eingehender DatenstrÃ¶me
- **Optimierung der Batch-Verarbeitung**: Maximierung des Durchsatzes bei groÃŸflÃ¤chigen Datenverarbeitungsoperationen
- **Multimodale Analyse**: Parallele Verarbeitung verschiedener Inhaltstypen und Formate

## âš™ï¸ Voraussetzungen & Einrichtung

### ğŸ“¦ **Erforderliche NuGet-Pakete**

Wesentliche Pakete fÃ¼r Hochleistungs-Workflows mit Gleichzeitigkeit:

```xml
<!-- Core AI Framework with Async Support -->
<PackageReference Include="Microsoft.Extensions.AI" Version="9.9.0" />

<!-- Client Model Abstractions for API Communication -->
<PackageReference Include="System.ClientModel" Version="1.6.1.0" />

<!-- Azure Identity and Async LINQ for Advanced Operations -->
<PackageReference Include="Azure.Identity" Version="1.15.0" />
<PackageReference Include="System.Linq.Async" Version="6.0.3" />

<!-- Local Agent Framework References -->
<!-- Microsoft.Agents.AI.dll - Core agent abstractions with async support -->
<!-- Microsoft.Agents.AI.OpenAI.dll - GitHub Models integration with concurrency -->
```

### ğŸ”‘ **Konfiguration der GitHub-Modelle**

**Umgebungssetup (.env-Datei):**
```env
GITHUB_TOKEN=your_github_personal_access_token
GITHUB_ENDPOINT=https://models.inference.ai.azure.com
GITHUB_MODEL_ID=gpt-4o-mini
```

**Ãœberlegungen zur gleichzeitigen Verarbeitung:**
```csharp
// Configure for concurrent operations
var clientOptions = new OpenAIClientOptions()
{
    Endpoint = new Uri(githubEndpoint),
    // Configure connection pooling for concurrent requests
    NetworkTimeout = TimeSpan.FromMinutes(5)
};
```

### ğŸ—ï¸ **Architektur des gleichzeitigen Workflows**

```mermaid
graph TD
    A[Workflow Input] --> B[Task Distribution]
    B --> C[Concurrent Agent Pool]
    C --> D[Agent Task 1]
    C --> E[Agent Task 2]
    C --> F[Agent Task 3]
    C --> G[Agent Task N]
    
    D --> H[Result Aggregation]
    E --> H
    F --> H
    G --> H
    
    H --> I[Synchronized Output]
    
    J[GitHub Models API] --> D
    J --> E
    J --> F
    J --> G
    
    K[.NET Task Scheduler] --> C
```

**Wichtige Komponenten:**
- **Task Parallel Library**: Eingebaute UnterstÃ¼tzung von .NET fÃ¼r gleichzeitige Operationen
- **Agenten-Pool**: Mehrere Agenteninstanzen fÃ¼r parallele Verarbeitung
- **Ergebnisaggregation**: Koordination und ZusammenfÃ¼hrung der Ergebnisse gleichzeitiger Agenten
- **Synchronisationspunkte**: Sicherstellung der Datenkonsistenz Ã¼ber gleichzeitige Operationen hinweg

## ğŸ¨ **Designmuster fÃ¼r gleichzeitige Workflows**

### ğŸ” **Parallele Forschung & Analyse**
```
Research Topic â†’ Concurrent Research Agents â†’ Result Synthesis â†’ Final Report
```

### ğŸ“Š **Datenverarbeitung aus mehreren Quellen**
```
Data Sources â†’ Parallel Processing Agents â†’ Data Integration â†’ Unified Output
```

### ğŸ­ **Inhaltsgenerierungspipeline**
```
Content Requirements â†’ Concurrent Content Generators â†’ Quality Review â†’ Final Content
```

### ğŸ”„ **Fan-Out/Fan-In-Verarbeitung**
```
Single Input â†’ Multiple Concurrent Processors â†’ Result Aggregation â†’ Single Output
```

## ğŸ¢ **Leistungssteigerungen fÃ¼r Unternehmen**

### âš¡ **Durchsatz & Skalierbarkeit**
- **Lineare Leistungsskalierung**: Mehr gleichzeitige Agenten hinzufÃ¼gen, um den Durchsatz zu erhÃ¶hen
- **Ressourcennutzung**: Maximale Effizienz der verfÃ¼gbaren KI-ModellkapazitÃ¤t
- **Reduzierte Verarbeitungszeit**: Deutliche Zeitersparnis durch parallele AusfÃ¼hrung
- **Elastische Skalierung**: Dynamische Anpassung der Anzahl gleichzeitiger Agenten basierend auf der Arbeitslast

### ğŸ›¡ï¸ **ZuverlÃ¤ssigkeit & WiderstandsfÃ¤higkeit**
- **Fehlerisolierung**: AusfÃ¤lle einzelner Agenten beeintrÃ¤chtigen andere gleichzeitige Operationen nicht
- **Sanfte Degradierung**: System arbeitet mit reduzierter AgentenkapazitÃ¤t weiter
- **Fehlerbehebung**: Automatische Wiederholungsmechanismen fÃ¼r fehlgeschlagene gleichzeitige Operationen
- **Lastverteilung**: GleichmÃ¤ÃŸige Verteilung der Arbeit Ã¼ber verfÃ¼gbare Agenten

### ğŸ“Š **LeistungsÃ¼berwachung**
- **Metriken fÃ¼r gleichzeitige AusfÃ¼hrung**: Leistung aller parallelen Operationen verfolgen
- **Ressourcennutzungsanalyse**: CPU-, Speicher- und Netzwerkauslastung Ã¼berwachen
- **Durchsatzanalyse**: Effizienzgewinne durch gleichzeitige Verarbeitung messen
- **Engpasserkennung**: LeistungsbeschrÃ¤nkungen identifizieren und beheben

### ğŸ”§ **Entwicklung & Betrieb**
- **Asynchrones Programmiermodell**: Nutzung der ausgereiften Async/Await-Muster von .NET
- **Task-Koordination**: Eingebaute Task-Management- und Koordinierungsfunktionen
- **Fehlerbehandlung**: Umfassende Fehlerbehandlung fÃ¼r gleichzeitige Operationen
- **Debugging-UnterstÃ¼tzung**: Debugging-Tools von Visual Studio fÃ¼r gleichzeitige Workflows

Lassen Sie uns Hochleistungs-KI-Workflows mit .NET erstellen! ğŸš€

## ğŸ’» Code ausfÃ¼hren

Die vollstÃ¤ndige Implementierung ist verfÃ¼gbar in `03.dotnet-agent-framework-workflow-ghmodel-concurrent.cs`. Diese Datei demonstriert einen **Fan-Out/Fan-In-Workflow** fÃ¼r Reiseplanung:

### ğŸ—ï¸ **Workflow-Architektur**

```
User Request â†’ ConcurrentStartExecutor â†’ [Researcher Agent || Planner Agent] â†’ ConcurrentAggregationExecutor â†’ Final Output
```

**Wichtige Komponenten:**

1. **ConcurrentStartExecutor**: Sendet die Benutzeranfrage gleichzeitig an alle Agenten
2. **Researcher Agent**: Analysiert Reiseziele und Attraktionen parallel
3. **Planner Agent**: Erstellt detaillierte ReiseplÃ¤ne parallel
4. **ConcurrentAggregationExecutor**: Sammelt und kombiniert Ergebnisse von beiden Agenten

### ğŸ¯ **Fan-Out/Fan-In-Muster**

Dieser Workflow demonstriert das klassische **Fan-Out/Fan-In-Muster**:
- **Fan-Out**: Eine Eingabenachricht wird gleichzeitig an mehrere Agenten gesendet
- **Gleichzeitige Verarbeitung**: Mehrere Agenten arbeiten parallel an derselben Aufgabe
- **Fan-In**: Ergebnisse aller Agenten werden gesammelt und zu einer einzigen Ausgabe zusammengefÃ¼hrt

### ğŸš€ Beispiel ausfÃ¼hren

```bash
# Make the script executable (Unix/Linux/macOS)
chmod +x 03.dotnet-agent-framework-workflow-ghmodel-concurrent.cs

# Run the concurrent workflow
./03.dotnet-agent-framework-workflow-ghmodel-concurrent.cs
```

Oder unter Windows:
```powershell
dotnet run 03.dotnet-agent-framework-workflow-ghmodel-concurrent.cs
```

### ğŸ“ Erwartete Ausgabe

Der Workflow wird:
1. **Anfrage senden**: "Plane eine Reise nach Seattle im Dezember" an beide Agenten senden
2. **Gleichzeitige Verarbeitung**: Beide Agenten arbeiten gleichzeitig:
   - Der Researcher identifiziert Attraktionen und Details
   - Der Planner erstellt eine Reiseroute und Logistik
3. **Aggregation**: Beide Antworten zu einer umfassenden Ausgabe kombinieren
4. **Ergebnisse anzeigen**: Den zusammengefÃ¼hrten Reiseplan mit allen Informationen anzeigen

### ğŸ”§ Anpassungsoptionen

**Mehr gleichzeitige Agenten hinzufÃ¼gen:**
```csharp
// Create additional specialized agents
AIAgent budgetAgent = openAIClient.GetChatClient(github_model_id).CreateAIAgent(
    name: "Budget-Agent", instructions: "Calculate travel costs...");

// Add to fan-out
var workflow = new WorkflowBuilder(startExecutor)
    .AddFanOutEdge(startExecutor, targets: [researcherAgent, plannerAgent, budgetAgent])
    .AddFanInEdge(aggregationExecutor, sources: [researcherAgent, plannerAgent, budgetAgent])
    .WithOutputFrom(aggregationExecutor)
    .Build();

// Update aggregation count
if (this._messages.Count == 3) { ... }
```

**Agentenanweisungen Ã¤ndern:**
```csharp
const string ResearcherAgentInstructions = "Your custom instructions for research...";
const string PlanAgentInstructions = "Your custom instructions for planning...";
```

**Aufgabe Ã¤ndern:**
```csharp
StreamingRun run = await InProcessExecution.StreamAsync(
    workflow, 
    "Plan a European vacation for 2 weeks in summer"
);
```

### ğŸ¯ Anwendungen in der Praxis

Dieses gleichzeitige Muster eignet sich ideal fÃ¼r:
- **Inhaltsgenerierung**: Mehrere Autoren erstellen gleichzeitig verschiedene Abschnitte
- **Code-Review**: Mehrere Reviewer analysieren Code aus unterschiedlichen Perspektiven
- **Marktforschung**: Parallele Analyse verschiedener Marktsegmente
- **Dokumentenverarbeitung**: Gleichzeitige Extraktion, Analyse und Validierung
- **Analyse aus mehreren Perspektiven**: Verschiedene Standpunkte zur gleichen Eingabe erhalten

### ğŸ” VerstÃ¤ndnis von benutzerdefinierten Executoren

**ConcurrentStartExecutor:**
- Implementiert `IMessageHandler<string>` zur Annahme von String-Eingaben
- Sendet Nachrichten an alle verbundenen Agenten
- Sendet `TurnToken`, um gleichzeitige Verarbeitung auszulÃ¶sen

**ConcurrentAggregationExecutor:**
- Implementiert `IMessageHandler<ChatMessage>` zur Annahme von Agentenantworten
- Sammelt Nachrichten auf thread-sichere Weise
- Aggregiert, wenn alle erwarteten Antworten eingegangen sind
- Gibt die endgÃ¼ltige Ausgabe mit `context.YieldOutputAsync()` zurÃ¼ck

### âš¡ Leistungssteigerungen

**Gleichzeitig vs. Sequentiell:**
- Sequentiell: Agent1 (30s) â†’ Agent2 (30s) = **60 Sekunden insgesamt**
- Gleichzeitig: Agent1 (30s) || Agent2 (30s) = **30 Sekunden insgesamt**

**Durchsatzverbesserung**: Bis zu NÃ— schneller fÃ¼r N gleichzeitige Agenten (abhÃ¤ngig von Arbeitslast und Ressourcen)

### ğŸ›¡ï¸ Fehlerbehandlung

Der Workflow behandelt AusfÃ¤lle einzelner Agenten problemlos:
- Wenn ein Agent ausfÃ¤llt, arbeiten andere weiter
- Der Aggregator kann Timeout-Logik implementieren
- Teilweise Ergebnisse kÃ¶nnen bei Bedarf zurÃ¼ckgegeben werden

### ğŸ“Š Erweiterte Funktionen

**Dynamische Agentenzahl:**
Die Aggregationslogik anpassen, um variable Agentenzahlen zu unterstÃ¼tzen:

```csharp
private int _expectedAgentCount;
private readonly List<ChatMessage> _messages = [];

public async ValueTask HandleAsync(ChatMessage message, IWorkflowContext context)
{
    this._messages.Add(message);
    if (this._messages.Count == _expectedAgentCount)
    {
        // Process aggregation
    }
}
```

Dieses Muster fÃ¼r gleichzeitige Workflows ist entscheidend fÃ¼r den Aufbau leistungsstarker, skalierbarer KI-Agentensysteme!

---

<!-- CO-OP TRANSLATOR DISCLAIMER START -->
**Haftungsausschluss**:  
Dieses Dokument wurde mit dem KI-Ãœbersetzungsdienst [Co-op Translator](https://github.com/Azure/co-op-translator) Ã¼bersetzt. Obwohl wir uns um Genauigkeit bemÃ¼hen, beachten Sie bitte, dass automatisierte Ãœbersetzungen Fehler oder Ungenauigkeiten enthalten kÃ¶nnen. Das Originaldokument in seiner ursprÃ¼nglichen Sprache sollte als maÃŸgebliche Quelle betrachtet werden. FÃ¼r kritische Informationen wird eine professionelle menschliche Ãœbersetzung empfohlen. Wir Ã¼bernehmen keine Haftung fÃ¼r MissverstÃ¤ndnisse oder Fehlinterpretationen, die sich aus der Nutzung dieser Ãœbersetzung ergeben.
<!-- CO-OP TRANSLATOR DISCLAIMER END -->