<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "b9c6e32c9b5f2fed20b6916984440d88",
  "translation_date": "2025-11-11T13:25:01+00:00",
  "source_file": "08-multi-agent/code_samples/workflows-agent-framework/dotNET/03.dotnet-agent-framework-workflow-ghmodel-concurrent.md",
  "language_code": "vi"
}
-->
# âš¡ Quy trÃ¬nh lÃ m viá»‡c Ä‘á»“ng thá»i vá»›i cÃ¡c mÃ´ hÃ¬nh GitHub (.NET)

## ğŸ“‹ HÆ°á»›ng dáº«n xá»­ lÃ½ song song hiá»‡u suáº¥t cao

Notebook nÃ y trÃ¬nh bÃ y cÃ¡c **máº«u quy trÃ¬nh lÃ m viá»‡c Ä‘á»“ng thá»i** sá»­ dá»¥ng Microsoft Agent Framework cho .NET vÃ  cÃ¡c mÃ´ hÃ¬nh GitHub. Báº¡n sáº½ há»c cÃ¡ch xÃ¢y dá»±ng cÃ¡c quy trÃ¬nh lÃ m viá»‡c xá»­ lÃ½ song song hiá»‡u suáº¥t cao, tá»‘i Ä‘a hÃ³a thÃ´ng lÆ°á»£ng báº±ng cÃ¡ch thá»±c thi nhiá»u tÃ¡c nhÃ¢n AI Ä‘á»“ng thá»i trong khi váº«n duy trÃ¬ sá»± phá»‘i há»£p vÃ  tÃ­nh nháº¥t quÃ¡n cá»§a dá»¯ liá»‡u.

## ğŸ¯ Má»¥c tiÃªu há»c táº­p

### ğŸš€ **Kiáº¿n thá»©c cÆ¡ báº£n vá» xá»­ lÃ½ Ä‘á»“ng thá»i**
- **Thá»±c thi tÃ¡c nhÃ¢n song song**: Cháº¡y nhiá»u tÃ¡c nhÃ¢n AI Ä‘á»“ng thá»i Ä‘á»ƒ Ä‘áº¡t hiá»‡u suáº¥t tá»‘i Ä‘a
- **Máº«u Async/Await**: Táº­n dá»¥ng mÃ´ hÃ¬nh láº­p trÃ¬nh async cá»§a .NET Ä‘á»ƒ xá»­ lÃ½ Ä‘á»“ng thá»i hiá»‡u quáº£
- **TÃ­ch há»£p mÃ´ hÃ¬nh GitHub**: Phá»‘i há»£p nhiá»u cuá»™c gá»i Ä‘á»“ng thá»i Ä‘áº¿n dá»‹ch vá»¥ suy luáº­n mÃ´ hÃ¬nh AI cá»§a GitHub
- **Quáº£n lÃ½ tÃ i nguyÃªn**: Quáº£n lÃ½ hiá»‡u quáº£ tÃ i nguyÃªn mÃ´ hÃ¬nh AI trong cÃ¡c hoáº¡t Ä‘á»™ng Ä‘á»“ng thá»i

### ğŸ—ï¸ **Kiáº¿n trÃºc Ä‘á»“ng thá»i nÃ¢ng cao**
- **Song song dá»±a trÃªn tÃ¡c vá»¥**: Sá»­ dá»¥ng ThÆ° viá»‡n TÃ¡c vá»¥ Song song cá»§a .NET Ä‘á»ƒ thá»±c thi Ä‘á»“ng thá»i tá»‘i Æ°u
- **Máº«u Ä‘á»“ng bá»™ hÃ³a**: Phá»‘i há»£p cÃ¡c tÃ¡c nhÃ¢n Ä‘á»“ng thá»i trong khi trÃ¡nh Ä‘iá»u kiá»‡n tranh cháº¥p
- **CÃ¢n báº±ng táº£i**: PhÃ¢n phá»‘i cÃ´ng viá»‡c hiá»‡u quáº£ trÃªn kháº£ nÄƒng xá»­ lÃ½ Ä‘á»“ng thá»i cÃ³ sáºµn
- **Kháº£ nÄƒng chá»‹u lá»—i**: Xá»­ lÃ½ lá»—i cá»§a tá»«ng tÃ¡c nhÃ¢n mÃ  khÃ´ng lÃ m giÃ¡n Ä‘oáº¡n toÃ n bá»™ quy trÃ¬nh lÃ m viá»‡c

### ğŸ¢ **á»¨ng dá»¥ng Ä‘á»“ng thá»i trong doanh nghiá»‡p**
- **Xá»­ lÃ½ tÃ i liá»‡u khá»‘i lÆ°á»£ng lá»›n**: Xá»­ lÃ½ nhiá»u tÃ i liá»‡u Ä‘á»“ng thá»i
- **PhÃ¢n tÃ­ch ná»™i dung thá»i gian thá»±c**: PhÃ¢n tÃ­ch Ä‘á»“ng thá»i cÃ¡c luá»“ng dá»¯ liá»‡u Ä‘áº¿n
- **Tá»‘i Æ°u hÃ³a xá»­ lÃ½ theo lÃ´**: Tá»‘i Ä‘a hÃ³a thÃ´ng lÆ°á»£ng cho cÃ¡c hoáº¡t Ä‘á»™ng xá»­ lÃ½ dá»¯ liá»‡u quy mÃ´ lá»›n
- **PhÃ¢n tÃ­ch Ä‘a phÆ°Æ¡ng thá»©c**: Xá»­ lÃ½ song song cÃ¡c loáº¡i ná»™i dung vÃ  Ä‘á»‹nh dáº¡ng khÃ¡c nhau

## âš™ï¸ YÃªu cáº§u & CÃ i Ä‘áº·t

### ğŸ“¦ **CÃ¡c gÃ³i NuGet cáº§n thiáº¿t**

CÃ¡c gÃ³i cáº§n thiáº¿t cho quy trÃ¬nh lÃ m viá»‡c Ä‘á»“ng thá»i hiá»‡u suáº¥t cao:

```xml
<!-- Core AI Framework with Async Support -->
<PackageReference Include="Microsoft.Extensions.AI" Version="9.9.0" />

<!-- Client Model Abstractions for API Communication -->
<PackageReference Include="System.ClientModel" Version="1.6.1.0" />

<!-- Azure Identity and Async LINQ for Advanced Operations -->
<PackageReference Include="Azure.Identity" Version="1.15.0" />
<PackageReference Include="System.Linq.Async" Version="6.0.3" />

<!-- Local Agent Framework References -->
<!-- Microsoft.Agents.AI.dll - Core agent abstractions with async support -->
<!-- Microsoft.Agents.AI.OpenAI.dll - GitHub Models integration with concurrency -->
```

### ğŸ”‘ **Cáº¥u hÃ¬nh mÃ´ hÃ¬nh GitHub**

**CÃ i Ä‘áº·t mÃ´i trÆ°á»ng (tá»‡p .env):**
```env
GITHUB_TOKEN=your_github_personal_access_token
GITHUB_ENDPOINT=https://models.inference.ai.azure.com
GITHUB_MODEL_ID=gpt-4o-mini
```

**CÃ¢n nháº¯c xá»­ lÃ½ Ä‘á»“ng thá»i:**
```csharp
// Configure for concurrent operations
var clientOptions = new OpenAIClientOptions()
{
    Endpoint = new Uri(githubEndpoint),
    // Configure connection pooling for concurrent requests
    NetworkTimeout = TimeSpan.FromMinutes(5)
};
```

### ğŸ—ï¸ **Kiáº¿n trÃºc quy trÃ¬nh lÃ m viá»‡c Ä‘á»“ng thá»i**

```mermaid
graph TD
    A[Workflow Input] --> B[Task Distribution]
    B --> C[Concurrent Agent Pool]
    C --> D[Agent Task 1]
    C --> E[Agent Task 2]
    C --> F[Agent Task 3]
    C --> G[Agent Task N]
    
    D --> H[Result Aggregation]
    E --> H
    F --> H
    G --> H
    
    H --> I[Synchronized Output]
    
    J[GitHub Models API] --> D
    J --> E
    J --> F
    J --> G
    
    K[.NET Task Scheduler] --> C
```

**CÃ¡c thÃ nh pháº§n chÃ­nh:**
- **ThÆ° viá»‡n TÃ¡c vá»¥ Song song**: Há»— trá»£ tÃ­ch há»£p cá»§a .NET cho cÃ¡c hoáº¡t Ä‘á»™ng Ä‘á»“ng thá»i
- **NhÃ³m tÃ¡c nhÃ¢n**: Nhiá»u phiÃªn báº£n tÃ¡c nhÃ¢n Ä‘á»ƒ xá»­ lÃ½ song song
- **Tá»•ng há»£p káº¿t quáº£**: Phá»‘i há»£p vÃ  há»£p nháº¥t káº¿t quáº£ cá»§a cÃ¡c tÃ¡c nhÃ¢n Ä‘á»“ng thá»i
- **Äiá»ƒm Ä‘á»“ng bá»™ hÃ³a**: Äáº£m báº£o tÃ­nh nháº¥t quÃ¡n dá»¯ liá»‡u trong cÃ¡c hoáº¡t Ä‘á»™ng Ä‘á»“ng thá»i

## ğŸ¨ **Máº«u thiáº¿t káº¿ quy trÃ¬nh lÃ m viá»‡c Ä‘á»“ng thá»i**

### ğŸ” **NghiÃªn cá»©u & phÃ¢n tÃ­ch song song**
```
Research Topic â†’ Concurrent Research Agents â†’ Result Synthesis â†’ Final Report
```

### ğŸ“Š **Xá»­ lÃ½ dá»¯ liá»‡u tá»« nhiá»u nguá»“n**
```
Data Sources â†’ Parallel Processing Agents â†’ Data Integration â†’ Unified Output
```

### ğŸ­ **Quy trÃ¬nh táº¡o ná»™i dung**
```
Content Requirements â†’ Concurrent Content Generators â†’ Quality Review â†’ Final Content
```

### ğŸ”„ **Xá»­ lÃ½ Fan-Out/Fan-In**
```
Single Input â†’ Multiple Concurrent Processors â†’ Result Aggregation â†’ Single Output
```

## ğŸ¢ **Lá»£i Ã­ch hiá»‡u suáº¥t trong doanh nghiá»‡p**

### âš¡ **ThÃ´ng lÆ°á»£ng & kháº£ nÄƒng má»Ÿ rá»™ng**
- **TÄƒng hiá»‡u suáº¥t tuyáº¿n tÃ­nh**: ThÃªm nhiá»u tÃ¡c nhÃ¢n Ä‘á»“ng thá»i Ä‘á»ƒ tÄƒng thÃ´ng lÆ°á»£ng
- **Sá»­ dá»¥ng tÃ i nguyÃªn**: Hiá»‡u quáº£ tá»‘i Ä‘a cá»§a kháº£ nÄƒng mÃ´ hÃ¬nh AI cÃ³ sáºµn
- **Giáº£m thá»i gian xá»­ lÃ½**: Giáº£m Ä‘Ã¡ng ká»ƒ thá»i gian thÃ´ng qua thá»±c thi song song
- **Má»Ÿ rá»™ng linh hoáº¡t**: Äiá»u chá»‰nh sá»‘ lÆ°á»£ng tÃ¡c nhÃ¢n Ä‘á»“ng thá»i dá»±a trÃªn khá»‘i lÆ°á»£ng cÃ´ng viá»‡c

### ğŸ›¡ï¸ **Äá»™ tin cáº­y & kháº£ nÄƒng phá»¥c há»“i**
- **CÃ¡ch ly lá»—i**: Lá»—i cá»§a tá»«ng tÃ¡c nhÃ¢n khÃ´ng áº£nh hÆ°á»Ÿng Ä‘áº¿n cÃ¡c hoáº¡t Ä‘á»™ng Ä‘á»“ng thá»i khÃ¡c
- **Suy giáº£m nháº¹ nhÃ ng**: Há»‡ thá»‘ng tiáº¿p tá»¥c hoáº¡t Ä‘á»™ng vá»›i kháº£ nÄƒng tÃ¡c nhÃ¢n giáº£m
- **KhÃ´i phá»¥c lá»—i**: CÆ¡ cháº¿ tá»± Ä‘á»™ng thá»­ láº¡i cho cÃ¡c hoáº¡t Ä‘á»™ng Ä‘á»“ng thá»i bá»‹ lá»—i
- **PhÃ¢n phá»‘i táº£i**: PhÃ¢n phá»‘i cÃ´ng viá»‡c Ä‘á»“ng Ä‘á»u trÃªn cÃ¡c tÃ¡c nhÃ¢n cÃ³ sáºµn

### ğŸ“Š **GiÃ¡m sÃ¡t hiá»‡u suáº¥t**
- **Chá»‰ sá»‘ thá»±c thi Ä‘á»“ng thá»i**: Theo dÃµi hiá»‡u suáº¥t cá»§a táº¥t cáº£ cÃ¡c hoáº¡t Ä‘á»™ng song song
- **PhÃ¢n tÃ­ch sá»­ dá»¥ng tÃ i nguyÃªn**: GiÃ¡m sÃ¡t CPU, bá»™ nhá»› vÃ  sá»­ dá»¥ng máº¡ng
- **PhÃ¢n tÃ­ch thÃ´ng lÆ°á»£ng**: Äo lÆ°á»ng hiá»‡u quáº£ Ä‘áº¡t Ä‘Æ°á»£c tá»« xá»­ lÃ½ Ä‘á»“ng thá»i
- **PhÃ¡t hiá»‡n nÃºt tháº¯t**: XÃ¡c Ä‘á»‹nh vÃ  giáº£i quyáº¿t cÃ¡c háº¡n cháº¿ vá» hiá»‡u suáº¥t

### ğŸ”§ **PhÃ¡t triá»ƒn & váº­n hÃ nh**
- **Máº«u láº­p trÃ¬nh Async**: Táº­n dá»¥ng cÃ¡c máº«u async/await trÆ°á»Ÿng thÃ nh cá»§a .NET
- **Phá»‘i há»£p tÃ¡c vá»¥**: Kháº£ nÄƒng quáº£n lÃ½ vÃ  phá»‘i há»£p tÃ¡c vá»¥ tÃ­ch há»£p
- **Xá»­ lÃ½ ngoáº¡i lá»‡**: Xá»­ lÃ½ lá»—i toÃ n diá»‡n cho cÃ¡c hoáº¡t Ä‘á»™ng Ä‘á»“ng thá»i
- **Há»— trá»£ gá»¡ lá»—i**: CÃ´ng cá»¥ gá»¡ lá»—i cá»§a Visual Studio cho cÃ¡c quy trÃ¬nh lÃ m viá»‡c Ä‘á»“ng thá»i

HÃ£y xÃ¢y dá»±ng cÃ¡c quy trÃ¬nh lÃ m viá»‡c AI Ä‘á»“ng thá»i hiá»‡u suáº¥t cao vá»›i .NET! ğŸš€

## ğŸ’» Cháº¡y mÃ£

Triá»ƒn khai Ä‘áº§y Ä‘á»§ cÃ³ sáºµn trong `03.dotnet-agent-framework-workflow-ghmodel-concurrent.cs`. Tá»‡p nÃ y trÃ¬nh bÃ y má»™t **quy trÃ¬nh lÃ m viá»‡c Fan-Out/Fan-In Ä‘á»“ng thá»i** cho viá»‡c láº­p káº¿ hoáº¡ch du lá»‹ch:

### ğŸ—ï¸ **Kiáº¿n trÃºc quy trÃ¬nh lÃ m viá»‡c**

```
User Request â†’ ConcurrentStartExecutor â†’ [Researcher Agent || Planner Agent] â†’ ConcurrentAggregationExecutor â†’ Final Output
```

**CÃ¡c thÃ nh pháº§n chÃ­nh:**

1. **ConcurrentStartExecutor**: PhÃ¡t yÃªu cáº§u cá»§a ngÆ°á»i dÃ¹ng Ä‘áº¿n táº¥t cáº£ cÃ¡c tÃ¡c nhÃ¢n Ä‘á»“ng thá»i
2. **Researcher Agent**: PhÃ¢n tÃ­ch cÃ¡c Ä‘iá»ƒm Ä‘áº¿n vÃ  Ä‘iá»ƒm tham quan Ä‘á»“ng thá»i
3. **Planner Agent**: Táº¡o káº¿ hoáº¡ch du lá»‹ch chi tiáº¿t Ä‘á»“ng thá»i
4. **ConcurrentAggregationExecutor**: Thu tháº­p vÃ  há»£p nháº¥t káº¿t quáº£ tá»« cáº£ hai tÃ¡c nhÃ¢n

### ğŸ¯ **Máº«u Fan-Out/Fan-In**

Quy trÃ¬nh lÃ m viá»‡c nÃ y trÃ¬nh bÃ y máº«u **Fan-Out/Fan-In** cá»• Ä‘iá»ƒn:
- **Fan-Out**: Má»™t thÃ´ng Ä‘iá»‡p Ä‘áº§u vÃ o Ä‘Æ°á»£c phÃ¡t Ä‘áº¿n nhiá»u tÃ¡c nhÃ¢n Ä‘á»“ng thá»i
- **Xá»­ lÃ½ Ä‘á»“ng thá»i**: Nhiá»u tÃ¡c nhÃ¢n lÃ m viá»‡c song song trÃªn cÃ¹ng má»™t nhiá»‡m vá»¥
- **Fan-In**: Káº¿t quáº£ tá»« táº¥t cáº£ cÃ¡c tÃ¡c nhÃ¢n Ä‘Æ°á»£c thu tháº­p vÃ  há»£p nháº¥t thÃ nh má»™t Ä‘áº§u ra duy nháº¥t

### ğŸš€ Cháº¡y vÃ­ dá»¥

```bash
# Make the script executable (Unix/Linux/macOS)
chmod +x 03.dotnet-agent-framework-workflow-ghmodel-concurrent.cs

# Run the concurrent workflow
./03.dotnet-agent-framework-workflow-ghmodel-concurrent.cs
```

Hoáº·c trÃªn Windows:
```powershell
dotnet run 03.dotnet-agent-framework-workflow-ghmodel-concurrent.cs
```

### ğŸ“ Káº¿t quáº£ mong Ä‘á»£i

Quy trÃ¬nh lÃ m viá»‡c sáº½:
1. **PhÃ¡t yÃªu cáº§u**: Gá»­i "Láº­p káº¿ hoáº¡ch chuyáº¿n Ä‘i Ä‘áº¿n Seattle vÃ o thÃ¡ng 12" Ä‘áº¿n cáº£ hai tÃ¡c nhÃ¢n
2. **Xá»­ lÃ½ Ä‘á»“ng thá»i**: Cáº£ hai tÃ¡c nhÃ¢n lÃ m viá»‡c Ä‘á»“ng thá»i:
   - Researcher xÃ¡c Ä‘á»‹nh cÃ¡c Ä‘iá»ƒm tham quan vÃ  chi tiáº¿t
   - Planner táº¡o lá»‹ch trÃ¬nh vÃ  háº­u cáº§n
3. **Tá»•ng há»£p**: Káº¿t há»£p cáº£ hai pháº£n há»“i thÃ nh Ä‘áº§u ra toÃ n diá»‡n
4. **Hiá»ƒn thá»‹ káº¿t quáº£**: Hiá»ƒn thá»‹ káº¿ hoáº¡ch du lá»‹ch Ä‘Ã£ há»£p nháº¥t vá»›i táº¥t cáº£ thÃ´ng tin

### ğŸ”§ TÃ¹y chá»n tÃ¹y chá»‰nh

**ThÃªm nhiá»u tÃ¡c nhÃ¢n Ä‘á»“ng thá»i:**
```csharp
// Create additional specialized agents
AIAgent budgetAgent = openAIClient.GetChatClient(github_model_id).CreateAIAgent(
    name: "Budget-Agent", instructions: "Calculate travel costs...");

// Add to fan-out
var workflow = new WorkflowBuilder(startExecutor)
    .AddFanOutEdge(startExecutor, targets: [researcherAgent, plannerAgent, budgetAgent])
    .AddFanInEdge(aggregationExecutor, sources: [researcherAgent, plannerAgent, budgetAgent])
    .WithOutputFrom(aggregationExecutor)
    .Build();

// Update aggregation count
if (this._messages.Count == 3) { ... }
```

**Sá»­a Ä‘á»•i hÆ°á»›ng dáº«n cho tÃ¡c nhÃ¢n:**
```csharp
const string ResearcherAgentInstructions = "Your custom instructions for research...";
const string PlanAgentInstructions = "Your custom instructions for planning...";
```

**Thay Ä‘á»•i nhiá»‡m vá»¥:**
```csharp
StreamingRun run = await InProcessExecution.StreamAsync(
    workflow, 
    "Plan a European vacation for 2 weeks in summer"
);
```

### ğŸ¯ á»¨ng dá»¥ng thá»±c táº¿

Máº«u Ä‘á»“ng thá»i nÃ y lÃ½ tÆ°á»Ÿng cho:
- **Táº¡o ná»™i dung**: Nhiá»u ngÆ°á»i viáº¿t táº¡o cÃ¡c pháº§n khÃ¡c nhau Ä‘á»“ng thá»i
- **Kiá»ƒm tra mÃ£**: Nhiá»u ngÆ°á»i kiá»ƒm tra phÃ¢n tÃ­ch mÃ£ tá»« cÃ¡c gÃ³c nhÃ¬n khÃ¡c nhau
- **NghiÃªn cá»©u thá»‹ trÆ°á»ng**: PhÃ¢n tÃ­ch song song cÃ¡c phÃ¢n khÃºc thá»‹ trÆ°á»ng khÃ¡c nhau
- **Xá»­ lÃ½ tÃ i liá»‡u**: TrÃ­ch xuáº¥t, phÃ¢n tÃ­ch vÃ  xÃ¡c thá»±c Ä‘á»“ng thá»i
- **PhÃ¢n tÃ­ch Ä‘a gÃ³c nhÃ¬n**: Nháº­n cÃ¡c quan Ä‘iá»ƒm Ä‘a dáº¡ng vá» cÃ¹ng má»™t Ä‘áº§u vÃ o

### ğŸ” Hiá»ƒu cÃ¡c bá»™ thá»±c thi tÃ¹y chá»‰nh

**ConcurrentStartExecutor:**
- Triá»ƒn khai `IMessageHandler<string>` Ä‘á»ƒ cháº¥p nháº­n Ä‘áº§u vÃ o dáº¡ng chuá»—i
- PhÃ¡t thÃ´ng Ä‘iá»‡p Ä‘áº¿n táº¥t cáº£ cÃ¡c tÃ¡c nhÃ¢n Ä‘Æ°á»£c káº¿t ná»‘i
- Gá»­i `TurnToken` Ä‘á»ƒ kÃ­ch hoáº¡t xá»­ lÃ½ Ä‘á»“ng thá»i

**ConcurrentAggregationExecutor:**
- Triá»ƒn khai `IMessageHandler<ChatMessage>` Ä‘á»ƒ nháº­n pháº£n há»“i tá»« tÃ¡c nhÃ¢n
- Thu tháº­p thÃ´ng Ä‘iá»‡p má»™t cÃ¡ch an toÃ n trong mÃ´i trÆ°á»ng Ä‘a luá»“ng
- Tá»•ng há»£p khi táº¥t cáº£ cÃ¡c pháº£n há»“i mong Ä‘á»£i Ä‘Ã£ Ä‘áº¿n
- Cung cáº¥p Ä‘áº§u ra cuá»‘i cÃ¹ng báº±ng `context.YieldOutputAsync()`

### âš¡ Lá»£i Ã­ch hiá»‡u suáº¥t

**Äá»“ng thá»i vs Tuáº§n tá»±:**
- Tuáº§n tá»±: Agent1 (30s) â†’ Agent2 (30s) = **60 giÃ¢y tá»•ng cá»™ng**
- Äá»“ng thá»i: Agent1 (30s) || Agent2 (30s) = **30 giÃ¢y tá»•ng cá»™ng**

**Cáº£i thiá»‡n thÃ´ng lÆ°á»£ng**: Nhanh hÆ¡n Ä‘áº¿n NÃ— cho N tÃ¡c nhÃ¢n Ä‘á»“ng thá»i (tÃ¹y thuá»™c vÃ o khá»‘i lÆ°á»£ng cÃ´ng viá»‡c vÃ  tÃ i nguyÃªn)

### ğŸ›¡ï¸ Xá»­ lÃ½ lá»—i

Quy trÃ¬nh lÃ m viá»‡c xá»­ lÃ½ lá»—i cá»§a tá»«ng tÃ¡c nhÃ¢n má»™t cÃ¡ch nháº¹ nhÃ ng:
- Náº¿u má»™t tÃ¡c nhÃ¢n tháº¥t báº¡i, cÃ¡c tÃ¡c nhÃ¢n khÃ¡c váº«n tiáº¿p tá»¥c xá»­ lÃ½
- Bá»™ tá»•ng há»£p cÃ³ thá»ƒ triá»ƒn khai logic timeout
- Káº¿t quáº£ má»™t pháº§n cÃ³ thá»ƒ Ä‘Æ°á»£c tráº£ vá» náº¿u cáº§n

### ğŸ“Š TÃ­nh nÄƒng nÃ¢ng cao

**Sá»‘ lÆ°á»£ng tÃ¡c nhÃ¢n Ä‘á»™ng:**
Sá»­a Ä‘á»•i logic tá»•ng há»£p Ä‘á»ƒ há»— trá»£ sá»‘ lÆ°á»£ng tÃ¡c nhÃ¢n thay Ä‘á»•i:

```csharp
private int _expectedAgentCount;
private readonly List<ChatMessage> _messages = [];

public async ValueTask HandleAsync(ChatMessage message, IWorkflowContext context)
{
    this._messages.Add(message);
    if (this._messages.Count == _expectedAgentCount)
    {
        // Process aggregation
    }
}
```

Máº«u quy trÃ¬nh lÃ m viá»‡c Ä‘á»“ng thá»i nÃ y lÃ  thiáº¿t yáº¿u Ä‘á»ƒ xÃ¢y dá»±ng cÃ¡c há»‡ thá»‘ng tÃ¡c nhÃ¢n AI hiá»‡u suáº¥t cao, cÃ³ kháº£ nÄƒng má»Ÿ rá»™ng!

---

<!-- CO-OP TRANSLATOR DISCLAIMER START -->
**TuyÃªn bá»‘ miá»…n trá»« trÃ¡ch nhiá»‡m**:  
TÃ i liá»‡u nÃ y Ä‘Ã£ Ä‘Æ°á»£c dá»‹ch báº±ng dá»‹ch vá»¥ dá»‹ch thuáº­t AI [Co-op Translator](https://github.com/Azure/co-op-translator). Máº·c dÃ¹ chÃºng tÃ´i cá»‘ gáº¯ng Ä‘áº£m báº£o Ä‘á»™ chÃ­nh xÃ¡c, xin lÆ°u Ã½ ráº±ng cÃ¡c báº£n dá»‹ch tá»± Ä‘á»™ng cÃ³ thá»ƒ chá»©a lá»—i hoáº·c khÃ´ng chÃ­nh xÃ¡c. TÃ i liá»‡u gá»‘c báº±ng ngÃ´n ngá»¯ báº£n Ä‘á»‹a nÃªn Ä‘Æ°á»£c coi lÃ  nguá»“n thÃ´ng tin chÃ­nh thá»©c. Äá»‘i vá»›i thÃ´ng tin quan trá»ng, khuyáº¿n nghá»‹ sá»­ dá»¥ng dá»‹ch vá»¥ dá»‹ch thuáº­t chuyÃªn nghiá»‡p bá»Ÿi con ngÆ°á»i. ChÃºng tÃ´i khÃ´ng chá»‹u trÃ¡ch nhiá»‡m vá» báº¥t ká»³ sá»± hiá»ƒu láº§m hoáº·c diá»…n giáº£i sai nÃ o phÃ¡t sinh tá»« viá»‡c sá»­ dá»¥ng báº£n dá»‹ch nÃ y.
<!-- CO-OP TRANSLATOR DISCLAIMER END -->