<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "1be9c8dcbd79a02d33d2c138684c1394",
  "translation_date": "2025-11-11T13:49:48+00:00",
  "source_file": "08-multi-agent/code_samples/workflows-agent-framework/dotNET/02.dotnet-agent-framework-workflow-ghmodel-sequential.md",
  "language_code": "pt"
}
-->
# â© Fluxos de Trabalho Sequenciais com Modelos GitHub (.NET)

## ğŸ“‹ Tutorial AvanÃ§ado de Processamento Sequencial

Este notebook demonstra **padrÃµes de fluxos de trabalho sequenciais** utilizando o Microsoft Agent Framework para .NET e Modelos GitHub. AprenderÃ¡ a construir pipelines de processamento sofisticados, passo a passo, onde os agentes executam numa ordem especÃ­fica, com cada etapa baseando-se nos resultados da etapa anterior.

## ğŸ¯ Objetivos de Aprendizagem

### ğŸ”„ **Arquitetura de Processamento Sequencial**
- **Design de Fluxo de Trabalho Linear**: Criar pipelines de processamento passo a passo com dependÃªncias claras
- **GestÃ£o de Estado**: Manter o contexto e o fluxo de dados entre as etapas do fluxo de trabalho sequencial
- **IntegraÃ§Ã£o com Modelos GitHub**: Utilizar os modelos de IA do GitHub em fluxos de trabalho .NET multi-etapas
- **PadrÃµes de Pipeline Empresarial**: Construir sistemas de processamento sequencial prontos para produÃ§Ã£o

### ğŸ—ï¸ **PadrÃµes AvanÃ§ados de SequÃªncia**
- **Processamento em Etapas**: Implementar pontos de validaÃ§Ã£o entre as etapas do fluxo de trabalho
- **PreservaÃ§Ã£o de Contexto**: Manter o estado e o conhecimento acumulado em todas as etapas
- **PropagaÃ§Ã£o de Erros**: Lidar com falhas de forma eficiente em cadeias de processamento sequenciais
- **OtimizaÃ§Ã£o de Desempenho**: ExecuÃ§Ã£o sequencial eficiente com o mÃ­nimo de sobrecarga

### ğŸ¢ **AplicaÃ§Ãµes Sequenciais Empresariais**
- **Pipeline de Processamento de Documentos**: AnÃ¡lise, transformaÃ§Ã£o e validaÃ§Ã£o de documentos em vÃ¡rias etapas
- **Fluxos de Trabalho de Garantia de Qualidade**: RevisÃ£o, validaÃ§Ã£o e processos de aprovaÃ§Ã£o sequenciais
- **Pipeline de ProduÃ§Ã£o de ConteÃºdo**: Pesquisa â†’ Escrita â†’ EdiÃ§Ã£o â†’ RevisÃ£o â†’ PublicaÃ§Ã£o
- **AutomaÃ§Ã£o de Processos Empresariais**: Fluxos de trabalho empresariais multi-etapas com dependÃªncias claras entre etapas

## âš™ï¸ PrÃ©-requisitos e ConfiguraÃ§Ã£o

### ğŸ“¦ **Pacotes NuGet NecessÃ¡rios**

Pacotes essenciais para fluxos de trabalho sequenciais em .NET:

```xml
<!-- Core AI Framework -->
<PackageReference Include="Microsoft.Extensions.AI" Version="9.9.0" />

<!-- Client Model Abstractions -->
<PackageReference Include="System.ClientModel" Version="1.6.1.0" />

<!-- Azure Identity and Async LINQ Support -->
<PackageReference Include="Azure.Identity" Version="1.15.0" />
<PackageReference Include="System.Linq.Async" Version="6.0.3" />

<!-- Local Agent Framework References -->
<!-- Microsoft.Agents.AI.dll - Core agent abstractions -->
<!-- Microsoft.Agents.AI.OpenAI.dll - GitHub Models integration -->
```

### ğŸ”‘ **ConfiguraÃ§Ã£o dos Modelos GitHub**

**ConfiguraÃ§Ã£o do Ambiente (.env file):**
```env
GITHUB_TOKEN=your_github_personal_access_token
GITHUB_ENDPOINT=https://models.inference.ai.azure.com
GITHUB_MODEL_ID=gpt-4o-mini
```

**GestÃ£o de ConfiguraÃ§Ã£o:**
```csharp
// Load environment variables securely
Env.Load("../../../.env");
var githubToken = Environment.GetEnvironmentVariable("GITHUB_TOKEN");
var githubEndpoint = Environment.GetEnvironmentVariable("GITHUB_ENDPOINT");
var modelId = Environment.GetEnvironmentVariable("GITHUB_MODEL_ID");
```

### ğŸ—ï¸ **Arquitetura de Fluxo de Trabalho Sequencial**

```mermaid
graph TD
    A[Initial Input] --> B[Stage 1: Analysis Agent]
    B --> C[Checkpoint 1]
    C --> D[Stage 2: Processing Agent]
    D --> E[Checkpoint 2]
    E --> F[Stage 3: Validation Agent]
    F --> G[Final Output]
    
    H[State Context] --> B
    H --> D
    H --> F
    
    I[GitHub Models API] --> B
    I --> D
    I --> F
```

**Componentes Principais:**
- **Agentes Sequenciais**: Agentes especializados para cada etapa de processamento
- **Contexto de Estado**: MantÃ©m os dados acumulados e decisÃµes entre as etapas
- **Pontos de VerificaÃ§Ã£o**: Pontos de validaÃ§Ã£o entre etapas para garantir qualidade e consistÃªncia
- **Cliente de Modelos GitHub**: Acesso consistente aos modelos de IA em todas as etapas do fluxo de trabalho

## ğŸ¨ **PadrÃµes de Design de Fluxo de Trabalho Sequencial**

### ğŸ“ **Pipeline de Processamento de Documentos**
```
Raw Document â†’ Content Extraction â†’ Analysis â†’ Validation â†’ Structured Output
```

### ğŸ¯ **Fluxo de Trabalho de CriaÃ§Ã£o de ConteÃºdo**
```
Brief/Requirements â†’ Research â†’ Content Creation â†’ Review â†’ Final Polish
```

### ğŸ” **Pipeline de Garantia de Qualidade**
```
Initial Review â†’ Technical Validation â†’ Compliance Check â†’ Final Approval
```

### ğŸ’¼ **Fluxo de Trabalho de InteligÃªncia Empresarial**
```
Data Collection â†’ Processing â†’ Analysis â†’ Report Generation â†’ Distribution
```

## ğŸ¢ **BenefÃ­cios Sequenciais Empresariais**

### ğŸ¯ **Confiabilidade e Qualidade**
- **Processamento DeterminÃ­stico**: Resultados consistentes e repetÃ­veis atravÃ©s de etapas estruturadas
- **Portas de Qualidade**: Pontos de validaÃ§Ã£o garantem qualidade em cada etapa
- **Isolamento de Erros**: Problemas numa etapa nÃ£o se propagam para etapas subsequentes
- **Rastreabilidade**: Registo completo de decisÃµes e transformaÃ§Ãµes em cada etapa

### ğŸ“ˆ **Escalabilidade e Desempenho**
- **Design Modular**: Cada etapa pode ser otimizada de forma independente
- **GestÃ£o de Recursos**: AlocaÃ§Ã£o eficiente de recursos de modelos de IA entre etapas
- **OtimizaÃ§Ã£o de Estado**: TransferÃªncia mÃ­nima de estado entre etapas para desempenho ideal
- **Grupos de Etapas Paralelas**: MÃºltiplos fluxos de trabalho sequenciais podem ser executados em paralelo

### ğŸ”’ **SeguranÃ§a e Conformidade**
- **SeguranÃ§a por Etapa**: PolÃ­ticas de seguranÃ§a diferentes para diferentes etapas de processamento
- **ValidaÃ§Ã£o de Dados**: Garantir integridade e conformidade dos dados em cada ponto de verificaÃ§Ã£o
- **Controlo de Acesso**: PermissÃµes granulares para diferentes etapas do fluxo de trabalho
- **Conformidade Regulamentar**: Cumprir requisitos regulatÃ³rios atravÃ©s de processamento estruturado

### ğŸ“Š **MonitorizaÃ§Ã£o e AnÃ¡lise**
- **MÃ©tricas por Etapa**: MonitorizaÃ§Ã£o de desempenho para cada etapa do fluxo de trabalho
- **IdentificaÃ§Ã£o de Gargalos**: Identificar e otimizar etapas lentas
- **MÃ©tricas de Qualidade**: Acompanhar qualidade e taxas de sucesso em cada etapa
- **OtimizaÃ§Ã£o de Processos**: Melhoria contÃ­nua baseada em anÃ¡lises por etapa

Vamos construir pipelines robustos de processamento de IA sequencial! ğŸš€

## ğŸ’» Executando o CÃ³digo

A implementaÃ§Ã£o completa estÃ¡ disponÃ­vel em `02.dotnet-agent-framework-workflow-ghmodel-sequential.cs`. Este ficheiro demonstra um **fluxo de trabalho de anÃ¡lise de mÃ³veis em trÃªs etapas**:

1. **Etapa 1 - Agente de Vendas**: Analisa imagens de mÃ³veis e fornece sugestÃµes de compra
2. **Etapa 2 - Agente de PreÃ§os**: Fornece anÃ¡lises detalhadas de preÃ§os e opÃ§Ãµes de orÃ§amento
3. **Etapa 3 - Agente de OrÃ§amento**: Gera um documento de orÃ§amento profissional em formato Markdown

### ğŸ—ï¸ **Arquitetura do Fluxo de Trabalho**

```
Image Input â†’ Sales Analysis â†’ Price Estimation â†’ Quote Generation â†’ Final Output
```

Cada agente:
- Recebe o resultado da etapa anterior como contexto
- Baseia-se na anÃ¡lise anterior com especializaÃ§Ã£o especÃ­fica
- MantÃ©m a continuidade do fluxo de trabalho atravÃ©s da gestÃ£o de estado

### ğŸš€ Executando o Exemplo

**PrÃ©-requisitos:**
- Coloque uma imagem de mÃ³veis em `../imgs/home.png` (ou atualize a variÃ¡vel `imgPath`)
- Configure o seu ficheiro `.env` com as credenciais dos Modelos GitHub

```bash
# Make the script executable (Unix/Linux/macOS)
chmod +x 02.dotnet-agent-framework-workflow-ghmodel-sequential.cs

# Run the sequential workflow
./02.dotnet-agent-framework-workflow-ghmodel-sequential.cs
```

Ou no Windows:
```powershell
dotnet run 02.dotnet-agent-framework-workflow-ghmodel-sequential.cs
```

### ğŸ“ Resultado Esperado

O fluxo de trabalho irÃ¡:
1. **Agente de Vendas**: Identificar itens de mÃ³veis na imagem e fornecer recomendaÃ§Ãµes
2. **Agente de PreÃ§os**: Adicionar anÃ¡lise detalhada de preÃ§os com nÃ­veis de orÃ§amento e recomendaÃ§Ãµes de compra
3. **Agente de OrÃ§amento**: Gerar um documento de orÃ§amento formatado com todas as informaÃ§Ãµes sintetizadas

O resultado final serÃ¡ um orÃ§amento de mÃ³veis abrangente e profissional baseado na anÃ¡lise da imagem.

### ğŸ”§ OpÃ§Ãµes de PersonalizaÃ§Ã£o

**Modificar Comportamento do Agente:**
```csharp
// Adjust agent instructions to change their focus
const string SalesAgentInstructions = "Your custom instructions...";
```

**Alterar Fluxo Sequencial:**
```csharp
// Add or reorder workflow stages
var workflow = new WorkflowBuilder(salesagent)
    .AddEdge(salesagent, priceagent)
    .AddEdge(priceagent, quoteagent)
    .AddEdge(quoteagent, newAgent)  // Add another stage
    .Build();
```

**Usar Entrada Diferente:**
```csharp
// Process text instead of images
ChatMessage userMessage = new ChatMessage(ChatRole.User, [
    new TextContent("Analyze pricing for a modern living room set")
]);
```

### ğŸ¯ AplicaÃ§Ãµes Reais

Este padrÃ£o sequencial Ã© ideal para:
- **E-commerce**: AnÃ¡lise de produtos â†’ PreÃ§os â†’ GeraÃ§Ã£o de orÃ§amento
- **ImobiliÃ¡rio**: AnÃ¡lise de propriedades â†’ AvaliaÃ§Ã£o â†’ CriaÃ§Ã£o de listagem
- **Seguros**: AnÃ¡lise de sinistros â†’ AvaliaÃ§Ã£o â†’ GeraÃ§Ã£o de orÃ§amento
- **CriaÃ§Ã£o de ConteÃºdo**: Pesquisa â†’ Escrita â†’ EdiÃ§Ã£o â†’ PublicaÃ§Ã£o

### ğŸ” Compreendendo o Fluxo de Estado

Cada agente na sequÃªncia recebe:
- **Entrada Original**: A mensagem inicial do utilizador (imagem + texto)
- **SaÃ­das dos Agentes Anteriores**: Todas as respostas anteriores dos agentes no histÃ³rico da conversa
- **Contexto Acumulado**: Estado completo mantido ao longo do fluxo de trabalho

Isso permite um processamento sofisticado em vÃ¡rias etapas, onde cada agente se baseia num contexto abrangente de todas as etapas anteriores.

---

<!-- CO-OP TRANSLATOR DISCLAIMER START -->
**Aviso**:  
Este documento foi traduzido utilizando o serviÃ§o de traduÃ§Ã£o por IA [Co-op Translator](https://github.com/Azure/co-op-translator). Embora nos esforcemos pela precisÃ£o, esteja ciente de que traduÃ§Ãµes automÃ¡ticas podem conter erros ou imprecisÃµes. O documento original na sua lÃ­ngua nativa deve ser considerado a fonte autoritÃ¡ria. Para informaÃ§Ãµes crÃ­ticas, recomenda-se uma traduÃ§Ã£o profissional realizada por humanos. NÃ£o nos responsabilizamos por quaisquer mal-entendidos ou interpretaÃ§Ãµes incorretas decorrentes do uso desta traduÃ§Ã£o.
<!-- CO-OP TRANSLATOR DISCLAIMER END -->