<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "b9c6e32c9b5f2fed20b6916984440d88",
  "translation_date": "2025-11-11T13:14:35+00:00",
  "source_file": "08-multi-agent/code_samples/workflows-agent-framework/dotNET/03.dotnet-agent-framework-workflow-ghmodel-concurrent.md",
  "language_code": "ne"
}
-->
# тЪб GitHub рдореЛрдбреЗрд▓рд╣рд░реВрд╕рдБрдЧ рд╕рдорд╡рд░реНрддреА рдПрдЬреЗрдиреНрдЯ рд╡рд░реНрдХрдлреНрд▓реЛ (.NET)

## ЁЯУЛ рдЙрдЪреНрдЪ рдкреНрд░рджрд░реНрд╢рди рд╕рдорд╛рдирд╛рдиреНрддрд░ рдкреНрд░рд╢реЛрдзрди рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓

рдпреЛ рдиреЛрдЯрдмреБрдХрд▓реЗ **рд╕рдорд╡рд░реНрддреА рд╡рд░реНрдХрдлреНрд▓реЛ рдврд╛рдБрдЪрд╛рд╣рд░реВ** рдкреНрд░рджрд░реНрд╢рди рдЧрд░реНрджрдЫ, Microsoft Agent Framework for .NET рд░ GitHub рдореЛрдбреЗрд▓рд╣рд░реВ рдкреНрд░рдпреЛрдЧ рдЧрд░реЗрд░ред рддрдкрд╛рдИрдВрд▓реЗ рдзреЗрд░реИ AI рдПрдЬреЗрдиреНрдЯрд╣рд░реВ рдПрдХрд╕рд╛рде рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдЧрд░реЗрд░ throughput рдЕрдзрд┐рдХрддрдо рдмрдирд╛рдЙрдиреЗ рдЙрдЪреНрдЪ рдкреНрд░рджрд░реНрд╢рди, рд╕рдорд╛рдирд╛рдиреНрддрд░ рдкреНрд░рд╢реЛрдзрди рд╡рд░реНрдХрдлреНрд▓реЛ рдирд┐рд░реНрдорд╛рдг рдЧрд░реНрди рд╕рд┐рдХреНрдиреБрд╣реБрдиреЗрдЫ, рдЬрдмрдХрд┐ рд╕рдордиреНрд╡рдп рд░ рдбрд╛рдЯрд╛ рд╕реНрдерд┐рд░рддрд╛ рдХрд╛рдпрдо рд░рд╛рдЦреНрджреИред

## ЁЯОп рд╕рд┐рдХреНрдиреЗ рдЙрджреНрджреЗрд╢реНрдпрд╣рд░реВ

### ЁЯЪА **рд╕рдорд╡рд░реНрддреА рдкреНрд░рд╢реЛрдзрдирдХреЛ рдЖрдзрд╛рд░рднреВрдд рдХреБрд░рд╛**
- **рд╕рдорд╡рд░реНрддреА рдПрдЬреЗрдиреНрдЯ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди**: рдЕрдзрд┐рдХрддрдо рдкреНрд░рджрд░реНрд╢рдирдХреЛ рд▓рд╛рдЧрд┐ рдзреЗрд░реИ AI рдПрдЬреЗрдиреНрдЯрд╣рд░реВ рдПрдХрд╕рд╛рде рдЪрд▓рд╛рдЙрдиреБрд╣реЛрд╕реН
- **Async/Await рдврд╛рдБрдЪрд╛рд╣рд░реВ**: .NET рдХреЛ async рдкреНрд░реЛрдЧреНрд░рд╛рдорд┐рдЩ рдореЛрдбреЗрд▓рд▓рд╛рдИ рдХреБрд╢рд▓ рд╕рдорд╡рд░реНрддреАрддрд╛ рд▓рд╛рдЧрд┐ рдкреНрд░рдпреЛрдЧ рдЧрд░реНрдиреБрд╣реЛрд╕реН
- **GitHub рдореЛрдбреЗрд▓рд╣рд░реВрдХреЛ рдПрдХреАрдХрд░рдг**: GitHub рдХреЛ AI рдореЛрдбреЗрд▓ рдЗрдирдлрд░реЗрдиреНрд╕ рд╕реЗрд╡рд╛рдорд╛ рдзреЗрд░реИ рд╕рдорд╡рд░реНрддреА рдХрд▓рд╣рд░реВ рд╕рдордиреНрд╡рдп рдЧрд░реНрдиреБрд╣реЛрд╕реН
- **рд╕реНрд░реЛрдд рд╡реНрдпрд╡рд╕реНрдерд╛рдкрди**: рд╕рдорд╡рд░реНрддреА рдХрд╛рд░реНрдпрд╣рд░реВрдорд╛ AI рдореЛрдбреЗрд▓ рд╕реНрд░реЛрддрд╣рд░реВ рдХреБрд╢рд▓рддрд╛рдкреВрд░реНрд╡рдХ рд╡реНрдпрд╡рд╕реНрдерд╛рдкрди рдЧрд░реНрдиреБрд╣реЛрд╕реН

### ЁЯПЧя╕П **рдЙрдиреНрдирдд рд╕рдорд╡рд░реНрддреА рд╡рд╛рд╕реНрддреБрдХрд▓рд╛**
- **рдЯрд╛рд╕реНрдХ-рдЖрдзрд╛рд░рд┐рдд рд╕рдорд╛рдирд╛рдиреНрддрд░рддрд╛**: .NET Task Parallel Library рдкреНрд░рдпреЛрдЧ рдЧрд░реЗрд░ рдЗрд╖реНрдЯрддрдо рд╕рдорд╡рд░реНрддреА рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдЧрд░реНрдиреБрд╣реЛрд╕реН
- **рд╕рдордиреНрд╡рдп рдврд╛рдБрдЪрд╛рд╣рд░реВ**: рд╕рдорд╡рд░реНрддреА рдПрдЬреЗрдиреНрдЯрд╣рд░реВ рд╕рдордиреНрд╡рдп рдЧрд░реНрдиреБрд╣реЛрд╕реН рдЬрдмрдХрд┐ рд░реЗрд╕ рдХрдиреНрдбрд┐рд╕рдирд╣рд░реВ рдЯрд╛рд▓реНрдиреБрд╣реЛрд╕реН
- **рд▓реЛрдб рдмреНрдпрд╛рд▓реЗрдиреНрд╕рд┐рдЩ**: рдЙрдкрд▓рдмреНрдз рд╕рдорд╡рд░реНрддреА рдкреНрд░рд╢реЛрдзрди рдХреНрд╖рдорддрд╛ рднрд░ рдХрд╛рдо рдХреБрд╢рд▓рддрд╛рдкреВрд░реНрд╡рдХ рд╡рд┐рддрд░рдг рдЧрд░реНрдиреБрд╣реЛрд╕реН
- **рдлреЙрд▓реНрдЯ рдЯреЛрд▓рд░реЗрдиреНрд╕**: рд╕рдореНрдкреВрд░реНрдг рд╡рд░реНрдХрдлреНрд▓реЛ рд░реЛрдХреНрди рдмрд┐рдирд╛ рд╡реНрдпрдХреНрддрд┐рдЧрдд рдПрдЬреЗрдиреНрдЯ рдЕрд╕рдлрд▓рддрд╛рд╣рд░реВ рд╣реНрдпрд╛рдиреНрдбрд▓ рдЧрд░реНрдиреБрд╣реЛрд╕реН

### ЁЯПв **рдЙрджреНрдпрдо рд╕рдорд╡рд░реНрддреА рдЕрдиреБрдкреНрд░рдпреЛрдЧрд╣рд░реВ**
- **рдЙрдЪреНрдЪ-рднреЛрд▓реНрдпреБрдо рджрд╕реНрддрд╛рд╡реЗрдЬ рдкреНрд░рд╢реЛрдзрди**: рдзреЗрд░реИ рджрд╕реНрддрд╛рд╡реЗрдЬрд╣рд░реВ рдПрдХрд╕рд╛рде рдкреНрд░рд╢реЛрдзрди рдЧрд░реНрдиреБрд╣реЛрд╕реН
- **рд░рд┐рдпрд▓-рдЯрд╛рдЗрдо рд╕рд╛рдордЧреНрд░реА рд╡рд┐рд╢реНрд▓реЗрд╖рдг**: рдЖрдЙрдиреЗ рдбрд╛рдЯрд╛ рд╕реНрдЯреНрд░рд┐рдорд╣рд░реВрдХреЛ рд╕рдорд╡рд░реНрддреА рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдЧрд░реНрдиреБрд╣реЛрд╕реН
- **рдмреНрдпрд╛рдЪ рдкреНрд░рд╢реЛрдзрди рдЕрдиреБрдХреВрд▓рди**: рдареВрд▓реЛ-рд╕реНрддрд░рдХреЛ рдбрд╛рдЯрд╛ рдкреНрд░рд╢реЛрдзрди рдХрд╛рд░реНрдпрд╣рд░реВрдХреЛ throughput рдЕрдзрд┐рдХрддрдо рдЧрд░реНрдиреБрд╣реЛрд╕реН
- **рдорд▓реНрдЯреА-рдореЛрдбрд▓ рд╡рд┐рд╢реНрд▓реЗрд╖рдг**: рд╡рд┐рднрд┐рдиреНрди рд╕рд╛рдордЧреНрд░реА рдкреНрд░рдХрд╛рд░ рд░ рдврд╛рдБрдЪрд╛рд╣рд░реВрдХреЛ рд╕рдорд╛рдирд╛рдиреНрддрд░ рдкреНрд░рд╢реЛрдзрди рдЧрд░реНрдиреБрд╣реЛрд╕реН

## тЪЩя╕П рдкреВрд░реНрд╡рд╛рдкреЗрдХреНрд╖рд╛рд╣рд░реВ рд░ рд╕реЗрдЯрдЕрдк

### ЁЯУж **рдЖрд╡рд╢реНрдпрдХ NuGet рдкреНрдпрд╛рдХреЗрдЬрд╣рд░реВ**

рдЙрдЪреНрдЪ рдкреНрд░рджрд░реНрд╢рди рд╕рдорд╡рд░реНрддреА рд╡рд░реНрдХрдлреНрд▓реЛрд╣рд░реВрдХреЛ рд▓рд╛рдЧрд┐ рдЖрд╡рд╢реНрдпрдХ рдкреНрдпрд╛рдХреЗрдЬрд╣рд░реВ:

```xml
<!-- Core AI Framework with Async Support -->
<PackageReference Include="Microsoft.Extensions.AI" Version="9.9.0" />

<!-- Client Model Abstractions for API Communication -->
<PackageReference Include="System.ClientModel" Version="1.6.1.0" />

<!-- Azure Identity and Async LINQ for Advanced Operations -->
<PackageReference Include="Azure.Identity" Version="1.15.0" />
<PackageReference Include="System.Linq.Async" Version="6.0.3" />

<!-- Local Agent Framework References -->
<!-- Microsoft.Agents.AI.dll - Core agent abstractions with async support -->
<!-- Microsoft.Agents.AI.OpenAI.dll - GitHub Models integration with concurrency -->
```

### ЁЯФС **GitHub рдореЛрдбреЗрд▓рд╣рд░реВрдХреЛ рдХрдиреНрдлрд┐рдЧрд░реЗрд╕рди**

**Environment рд╕реЗрдЯрдЕрдк (.env рдлрд╛рдЗрд▓):**
```env
GITHUB_TOKEN=your_github_personal_access_token
GITHUB_ENDPOINT=https://models.inference.ai.azure.com
GITHUB_MODEL_ID=gpt-4o-mini
```

**рд╕рдорд╡рд░реНрддреА рдкреНрд░рд╢реЛрдзрди рд╡рд┐рдЪрд╛рд░рд╣рд░реВ:**
```csharp
// Configure for concurrent operations
var clientOptions = new OpenAIClientOptions()
{
    Endpoint = new Uri(githubEndpoint),
    // Configure connection pooling for concurrent requests
    NetworkTimeout = TimeSpan.FromMinutes(5)
};
```

### ЁЯПЧя╕П **рд╕рдорд╡рд░реНрддреА рд╡рд░реНрдХрдлреНрд▓реЛ рд╡рд╛рд╕реНрддреБрдХрд▓рд╛**

```mermaid
graph TD
    A[Workflow Input] --> B[Task Distribution]
    B --> C[Concurrent Agent Pool]
    C --> D[Agent Task 1]
    C --> E[Agent Task 2]
    C --> F[Agent Task 3]
    C --> G[Agent Task N]
    
    D --> H[Result Aggregation]
    E --> H
    F --> H
    G --> H
    
    H --> I[Synchronized Output]
    
    J[GitHub Models API] --> D
    J --> E
    J --> F
    J --> G
    
    K[.NET Task Scheduler] --> C
```

**рдореБрдЦреНрдп рдШрдЯрдХрд╣рд░реВ:**
- **Task Parallel Library**: .NET рдХреЛ рд╕рдорд╡рд░реНрддреА рдХрд╛рд░реНрдпрд╣рд░реВрдХреЛ рд▓рд╛рдЧрд┐ рдмрд┐рд▓реНрдЯ-рдЗрди рд╕рдорд░реНрдерди
- **Agent Pool**: рд╕рдорд╛рдирд╛рдиреНрддрд░ рдкреНрд░рд╢реЛрдзрдирдХреЛ рд▓рд╛рдЧрд┐ рдзреЗрд░реИ рдПрдЬреЗрдиреНрдЯ рдЙрджрд╛рд╣рд░рдгрд╣рд░реВ
- **Result Aggregation**: рд╕рдорд╡рд░реНрддреА рдПрдЬреЗрдиреНрдЯ рдкрд░рд┐рдгрд╛рдорд╣рд░реВрдХреЛ рд╕рдордиреНрд╡рдп рд░ рдорд░реНрдЬрд┐рдВрдЧ
- **Synchronization Points**: рд╕рдорд╡рд░реНрддреА рдХрд╛рд░реНрдпрд╣рд░реВрдорд╛ рдбрд╛рдЯрд╛ рд╕реНрдерд┐рд░рддрд╛ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдЧрд░реНрдиреБрд╣реЛрд╕реН

## ЁЯОи **рд╕рдорд╡рд░реНрддреА рд╡рд░реНрдХрдлреНрд▓реЛ рдбрд┐рдЬрд╛рдЗрди рдврд╛рдБрдЪрд╛рд╣рд░реВ**

### ЁЯФН **рд╕рдорд╛рдирд╛рдиреНрддрд░ рдЕрдиреБрд╕рдиреНрдзрд╛рди рд░ рд╡рд┐рд╢реНрд▓реЗрд╖рдг**
```
Research Topic тЖТ Concurrent Research Agents тЖТ Result Synthesis тЖТ Final Report
```

### ЁЯУК **рдорд▓реНрдЯреА-рд╕реНрд░реЛрдд рдбрд╛рдЯрд╛ рдкреНрд░рд╢реЛрдзрди**
```
Data Sources тЖТ Parallel Processing Agents тЖТ Data Integration тЖТ Unified Output
```

### ЁЯОн **рд╕рд╛рдордЧреНрд░реА рдирд┐рд░реНрдорд╛рдг рдкрд╛рдЗрдкрд▓рд╛рдЗрди**
```
Content Requirements тЖТ Concurrent Content Generators тЖТ Quality Review тЖТ Final Content
```

### ЁЯФД **Fan-Out/Fan-In рдкреНрд░рд╢реЛрдзрди**
```
Single Input тЖТ Multiple Concurrent Processors тЖТ Result Aggregation тЖТ Single Output
```

## ЁЯПв **рдЙрджреНрдпрдо рдкреНрд░рджрд░реНрд╢рди рд▓рд╛рднрд╣рд░реВ**

### тЪб **Throughput рд░ рд╕реНрдХреЗрд▓реЗрдмрд┐рд▓рд┐рдЯреА**
- **рд░реЗрдЦреАрдп рдкреНрд░рджрд░реНрд╢рди рд╕реНрдХреЗрд▓рд┐рдЩ**: throughput рдмрдврд╛рдЙрди рдердк рд╕рдорд╡рд░реНрддреА рдПрдЬреЗрдиреНрдЯрд╣рд░реВ рдердкреНрдиреБрд╣реЛрд╕реН
- **рд╕реНрд░реЛрдд рдЙрдкрдпреЛрдЧ**: рдЙрдкрд▓рдмреНрдз AI рдореЛрдбреЗрд▓ рдХреНрд╖рдорддрд╛ рдХреЛ рдЕрдзрд┐рдХрддрдо рджрдХреНрд╖рддрд╛
- **рдкреНрд░рд╢реЛрдзрди рд╕рдордп рдШрдЯрд╛рдЙрдиреЗ**: рд╕рдорд╛рдирд╛рдиреНрддрд░ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдорд╛рд░реНрдлрдд рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╕рдордп рдХрдореА
- **рдЗрд▓реНрдпрд╛рд╕реНрдЯрд┐рдХ рд╕реНрдХреЗрд▓рд┐рдЩ**: рдХрд╛рд░реНрдпрднрд╛рд░рдХреЛ рдЖрдзрд╛рд░рдорд╛ рд╕рдорд╡рд░реНрддреА рдПрдЬреЗрдиреНрдЯ рд╕рдВрдЦреНрдпрд╛ рдЧрддрд┐рд╢реАрд▓ рд░реВрдкрдорд╛ рд╕рдорд╛рдпреЛрдЬрди рдЧрд░реНрдиреБрд╣реЛрд╕реН

### ЁЯЫбя╕П **рд╡рд┐рд╢реНрд╡рд╕рдиреАрдпрддрд╛ рд░ рд▓рдЪрд┐рд▓реЛрдкрди**
- **рдлреЙрд▓реНрдЯ рдЖрдЗрд╕реЛрд▓реЗрд╕рди**: рд╡реНрдпрдХреНрддрд┐рдЧрдд рдПрдЬреЗрдиреНрдЯ рдЕрд╕рдлрд▓рддрд╛рд╣рд░реВрд▓реЗ рдЕрдиреНрдп рд╕рдорд╡рд░реНрддреА рдХрд╛рд░реНрдпрд╣рд░реВрд▓рд╛рдИ рдЕрд╕рд░ рдЧрд░реНрджреИрди
- **рдЧреНрд░реЗрд╕рдлреБрд▓ рдбрд┐рдЧреНрд░реЗрдбреЗрд╕рди**: рдкреНрд░рдгрд╛рд▓реАрд▓реЗ рдШрдЯреЗрдХреЛ рдПрдЬреЗрдиреНрдЯ рдХреНрд╖рдорддрд╛ рд╕рдВрдЧ рд╕рдЮреНрдЪрд╛рд▓рди рдЬрд╛рд░реА рд░рд╛рдЦреНрдЫ
- **рддреНрд░реБрдЯрд┐ рдкреБрди:рдкреНрд░рд╛рдкреНрддрд┐**: рдЕрд╕рдлрд▓ рд╕рдорд╡рд░реНрддреА рдХрд╛рд░реНрдпрд╣рд░реВрдХреЛ рд▓рд╛рдЧрд┐ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдкреБрди: рдкреНрд░рдпрд╛рд╕ рд╕рдВрдпрдиреНрддреНрд░рд╣рд░реВ
- **рд▓реЛрдб рд╡рд┐рддрд░рдг**: рдЙрдкрд▓рдмреНрдз рдПрдЬреЗрдиреНрдЯрд╣рд░реВ рднрд░ рдХрд╛рдордХреЛ рд╕рдорд╛рди рд╡рд┐рддрд░рдг

### ЁЯУК **рдкреНрд░рджрд░реНрд╢рди рдЕрдиреБрдЧрдорди**
- **рд╕рдорд╡рд░реНрддреА рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдореЗрдЯреНрд░рд┐рдХреНрд╕**: рд╕рдмреИ рд╕рдорд╛рдирд╛рдиреНрддрд░ рдХрд╛рд░реНрдпрд╣рд░реВрдХреЛ рдкреНрд░рджрд░реНрд╢рди рдЯреНрд░реНрдпрд╛рдХ рдЧрд░реНрдиреБрд╣реЛрд╕реН
- **рд╕реНрд░реЛрдд рдЙрдкрдпреЛрдЧ рдПрдирд╛рд▓рд┐рдЯрд┐рдХреНрд╕**: CPU, рдореЗрдореЛрд░реА, рд░ рдиреЗрдЯрд╡рд░реНрдХ рдЙрдкрдпреЛрдЧ рдЕрдиреБрдЧрдорди рдЧрд░реНрдиреБрд╣реЛрд╕реН
- **Throughput рд╡рд┐рд╢реНрд▓реЗрд╖рдг**: рд╕рдорд╡рд░реНрддреА рдкреНрд░рд╢реЛрдзрдирдмрд╛рдЯ рджрдХреНрд╖рддрд╛ рд▓рд╛рдн рдорд╛рдкрди рдЧрд░реНрдиреБрд╣реЛрд╕реН
- **рдмреЛрдЯрд▓рдиреЗрдХ рдбрд┐рдЯреЗрдХреНрд╢рди**: рдкреНрд░рджрд░реНрд╢рди рдмрд╛рдзрд╛рд╣рд░реВ рдкрд╣рд┐рдЪрд╛рди рд░ рд╕рдорд╛рдзрд╛рди рдЧрд░реНрдиреБрд╣реЛрд╕реН

### ЁЯФз **рд╡рд┐рдХрд╛рд╕ рд░ рд╕рдЮреНрдЪрд╛рд▓рди**
- **Async рдкреНрд░реЛрдЧреНрд░рд╛рдорд┐рдЩ рдореЛрдбреЗрд▓**: .NET рдХреЛ рдкрд░рд┐рдкрдХреНрд╡ async/await рдврд╛рдБрдЪрд╛рд╣рд░реВ рдкреНрд░рдпреЛрдЧ рдЧрд░реНрдиреБрд╣реЛрд╕реН
- **рдЯрд╛рд╕реНрдХ рд╕рдордиреНрд╡рдп**: рд╕рдорд╡рд░реНрддреА рд╡рд░реНрдХрдлреНрд▓реЛрд╣рд░реВрдХреЛ рд▓рд╛рдЧрд┐ рдмрд┐рд▓реНрдЯ-рдЗрди рдЯрд╛рд╕реНрдХ рд╡реНрдпрд╡рд╕реНрдерд╛рдкрди рд░ рд╕рдордиреНрд╡рдп рдХреНрд╖рдорддрд╛
- **рдЕрдкрд╡рд╛рдж рд╣реНрдпрд╛рдиреНрдбрд▓рд┐рдЩ**: рд╕рдорд╡рд░реНрддреА рдХрд╛рд░реНрдпрд╣рд░реВрдХреЛ рд▓рд╛рдЧрд┐ рд╡реНрдпрд╛рдкрдХ рддреНрд░реБрдЯрд┐ рд╣реНрдпрд╛рдиреНрдбрд▓рд┐рдЩ
- **рдбрд┐рдмрдЧрд┐рдЩ рд╕рдорд░реНрдерди**: рд╕рдорд╡рд░реНрддреА рд╡рд░реНрдХрдлреНрд▓реЛрд╣рд░реВрдХреЛ рд▓рд╛рдЧрд┐ Visual Studio рдбрд┐рдмрдЧрд┐рдЩ рдЙрдкрдХрд░рдгрд╣рд░реВ

рдЖрдЙрдиреБрд╣реЛрд╕реН .NET рд╕рдВрдЧ рдЙрдЪреНрдЪ рдкреНрд░рджрд░реНрд╢рди рд╕рдорд╡рд░реНрддреА AI рд╡рд░реНрдХрдлреНрд▓реЛ рдирд┐рд░реНрдорд╛рдг рдЧрд░реМрдВ! ЁЯЪА

## ЁЯТ╗ рдХреЛрдб рдЪрд▓рд╛рдЙрдБрджреИ

рдкреВрд░реНрдг рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди `03.dotnet-agent-framework-workflow-ghmodel-concurrent.cs` рдорд╛ рдЙрдкрд▓рдмреНрдз рдЫред рдпреЛ рдлрд╛рдЗрд▓рд▓реЗ рдпрд╛рддреНрд░рд╛ рдпреЛрдЬрдирд╛ рд▓рд╛рдЧрд┐ **Fan-Out/Fan-In рд╕рдорд╡рд░реНрддреА рд╡рд░реНрдХрдлреНрд▓реЛ** рдкреНрд░рджрд░реНрд╢рди рдЧрд░реНрджрдЫ:

### ЁЯПЧя╕П **рд╡рд░реНрдХрдлреНрд▓реЛ рд╡рд╛рд╕реНрддреБрдХрд▓рд╛**

```
User Request тЖТ ConcurrentStartExecutor тЖТ [Researcher Agent || Planner Agent] тЖТ ConcurrentAggregationExecutor тЖТ Final Output
```

**рдореБрдЦреНрдп рдШрдЯрдХрд╣рд░реВ:**

1. **ConcurrentStartExecutor**: рдкреНрд░рдпреЛрдЧрдХрд░реНрддрд╛ рдЕрдиреБрд░реЛрдзрд▓рд╛рдИ рд╕рдмреИ рдПрдЬреЗрдиреНрдЯрд╣рд░реВрдорд╛ рдПрдХрд╕рд╛рде рдкреНрд░рд╕рд╛рд░рдг рдЧрд░реНрджрдЫ
2. **Researcher Agent**: рдЧрдиреНрддрд╡реНрдпрд╣рд░реВ рд░ рдЖрдХрд░реНрд╖рдгрд╣рд░реВ рд╕рдорд╛рдирд╛рдиреНрддрд░ рд░реВрдкрдорд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдЧрд░реНрджрдЫ
3. **Planner Agent**: рд╡рд┐рд╕реНрддреГрдд рдпрд╛рддреНрд░рд╛ рдпреЛрдЬрдирд╛рд╣рд░реВ рд╕рдорд╛рдирд╛рдиреНрддрд░ рд░реВрдкрдорд╛ рдмрдирд╛рдЙрдБрдЫ
4. **ConcurrentAggregationExecutor**: рджреБрдмреИ рдПрдЬреЗрдиреНрдЯрдмрд╛рдЯ рдкрд░рд┐рдгрд╛рдорд╣рд░реВ рд╕рдЩреНрдХрд▓рди рд░ рдорд░реНрдЬ рдЧрд░реНрджрдЫ

### ЁЯОп **Fan-Out/Fan-In рдврд╛рдБрдЪрд╛**

рдпреЛ рд╡рд░реНрдХрдлреНрд▓реЛрд▓реЗ рдХреНрд▓рд╛рд╕рд┐рдХ **Fan-Out/Fan-In** рдврд╛рдБрдЪрд╛рд▓рд╛рдИ рдкреНрд░рджрд░реНрд╢рди рдЧрд░реНрджрдЫ:
- **Fan-Out**: рдПрдХ рдЗрдирдкреБрдЯ рд╕рдиреНрджреЗрд╢рд▓рд╛рдИ рдПрдХрд╕рд╛рде рдзреЗрд░реИ рдПрдЬреЗрдиреНрдЯрд╣рд░реВрдорд╛ рдкреНрд░рд╕рд╛рд░рдг рдЧрд░рд┐рдиреНрдЫ
- **рд╕рдорд╡рд░реНрддреА рдкреНрд░рд╢реЛрдзрди**: рдзреЗрд░реИ рдПрдЬреЗрдиреНрдЯрд╣рд░реВ рд╕рдорд╛рди рдХрд╛рд░реНрдпрдорд╛ рд╕рдорд╛рдирд╛рдиреНрддрд░ рд░реВрдкрдорд╛ рдХрд╛рдо рдЧрд░реНрдЫрдиреН
- **Fan-In**: рд╕рдмреИ рдПрдЬреЗрдиреНрдЯрд╣рд░реВрдмрд╛рдЯ рдкрд░рд┐рдгрд╛рдорд╣рд░реВ рд╕рдЩреНрдХрд▓рди рдЧрд░рд┐рдиреНрдЫ рд░ рдПрдХрд▓ рдЖрдЙрдЯрдкреБрдЯрдорд╛ рд╕рдорд╛рд╣рд┐рдд рдЧрд░рд┐рдиреНрдЫ

### ЁЯЪА рдЙрджрд╛рд╣рд░рдг рдЪрд▓рд╛рдЙрдБрджреИ

```bash
# Make the script executable (Unix/Linux/macOS)
chmod +x 03.dotnet-agent-framework-workflow-ghmodel-concurrent.cs

# Run the concurrent workflow
./03.dotnet-agent-framework-workflow-ghmodel-concurrent.cs
```

рд╡рд╛ Windows рдорд╛:
```powershell
dotnet run 03.dotnet-agent-framework-workflow-ghmodel-concurrent.cs
```

### ЁЯУЭ рдЕрдкреЗрдХреНрд╖рд┐рдд рдЖрдЙрдЯрдкреБрдЯ

рд╡рд░реНрдХрдлреНрд▓реЛрд▓реЗ:
1. **рдЕрдиреБрд░реЛрдз рдкреНрд░рд╕рд╛рд░рдг**: "рдбрд┐рд╕реЗрдореНрдмрд░рдорд╛ рд╕рд┐рдПрдЯрд▓рдХреЛ рдпрд╛рддреНрд░рд╛ рдпреЛрдЬрдирд╛ рдмрдирд╛рдЙрдиреБрд╣реЛрд╕реН" рджреБрдмреИ рдПрдЬреЗрдиреНрдЯрд╣рд░реВрдорд╛ рдкрдард╛рдЙрдБрдЫ
2. **рд╕рдорд╡рд░реНрддреА рдкреНрд░рд╢реЛрдзрди**: рджреБрдмреИ рдПрдЬреЗрдиреНрдЯрд╣рд░реВ рдПрдХрд╕рд╛рде рдХрд╛рдо рдЧрд░реНрдЫрдиреН:
   - Researcher рдЖрдХрд░реНрд╖рдгрд╣рд░реВ рд░ рд╡рд┐рд╡рд░рдгрд╣рд░реВ рдкрд╣рд┐рдЪрд╛рди рдЧрд░реНрджрдЫ
   - Planner рдпрд╛рддреНрд░рд╛ рдХрд╛рд░реНрдпрдХреНрд░рдо рд░ рд░рд╕рдж рдмрдирд╛рдЙрдБрдЫ
3. **Aggregation**: рджреБрдмреИ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛рд╣рд░реВрд▓рд╛рдИ рд╡реНрдпрд╛рдкрдХ рдЖрдЙрдЯрдкреБрдЯрдорд╛ рд╕рдорд╛рд╣рд┐рдд рдЧрд░реНрджрдЫ
4. **рдкрд░рд┐рдгрд╛рдо рдкреНрд░рджрд░реНрд╢рди**: рд╕рдмреИ рдЬрд╛рдирдХрд╛рд░реА рд╕рд╣рд┐рдд рдорд░реНрдЬ рдЧрд░рд┐рдПрдХреЛ рдпрд╛рддреНрд░рд╛ рдпреЛрдЬрдирд╛ рджреЗрдЦрд╛рдЙрдБрдЫ

### ЁЯФз рдЕрдиреБрдХреВрд▓рди рд╡рд┐рдХрд▓реНрдкрд╣рд░реВ

**рдердк рд╕рдорд╡рд░реНрддреА рдПрдЬреЗрдиреНрдЯрд╣рд░реВ рдердкреНрдиреБрд╣реЛрд╕реН:**
```csharp
// Create additional specialized agents
AIAgent budgetAgent = openAIClient.GetChatClient(github_model_id).CreateAIAgent(
    name: "Budget-Agent", instructions: "Calculate travel costs...");

// Add to fan-out
var workflow = new WorkflowBuilder(startExecutor)
    .AddFanOutEdge(startExecutor, targets: [researcherAgent, plannerAgent, budgetAgent])
    .AddFanInEdge(aggregationExecutor, sources: [researcherAgent, plannerAgent, budgetAgent])
    .WithOutputFrom(aggregationExecutor)
    .Build();

// Update aggregation count
if (this._messages.Count == 3) { ... }
```

**рдПрдЬреЗрдиреНрдЯ рдирд┐рд░реНрджреЗрд╢рдирд╣рд░реВ рдкрд░рд┐рдорд╛рд░реНрдЬрди рдЧрд░реНрдиреБрд╣реЛрд╕реН:**
```csharp
const string ResearcherAgentInstructions = "Your custom instructions for research...";
const string PlanAgentInstructions = "Your custom instructions for planning...";
```

**рдХрд╛рд░реНрдп рдкрд░рд┐рд╡рд░реНрддрди рдЧрд░реНрдиреБрд╣реЛрд╕реН:**
```csharp
StreamingRun run = await InProcessExecution.StreamAsync(
    workflow, 
    "Plan a European vacation for 2 weeks in summer"
);
```

### ЁЯОп рд╡рд╛рд╕реНрддрд╡рд┐рдХ-рд╡рд┐рд╢реНрд╡ рдЕрдиреБрдкреНрд░рдпреЛрдЧрд╣рд░реВ

рдпреЛ рд╕рдорд╡рд░реНрддреА рдврд╛рдБрдЪрд╛ рдирд┐рдореНрдирдХрд╛ рд▓рд╛рдЧрд┐ рдЖрджрд░реНрд╢ рдЫ:
- **рд╕рд╛рдордЧреНрд░реА рдирд┐рд░реНрдорд╛рдг**: рдзреЗрд░реИ рд▓реЗрдЦрдХрд╣рд░реВрд▓реЗ рд╡рд┐рднрд┐рдиреНрди рдЦрдгреНрдбрд╣рд░реВ рдПрдХрд╕рд╛рде рд╕рд┐рд░реНрдЬрдирд╛ рдЧрд░реНрджреИ
- **рдХреЛрдб рд╕рдореАрдХреНрд╖рд╛**: рдзреЗрд░реИ рд╕рдореАрдХреНрд╖рдХрд╣рд░реВрд▓реЗ рд╡рд┐рднрд┐рдиреНрди рджреГрд╖реНрдЯрд┐рдХреЛрдгрдмрд╛рдЯ рдХреЛрдб рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдЧрд░реНрджреИ
- **рдмрдЬрд╛рд░ рдЕрдиреБрд╕рдиреНрдзрд╛рди**: рд╡рд┐рднрд┐рдиреНрди рдмрдЬрд╛рд░ рдЦрдгреНрдбрд╣рд░реВрдХреЛ рд╕рдорд╛рдирд╛рдиреНрддрд░ рд╡рд┐рд╢реНрд▓реЗрд╖рдг
- **рджрд╕реНрддрд╛рд╡реЗрдЬ рдкреНрд░рд╢реЛрдзрди**: рд╕рдорд╛рдирд╛рдиреНрддрд░ рд░реВрдкрдорд╛ рдирд┐рдХрд╛рд╕реА, рд╡рд┐рд╢реНрд▓реЗрд╖рдг, рд░ рдорд╛рдиреНрдпрддрд╛
- **рдорд▓реНрдЯреА-рдкрд░реНрд╕рдкреЗрдХреНрдЯрд┐рдн рд╡рд┐рд╢реНрд▓реЗрд╖рдг**: рдПрдЙрдЯреИ рдЗрдирдкреБрдЯрдорд╛ рд╡рд┐рд╡рд┐рдз рджреГрд╖реНрдЯрд┐рдХреЛрдг рдкреНрд░рд╛рдкреНрдд рдЧрд░реНрджреИ

### ЁЯФН рдХрд╕реНрдЯрдо Executors рдмреБрдЭреНрджреИ

**ConcurrentStartExecutor:**
- `IMessageHandler<string>` рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдЧрд░реНрджрдЫ рдЬрд╕рд▓реЗ рд╕реНрдЯреНрд░рд┐рдЩ рдЗрдирдкреБрдЯ рд╕реНрд╡реАрдХрд╛рд░реНрдЫ
- рд╕рдиреНрджреЗрд╢рд╣рд░реВ рд╕рдмреИ рдЬрдбрд┐рдд рдПрдЬреЗрдиреНрдЯрд╣рд░реВрдорд╛ рдкреНрд░рд╕рд╛рд░рдг рдЧрд░реНрджрдЫ
- рд╕рдорд╡рд░реНрддреА рдкреНрд░рд╢реЛрдзрди рдЯреНрд░рд┐рдЧрд░ рдЧрд░реНрди `TurnToken` рдкрдард╛рдЙрдБрдЫ

**ConcurrentAggregationExecutor:**
- `IMessageHandler<ChatMessage>` рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдЧрд░реНрджрдЫ рдЬрд╕рд▓реЗ рдПрдЬреЗрдиреНрдЯ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛рд╣рд░реВ рдкреНрд░рд╛рдкреНрдд рдЧрд░реНрджрдЫ
- рдереНрд░реЗрдб-рд╕реБрд░рдХреНрд╖рд┐рдд рддрд░рд┐рдХрд╛рдорд╛ рд╕рдиреНрджреЗрд╢рд╣рд░реВ рд╕рдЩреНрдХрд▓рди рдЧрд░реНрджрдЫ
- рд╕рдмреИ рдЕрдкреЗрдХреНрд╖рд┐рдд рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛рд╣рд░реВ рдЖрдЗрдкреБрдЧреЗрдкрдЫрд┐ рд╕рдорд╛рд╣рд┐рдд рдЧрд░реНрджрдЫ
- `context.YieldOutputAsync()` рдкреНрд░рдпреЛрдЧ рдЧрд░реЗрд░ рдЕрдиреНрддрд┐рдо рдЖрдЙрдЯрдкреБрдЯ рдкреНрд░рджрд╛рди рдЧрд░реНрджрдЫ

### тЪб рдкреНрд░рджрд░реНрд╢рди рд▓рд╛рднрд╣рд░реВ

**рд╕рдорд╡рд░реНрддреА рдмрдирд╛рдо рдХреНрд░рдорд┐рдХ:**
- рдХреНрд░рдорд┐рдХ: Agent1 (30s) тЖТ Agent2 (30s) = **рдХреБрд▓ 60 рд╕реЗрдХреЗрдиреНрдб**
- рд╕рдорд╡рд░реНрддреА: Agent1 (30s) || Agent2 (30s) = **рдХреБрд▓ 30 рд╕реЗрдХреЗрдиреНрдб**

**Throughput рд╕реБрдзрд╛рд░**: рдХрд╛рд░реНрдпрднрд╛рд░ рд░ рд╕реНрд░реЛрддрд╣рд░реВрдХреЛ рдЖрдзрд╛рд░рдорд╛ N рд╕рдорд╡рд░реНрддреА рдПрдЬреЗрдиреНрдЯрд╣рд░реВрдХреЛ рд▓рд╛рдЧрд┐ N├Ч рдЫрд┐рдЯреЛ

### ЁЯЫбя╕П рддреНрд░реБрдЯрд┐ рд╣реНрдпрд╛рдиреНрдбрд▓рд┐рдЩ

рд╡рд░реНрдХрдлреНрд▓реЛрд▓реЗ рд╡реНрдпрдХреНрддрд┐рдЧрдд рдПрдЬреЗрдиреНрдЯ рдЕрд╕рдлрд▓рддрд╛рд╣рд░реВрд▓рд╛рдИ рд╕рд╣рдЬ рд░реВрдкрдорд╛ рд╣реНрдпрд╛рдиреНрдбрд▓ рдЧрд░реНрджрдЫ:
- рдпрджрд┐ рдПрдЙрдЯрд╛ рдПрдЬреЗрдиреНрдЯ рдЕрд╕рдлрд▓ рд╣реБрдиреНрдЫ рднрдиреЗ, рдЕрдиреНрдпрд╣рд░реВ рдкреНрд░рд╢реЛрдзрди рдЬрд╛рд░реА рд░рд╛рдЦреНрдЫрдиреН
- Aggregator рд▓реЗ рдЯрд╛рдЗрдордЖрдЙрдЯ рддрд░реНрдХ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдЧрд░реНрди рд╕рдХреНрдЫ
- рдЖрд╡рд╢реНрдпрдХ рдкрд░реЗрдорд╛ рдЖрдВрд╢рд┐рдХ рдкрд░рд┐рдгрд╛рдорд╣рд░реВ рдлрд┐рд░реНрддрд╛ рдЧрд░реНрди рд╕рдХрд┐рдиреНрдЫ

### ЁЯУК рдЙрдиреНрдирдд рд╕реБрд╡рд┐рдзрд╛рд╣рд░реВ

**рдбрд╛рдпрдирд╛рдорд┐рдХ рдПрдЬреЗрдиреНрдЯ рд╕рдВрдЦреНрдпрд╛:**
рдкрд░рд┐рд╡рд░реНрддрдиреАрдп рдПрдЬреЗрдиреНрдЯ рд╕рдВрдЦреНрдпрд╛рд▓рд╛рдИ рд╕рдорд░реНрдерди рдЧрд░реНрди рд╕рдорд╛рд╣рд┐рдд рддрд░реНрдХ рдкрд░рд┐рдорд╛рд░реНрдЬрди рдЧрд░реНрдиреБрд╣реЛрд╕реН:

```csharp
private int _expectedAgentCount;
private readonly List<ChatMessage> _messages = [];

public async ValueTask HandleAsync(ChatMessage message, IWorkflowContext context)
{
    this._messages.Add(message);
    if (this._messages.Count == _expectedAgentCount)
    {
        // Process aggregation
    }
}
```

рдпреЛ рд╕рдорд╡рд░реНрддреА рд╡рд░реНрдХрдлреНрд▓реЛ рдврд╛рдБрдЪрд╛ рдЙрдЪреНрдЪ рдкреНрд░рджрд░реНрд╢рди, рд╕реНрдХреЗрд▓реЗрдмрд▓ AI рдПрдЬреЗрдиреНрдЯ рдкреНрд░рдгрд╛рд▓реАрд╣рд░реВ рдирд┐рд░реНрдорд╛рдг рдЧрд░реНрди рдЖрд╡рд╢реНрдпрдХ рдЫ!

---

<!-- CO-OP TRANSLATOR DISCLAIMER START -->
**рдЕрд╕реНрд╡реАрдХрд░рдг**:  
рдпреЛ рджрд╕реНрддрд╛рд╡реЗрдЬ AI рдЕрдиреБрд╡рд╛рдж рд╕реЗрд╡рд╛ [Co-op Translator](https://github.com/Azure/co-op-translator) рдкреНрд░рдпреЛрдЧ рдЧрд░реЗрд░ рдЕрдиреБрд╡рд╛рдж рдЧрд░рд┐рдПрдХреЛ рдЫред рд╣рд╛рдореА рд╢реБрджреНрдзрддрд╛рдХреЛ рд▓рд╛рдЧрд┐ рдкреНрд░рдпрд╛рд╕ рдЧрд░реНрдЫреМрдВ, рддрд░ рдХреГрдкрдпрд╛ рдзреНрдпрд╛рди рджрд┐рдиреБрд╣реЛрд╕реН рдХрд┐ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдЕрдиреБрд╡рд╛рджрдорд╛ рддреНрд░реБрдЯрд┐рд╣рд░реВ рд╡рд╛ рдЕрд╢реБрджреНрдзрддрд╛рд╣рд░реВ рд╣реБрди рд╕рдХреНрдЫред рдпрд╕рдХреЛ рдореВрд▓ рднрд╛рд╖рд╛ рдорд╛ рд░рд╣реЗрдХреЛ рдореВрд▓ рджрд╕реНрддрд╛рд╡реЗрдЬрд▓рд╛рдИ рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рд╕реНрд░реЛрдд рдорд╛рдирд┐рдиреБрдкрд░реНрдЫред рдорд╣рддреНрд╡рдкреВрд░реНрдг рдЬрд╛рдирдХрд╛рд░реАрдХреЛ рд▓рд╛рдЧрд┐, рд╡реНрдпрд╛рд╡рд╕рд╛рдпрд┐рдХ рдорд╛рдирд╡ рдЕрдиреБрд╡рд╛рдж рд╕рд┐рдлрд╛рд░рд┐рд╕ рдЧрд░рд┐рдиреНрдЫред рдпрд╕ рдЕрдиреБрд╡рд╛рджрдХреЛ рдкреНрд░рдпреЛрдЧрдмрд╛рдЯ рдЙрддреНрдкрдиреНрди рд╣реБрдиреЗ рдХреБрдиреИ рдкрдирд┐ рдЧрд▓рддрдлрд╣рдореА рд╡рд╛ рдЧрд▓рдд рд╡реНрдпрд╛рдЦреНрдпрд╛рдХреЛ рд▓рд╛рдЧрд┐ рд╣рд╛рдореА рдЬрд┐рдореНрдореЗрд╡рд╛рд░ рд╣реБрдиреЗрдЫреИрдиреМрдВред
<!-- CO-OP TRANSLATOR DISCLAIMER END -->