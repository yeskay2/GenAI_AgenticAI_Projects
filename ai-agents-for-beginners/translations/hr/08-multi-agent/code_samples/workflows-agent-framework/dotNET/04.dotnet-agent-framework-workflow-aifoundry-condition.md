<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "8abd335151cee553293b637ee3d80d10",
  "translation_date": "2025-11-11T12:31:55+00:00",
  "source_file": "08-multi-agent/code_samples/workflows-agent-framework/dotNET/04.dotnet-agent-framework-workflow-aifoundry-condition.md",
  "language_code": "hr"
}
-->
# ğŸ”€ Uvjetni tijekovi rada agenata s Azure AI Foundry (.NET)

## ğŸ“‹ VodiÄ za inteligentne tijekove rada temeljene na odlukama

Ovaj priruÄnik prikazuje **uzorke uvjetnih tijekova rada** koristeÄ‡i Azure AI Foundry i Microsoft Agent Framework za .NET. NauÄit Ä‡ete kako izgraditi sofisticirane tijekove rada voÄ‘ene odlukama koji inteligentno usmjeravaju obradu na temelju AI analize, poslovnih pravila i dinamiÄkih uvjeta za automatizaciju na razini poduzeÄ‡a.

## ğŸ¯ Ciljevi uÄenja

### ğŸ§  **Arhitektura inteligentnih odluka**
- **Implementacija uvjetne logike**: Izgradite sloÅ¾ena stabla odluka s viÅ¡e toÄaka grananja
- **Usmjeravanje temeljeno na AI-u**: Koristite modele Azure AI Foundry za donoÅ¡enje inteligentnih odluka o usmjeravanju
- **DinamiÄka prilagodba tijeka rada**: Modificirajte ponaÅ¡anje tijeka rada na temelju analize u stvarnom vremenu i uvjeta
- **Integracija poslovnih pravila**: UkljuÄite poslovnu logiku i zahtjeve usklaÄ‘enosti u tijekove rada

### ğŸ”€ **Napredni uzorci uvjetnih tijekova**
- **DonoÅ¡enje odluka na temelju viÅ¡e kriterija**: Procijenite viÅ¡e faktora za odluke o usmjeravanju
- **Obrada svjesna konteksta**: Donosite odluke na temelju akumuliranog konteksta i povijesti tijeka rada
- **Prilagodba tijeka rada**: DinamiÄki prilagodite putanje obrade na temelju uvjeta u stvarnom vremenu
- **Integracija pravila**: Implementirajte sofisticirane poslovne mehanizme pravila unutar tijekova rada

### ğŸ¢ **Uvjetne aplikacije za poduzeÄ‡a**
- **Klasifikacija i usmjeravanje dokumenata**: Automatski klasificirajte i usmjeravajte dokumente u odgovarajuÄ‡e tijekove rada
- **TrijaÅ¾a korisniÄke podrÅ¡ke**: Inteligentno usmjeravanje upita korisnika prema specijaliziranim timovima za obradu
- **Obrada usklaÄ‘enosti i rizika**: Primijenite razliÄite procese validacije i pregleda na temelju procjene rizika
- **Tijekovi rada za osiguranje kvalitete**: Usmjerite sadrÅ¾aj kroz odgovarajuÄ‡e procese pregleda na temelju metriÄkih kvaliteta

## âš™ï¸ Preduvjeti i postavljanje

### ğŸ“¦ **Potrebni NuGet paketi**

Napredni paketi za obradu uvjetnih tijekova rada:

```xml
<!-- Core AI Framework -->
<PackageReference Include="Microsoft.Extensions.AI" Version="9.9.0" />

<!-- Azure AI Agents with Persistent State -->
<PackageReference Include="Azure.AI.Agents.Persistent" Version="1.2.0-beta.5" />

<!-- Azure Identity and Utilities -->
<PackageReference Include="Azure.Identity" Version="1.15.0" />
<PackageReference Include="System.Linq.Async" Version="6.0.3" />
<PackageReference Include="DotNetEnv" Version="3.1.1" />

<!-- Local Workflow Framework References -->
<!-- Microsoft.Agents.Workflows.dll - Advanced workflow orchestration -->
<!-- Microsoft.Agents.AI.AzureAI.dll - Azure AI Foundry integration -->
<!-- Microsoft.Agents.AI.dll - Core agent abstractions -->
```

### ğŸ”‘ **Konfiguracija Azure AI Foundry**

**Potrebni Azure resursi:**
- Radni prostor Azure AI Foundry s modelima za uvjetnu obradu
- Pretplata na Azure s odgovarajuÄ‡im kvotama za raÄunalne resurse i dozvolama
- Implementirani AI modeli za donoÅ¡enje odluka i analizu sadrÅ¾aja
- (Opcionalno) Povezivanje Bing Search API-ja za moguÄ‡nosti temeljenja

**Konfiguracija okruÅ¾enja (.env datoteka):**
```env
# Azure AI Foundry Configuration
AZURE_AI_PROJECT_ENDPOINT=https://your-project.cognitiveservices.azure.com/
BING_CONNECTION_ID=your-bing-connection-id
```

**Postavljanje autentifikacije:**
```csharp
// Azure CLI or Managed Identity authentication
using Azure.Identity;
var credential = new AzureCliCredential();

// Load environment configuration
DotNetEnv.Env.Load("../../../.env");
```

### ğŸ—ï¸ **Arhitektura uvjetnog tijeka rada**

```mermaid
graph TD
    A[Input: Content Outline] --> B[Draft Executor]
    B --> C[Content Review Executor]
    C --> D{Review Decision}
    
    D -->|Yes - Approved| E[Publish Executor]
    D -->|No - Rejected| F[Send Review Executor]
    
    E --> G[Save as Markdown File]
    F --> H[Notify for Revisions]
    
    I[Azure AI Foundry] --> B
    I --> C
    I --> E
    
    J[Bing Grounding] --> B
```

**KljuÄne komponente:**
- **Draft Executor**: AI agent koji stvara poÄetne nacrte sadrÅ¾aja iz skica
- **Content Review Executor**: AI agent koji procjenjuje kvalitetu nacrta i usklaÄ‘enost
- **Uvjetno usmjeravanje**: Logika odluka koja usmjerava na temelju rezultata pregleda
- **Putanje objave/pregleda**: Odvojeni procesni putovi za odobreni i odbijeni sadrÅ¾aj
- **Upravljanje stanjem**: OdrÅ¾ava kontekst sadrÅ¾aja i pregleda tijekom tijeka rada

## ğŸ¨ **Uzorci dizajna uvjetnih tijekova rada**

### ğŸ“‹ **Proizvodnja sadrÅ¾aja s kontrolnim toÄkama kvalitete**
```
Outline â†’ Draft Creation â†’ Quality Review â†’ {Approve: Publish | Reject: Revise}
```

### ğŸ¯ **Obrada dokumenata temeljena na riziku**
```
Document â†’ Risk Assessment â†’ {Low: Standard | High: Enhanced Review}
```

### ğŸ” **Inteligentno usmjeravanje korisniÄke podrÅ¡ke**
```
Customer Query â†’ Analysis â†’ {Simple: FAQ Bot | Complex: Human Agent}
```

### ğŸ’¼ **Tijekovi rada voÄ‘eni usklaÄ‘enoÅ¡Ä‡u**
```
Content â†’ Compliance Check â†’ {Pass: Publish | Fail: Legal Review}
```

## ğŸ¢ **Prednosti uvjetnih tijekova rada za poduzeÄ‡a**

### ğŸ¯ **Inteligentna automatizacija**
- **Pametno donoÅ¡enje odluka**: Odluke o usmjeravanju temeljene na analizi sadrÅ¾aja i kontekstu
- **Prilagodljiva obrada**: Tijekovi rada koji se automatski prilagoÄ‘avaju promjenjivim uvjetima
- **Provedba poslovnih pravila**: Automatska primjena sloÅ¾enih poslovnih logika i politika
- **Usmjeravanje svjesno konteksta**: Odluke temeljene na cjelokupnoj povijesti tijeka rada i akumuliranom kontekstu

### ğŸ“ˆ **Operativna izvrsnost**
- **Optimizirana raspodjela resursa**: Usmjeravanje rada prema najprikladnijim struÄnjacima i procesima
- **Smanjena ruÄna intervencija**: Automatizirano donoÅ¡enje odluka minimizira potrebu za ljudskim usmjeravanjem
- **BrÅ¾e vrijeme rjeÅ¡avanja**: Direktno usmjeravanje prema odgovarajuÄ‡im struÄnjacima i moguÄ‡nostima obrade
- **Dosljedna primjena**: Jednaka primjena poslovnih pravila i kriterija odluka

### ğŸ›¡ï¸ **Upravljanje rizicima i usklaÄ‘enost**
- **Automatska procjena rizika**: Procjena razine rizika sadrÅ¾aja i situacija temeljena na AI-u
- **Provedba usklaÄ‘enosti**: Automatsko usmjeravanje kroz potrebne regulatorne procese
- **Primjena sigurnosnih protokola**: PoboljÅ¡ane sigurnosne mjere primijenjene na temelju procjene rizika
- **OdrÅ¾avanje evidencije**: Potpuna dokumentacija odluka o usmjeravanju i obrazloÅ¾enja

### ğŸ“Š **Analitika i kontinuirano poboljÅ¡anje**
- **Analitika odluka**: PraÄ‡enje uÄinkovitosti i toÄnosti odluka o usmjeravanju
- **Prepoznavanje uzoraka**: Identifikacija trendova i uzoraka u odlukama o usmjeravanju tijekom vremena
- **Optimizacija performansi**: Kontinuirano poboljÅ¡anje kriterija odluka i uÄinkovitosti usmjeravanja
- **Poslovna inteligencija**: Uvidi u karakteristike sadrÅ¾aja i zahtjeve obrade

### ğŸ”§ **TehniÄka izvrsnost**
- **Upravljanje trajnim stanjem**: OdrÅ¾avanje sloÅ¾enog stanja tijekom izvrÅ¡enja tijeka rada
- **Skalabilna arhitektura**: Obrada velikih zahtjeva za uvjetnu obradu
- **MoguÄ‡nosti integracije**: Besprijekorna integracija s postojeÄ‡im poslovnim sustavima i procesima
- **PraÄ‡enje i preglednost**: Sveobuhvatno praÄ‡enje performansi tijeka rada i odluka

Izgradimo inteligentne, odluke voÄ‘ene tijekove rada za poduzeÄ‡a s .NET-om! ğŸš€

## ğŸ’» Pokretanje koda

Kompletna implementacija dostupna je u `04.dotnet-agent-framework-workflow-aifoundry-condition.cs`. Ovo prikazuje **tijek rada za proizvodnju sadrÅ¾aja s kontrolnim toÄkama kvalitete**:

### ğŸ—ï¸ **Arhitektura tijeka rada**

```
Content Outline â†’ Draft Creation â†’ Quality Review â†’ Conditional Routing:
                                                      â”œâ”€ Approved (>200 words) â†’ Publish
                                                      â””â”€ Rejected (<200 words) â†’ Review Notification
```

**Agenti u tijeku rada:**
1. **Evangelist Agent**: Stvara nacrte vodiÄa iz skica koristeÄ‡i Bing temeljenje
2. **Content Reviewer Agent**: Procjenjuje kvalitetu nacrta (broj rijeÄi, cjelovitost)
3. **Publisher Agent**: Sprema odobreni sadrÅ¾aj kao Markdown datoteke s vremenskim oznakama

**PrilagoÄ‘eni izvrÅ¡itelji:**
1. **DraftExecutor**: Orkestrira stvaranje nacrta
2. **ContentReviewExecutor**: Provodi procjenu kvalitete
3. **PublishExecutor**: ObraÄ‘uje objavu odobrenog sadrÅ¾aja
4. **SendReviewExecutor**: Upravlja obavijestima o odbijenom sadrÅ¾aju

### ğŸš€ Pokretanje primjera

**Preduvjeti:**
- Konfiguriran radni prostor Azure AI Foundry
- Autentifikacija putem Azure CLI-a (`az login`)
- (Opcionalno) Povezivanje Bing Search za temeljenje

```bash
# Make the script executable (Unix/Linux/macOS)
chmod +x 04.dotnet-agent-framework-workflow-aifoundry-condition.cs

# Run the conditional workflow
./04.dotnet-agent-framework-workflow-aifoundry-condition.cs
```

Ili na Windowsu:
```powershell
dotnet run 04.dotnet-agent-framework-workflow-aifoundry-condition.cs
```

### ğŸ“ OÄekivani rezultat

Tijek rada Ä‡e:
1. **Stvoriti agente**: Inicijalizirati tri specijalizirana Azure AI Foundry agenta
2. **Generirati nacrt**: Evangelist agent stvara nacrt vodiÄa iz skice
3. **Pregledati sadrÅ¾aj**: Content Reviewer procjenjuje kvalitetu nacrta
4. **Uvjetno usmjeravanje**:
   - **Ako je odobreno (>200 rijeÄi)**: Publish executor sprema kao Markdown datoteku
   - **Ako je odbijeno (<200 rijeÄi)**: Send review executor Å¡alje obavijest o pregledu
5. **Prikazati rezultate**: Prikazuje konaÄni ishod tijeka rada

### ğŸ”§ Opcije prilagodbe

**Modificirajte kriterije pregleda:**
```csharp
const string ContentReviewerInstructions = @"
You are a content reviewer...
1. Check if content is more than 500 words (instead of 200)
2. Verify technical accuracy
3. Ensure proper formatting
...";
```

**Dodajte viÅ¡e uvjetnih putanja:**
```csharp
var workflow = new WorkflowBuilder(draftExecutor)
    .AddEdge(draftExecutor, contentReviewerExecutor)
    .AddEdge(contentReviewerExecutor, publishExecutor, condition: GetCondition("Excellent"))
    .AddEdge(contentReviewerExecutor, editExecutor, condition: GetCondition("Good"))
    .AddEdge(contentReviewerExecutor, sendReviewerExecutor, condition: GetCondition("Poor"))
    .Build();
```

**Promijenite zahtjeve za sadrÅ¾aj:**
```csharp
string OUTLINE_Content = @"
# Your Custom Topic
## Section 1
https://your-reference-url
## Section 2
...
";
```

### ğŸ¯ Primjene u stvarnom svijetu

Ovaj uzorak uvjetnog tijeka rada idealan je za:
- **Sustave za upravljanje sadrÅ¾ajem**: Automatizirani uredniÄki tijekovi rada s kontrolnim toÄkama kvalitete
- **Obrada dokumenata**: Usmjeravanje dokumenata na temelju klasifikacije i usklaÄ‘enosti
- **KorisniÄka podrÅ¡ka**: Inteligentno usmjeravanje zahtjeva na temelju sloÅ¾enosti i hitnosti
- **Pravni pregled**: Usmjeravanje ugovora na temelju procjene rizika i vrijednosti
- **HR procesi**: Usmjeravanje prijava kroz odgovarajuÄ‡e tijekove pregleda

### ğŸ” Razumijevanje uvjetne logike

**Funkcija uvjeta:**
```csharp
public Func<object?, bool> GetCondition(string expectedResult) =>
    reviewResult => reviewResult is ReviewResult review && review.Result == expectedResult;
```

Ova funkcija stvara predikat koji:
1. Provjerava je li rezultat tipa `ReviewResult`
2. UsporeÄ‘uje svojstvo `Result` s oÄekivanom vrijednoÅ¡Ä‡u
3. VraÄ‡a true/false za odreÄ‘ivanje usmjeravanja

**Rubovi tijeka rada s uvjetima:**
```csharp
.AddEdge(contentReviewerExecutor, publishExecutor, condition: GetCondition("Yes"))
.AddEdge(contentReviewerExecutor, sendReviewerExecutor, condition: GetCondition("No"))
```

### ğŸ“Š Napredne znaÄajke

**Validacija JSON sheme:**
Tijek rada koristi JSON sheme za osiguranje strukturiranih odgovora:

```csharp
// Define response structure
public class ReviewResult
{
    [JsonPropertyName("review_result")]
    public string Result { get; set; } = string.Empty;
    
    [JsonPropertyName("reason")]
    public string Reason { get; set; } = string.Empty;
    
    [JsonPropertyName("draft_content")]
    public string DraftContent { get; set; } = string.Empty;
}

// Apply to agent
ResponseFormat = ChatResponseFormat.ForJsonSchema(
    AIJsonUtilities.CreateJsonSchema(typeof(ReviewResult)), 
    "ReviewResult", 
    "Review Result From DraftContent"
)
```

**Integracija Bing temeljenja:**
Evangelist agent koristi Bing temeljenje za pristup informacijama u stvarnom vremenu:

```csharp
var bingGroundingConfig = new BingGroundingSearchConfiguration(bing_conn_id);
BingGroundingToolDefinition bingGroundingTool = new(
    new BingGroundingSearchToolParameters([bingGroundingConfig])
);
```

Ovo omoguÄ‡uje agentu da slijedi URL-ove u skici i izvuÄe trenutne informacije.

### ğŸ›¡ï¸ Upravljanje pogreÅ¡kama

Tijek rada ukljuÄuje robusno upravljanje pogreÅ¡kama za odbijeni sadrÅ¾aj:
- Neuspjesi pregleda aktiviraju alternativni put
- Obavijesti pruÅ¾aju jasne razloge odbijanja
- SadrÅ¾aj se Äuva za reviziju

### ğŸ”„ ProÅ¡irenje tijeka rada

**Dodajte petlju za reviziju:**
Stvorite povratnu petlju koja automatski ponovno izraÄ‘uje sadrÅ¾aj:

```csharp
.AddEdge(contentReviewerExecutor, publishExecutor, condition: GetCondition("Yes"))
.AddEdge(contentReviewerExecutor, draftExecutor, condition: GetCondition("No")) // Loop back
```

**Implementirajte viÅ¡erazinski pregled:**
Dodajte viÅ¡e faza pregleda s razliÄitim kriterijima:

```csharp
.AddEdge(draftExecutor, technicalReviewer)
.AddEdge(technicalReviewer, editorialReviewer, condition: GetCondition("TechPass"))
.AddEdge(editorialReviewer, publishExecutor, condition: GetCondition("EditPass"))
```

Ovaj uzorak uvjetnog tijeka rada pruÅ¾a temelj za izgradnju sofisticiranih, inteligentnih sustava automatizacije za poduzeÄ‡a! ğŸš€

---

<!-- CO-OP TRANSLATOR DISCLAIMER START -->
**Odricanje od odgovornosti**:  
Ovaj dokument je preveden pomoÄ‡u AI usluge za prevoÄ‘enje [Co-op Translator](https://github.com/Azure/co-op-translator). Iako nastojimo osigurati toÄnost, imajte na umu da automatski prijevodi mogu sadrÅ¾avati pogreÅ¡ke ili netoÄnosti. Izvorni dokument na izvornom jeziku treba smatrati autoritativnim izvorom. Za kljuÄne informacije preporuÄuje se profesionalni prijevod od strane Äovjeka. Ne preuzimamo odgovornost za nesporazume ili pogreÅ¡na tumaÄenja koja proizlaze iz koriÅ¡tenja ovog prijevoda.
<!-- CO-OP TRANSLATOR DISCLAIMER END -->