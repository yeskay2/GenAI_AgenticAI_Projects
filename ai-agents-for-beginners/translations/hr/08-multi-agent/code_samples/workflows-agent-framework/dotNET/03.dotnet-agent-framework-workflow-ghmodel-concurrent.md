<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "b9c6e32c9b5f2fed20b6916984440d88",
  "translation_date": "2025-11-11T13:32:56+00:00",
  "source_file": "08-multi-agent/code_samples/workflows-agent-framework/dotNET/03.dotnet-agent-framework-workflow-ghmodel-concurrent.md",
  "language_code": "hr"
}
-->
# âš¡ Istovremeni radni tijekovi agenata s GitHub modelima (.NET)

## ğŸ“‹ VodiÄ za visokouÄinkovitu paralelnu obradu

Ovaj priruÄnik prikazuje **uzorke istovremenih radnih tijekova** koristeÄ‡i Microsoft Agent Framework za .NET i GitHub modele. NauÄit Ä‡ete kako izgraditi visokouÄinkovite radne tijekove paralelne obrade koji maksimiziraju propusnost istovremenim izvrÅ¡avanjem viÅ¡e AI agenata uz odrÅ¾avanje koordinacije i dosljednosti podataka.

## ğŸ¯ Ciljevi uÄenja

### ğŸš€ **Osnove istovremene obrade**
- **Paralelno izvrÅ¡avanje agenata**: Pokrenite viÅ¡e AI agenata istovremeno za maksimalnu uÄinkovitost
- **Async/Await uzorci**: Iskoristite .NET-ov model asinkronog programiranja za uÄinkovitu istovremenost
- **Integracija s GitHub modelima**: Koordinirajte viÅ¡e istovremenih poziva na GitHub-ovu uslugu za inferenciju AI modela
- **Upravljanje resursima**: UÄinkovito upravljajte resursima AI modela tijekom istovremenih operacija

### ğŸ—ï¸ **Napredna arhitektura istovremenosti**
- **Paralelizam temeljen na zadacima**: Koristite .NET Task Parallel Library za optimalno istovremeno izvrÅ¡avanje
- **Uzorci sinkronizacije**: Koordinirajte istovremene agente uz izbjegavanje utrka podataka
- **RavnoteÅ¾a optereÄ‡enja**: UÄinkovito raspodijelite rad na dostupni kapacitet istovremene obrade
- **Otpornost na greÅ¡ke**: Rukujte neuspjesima pojedinih agenata bez zaustavljanja cijelog radnog tijeka

### ğŸ¢ **Istovremene aplikacije za poduzeÄ‡a**
- **Obrada dokumenata velikog volumena**: Obradite viÅ¡e dokumenata istovremeno
- **Analiza sadrÅ¾aja u stvarnom vremenu**: Istovremena analiza dolaznih tokova podataka
- **Optimizacija obrade serija**: Maksimizirajte propusnost za operacije obrade velikih koliÄina podataka
- **Multimodalna analiza**: Paralelna obrada razliÄitih vrsta i formata sadrÅ¾aja

## âš™ï¸ Preduvjeti i postavljanje

### ğŸ“¦ **Potrebni NuGet paketi**

Osnovni paketi za visokouÄinkovite istovremene radne tijekove:

```xml
<!-- Core AI Framework with Async Support -->
<PackageReference Include="Microsoft.Extensions.AI" Version="9.9.0" />

<!-- Client Model Abstractions for API Communication -->
<PackageReference Include="System.ClientModel" Version="1.6.1.0" />

<!-- Azure Identity and Async LINQ for Advanced Operations -->
<PackageReference Include="Azure.Identity" Version="1.15.0" />
<PackageReference Include="System.Linq.Async" Version="6.0.3" />

<!-- Local Agent Framework References -->
<!-- Microsoft.Agents.AI.dll - Core agent abstractions with async support -->
<!-- Microsoft.Agents.AI.OpenAI.dll - GitHub Models integration with concurrency -->
```

### ğŸ”‘ **Konfiguracija GitHub modela**

**Postavljanje okruÅ¾enja (.env datoteka):**
```env
GITHUB_TOKEN=your_github_personal_access_token
GITHUB_ENDPOINT=https://models.inference.ai.azure.com
GITHUB_MODEL_ID=gpt-4o-mini
```

**Razmatranja za istovremenu obradu:**
```csharp
// Configure for concurrent operations
var clientOptions = new OpenAIClientOptions()
{
    Endpoint = new Uri(githubEndpoint),
    // Configure connection pooling for concurrent requests
    NetworkTimeout = TimeSpan.FromMinutes(5)
};
```

### ğŸ—ï¸ **Arhitektura istovremenog radnog tijeka**

```mermaid
graph TD
    A[Workflow Input] --> B[Task Distribution]
    B --> C[Concurrent Agent Pool]
    C --> D[Agent Task 1]
    C --> E[Agent Task 2]
    C --> F[Agent Task 3]
    C --> G[Agent Task N]
    
    D --> H[Result Aggregation]
    E --> H
    F --> H
    G --> H
    
    H --> I[Synchronized Output]
    
    J[GitHub Models API] --> D
    J --> E
    J --> F
    J --> G
    
    K[.NET Task Scheduler] --> C
```

**KljuÄne komponente:**
- **Task Parallel Library**: UgraÄ‘ena podrÅ¡ka .NET-a za istovremene operacije
- **Agent Pool**: ViÅ¡e instanci agenata za paralelnu obradu
- **Agregacija rezultata**: Koordinacija i spajanje rezultata istovremenih agenata
- **ToÄke sinkronizacije**: Osiguranje dosljednosti podataka tijekom istovremenih operacija

## ğŸ¨ **Uzorci dizajna istovremenih radnih tijekova**

### ğŸ” **Paralelno istraÅ¾ivanje i analiza**
```
Research Topic â†’ Concurrent Research Agents â†’ Result Synthesis â†’ Final Report
```

### ğŸ“Š **Obrada podataka iz viÅ¡e izvora**
```
Data Sources â†’ Parallel Processing Agents â†’ Data Integration â†’ Unified Output
```

### ğŸ­ **Cjevovod za generiranje sadrÅ¾aja**
```
Content Requirements â†’ Concurrent Content Generators â†’ Quality Review â†’ Final Content
```

### ğŸ”„ **Fan-Out/Fan-In obrada**
```
Single Input â†’ Multiple Concurrent Processors â†’ Result Aggregation â†’ Single Output
```

## ğŸ¢ **Prednosti za poduzeÄ‡a**

### âš¡ **Propusnost i skalabilnost**
- **Linearno skaliranje performansi**: Dodajte viÅ¡e istovremenih agenata za poveÄ‡anje propusnosti
- **IskoriÅ¡tenje resursa**: Maksimalna uÄinkovitost dostupnog kapaciteta AI modela
- **Smanjeno vrijeme obrade**: ZnaÄajno smanjenje vremena kroz paralelno izvrÅ¡avanje
- **ElastiÄno skaliranje**: DinamiÄno prilagoÄ‘avanje broja istovremenih agenata prema optereÄ‡enju

### ğŸ›¡ï¸ **Pouzdanost i otpornost**
- **Izolacija greÅ¡aka**: Neuspjesi pojedinih agenata ne utjeÄu na druge istovremene operacije
- **Postupno degradiranje**: Sustav nastavlja raditi s smanjenim kapacitetom agenata
- **Oporavak od greÅ¡aka**: Automatski mehanizmi ponovnog pokuÅ¡aja za neuspjele istovremene operacije
- **Raspodjela optereÄ‡enja**: Ravnomjerna raspodjela rada meÄ‘u dostupnim agentima

### ğŸ“Š **PraÄ‡enje performansi**
- **MetriÄke istovremenog izvrÅ¡avanja**: Pratite performanse svih paralelnih operacija
- **Analitika koriÅ¡tenja resursa**: Pratite koriÅ¡tenje CPU-a, memorije i mreÅ¾e
- **Analiza propusnosti**: Mjerite dobitke u uÄinkovitosti od istovremene obrade
- **Otkrivanje uskih grla**: Identificirajte i rijeÅ¡ite ograniÄenja performansi

### ğŸ”§ **Razvoj i operacije**
- **Asinkroni model programiranja**: Iskoristite zrele async/await uzorke .NET-a
- **Koordinacija zadataka**: UgraÄ‘ene moguÄ‡nosti upravljanja i koordinacije zadataka
- **Rukovanje iznimkama**: Sveobuhvatno rukovanje greÅ¡kama za istovremene operacije
- **PodrÅ¡ka za otklanjanje greÅ¡aka**: Alati za otklanjanje greÅ¡aka u Visual Studio za istovremene radne tijekove

Izgradimo visokouÄinkovite istovremene AI radne tijekove s .NET-om! ğŸš€

## ğŸ’» Pokretanje koda

Kompletna implementacija dostupna je u `03.dotnet-agent-framework-workflow-ghmodel-concurrent.cs`. Ova datoteka prikazuje **Fan-Out/Fan-In istovremeni radni tijek** za planiranje putovanja:

### ğŸ—ï¸ **Arhitektura radnog tijeka**

```
User Request â†’ ConcurrentStartExecutor â†’ [Researcher Agent || Planner Agent] â†’ ConcurrentAggregationExecutor â†’ Final Output
```

**KljuÄne komponente:**

1. **ConcurrentStartExecutor**: Istovremeno Å¡alje korisniÄki zahtjev svim agentima
2. **Researcher Agent**: Istovremeno analizira destinacije i atrakcije
3. **Planner Agent**: Istovremeno izraÄ‘uje detaljne planove putovanja
4. **ConcurrentAggregationExecutor**: Prikuplja i spaja rezultate oba agenta

### ğŸ¯ **Fan-Out/Fan-In uzorak**

Ovaj radni tijek prikazuje klasiÄni **Fan-Out/Fan-In** uzorak:
- **Fan-Out**: Jedna ulazna poruka Å¡alje se istovremeno svim agentima
- **Istovremena obrada**: ViÅ¡e agenata radi paralelno na istom zadatku
- **Fan-In**: Rezultati svih agenata prikupljaju se i agregiraju u jedan izlaz

### ğŸš€ Pokretanje primjera

```bash
# Make the script executable (Unix/Linux/macOS)
chmod +x 03.dotnet-agent-framework-workflow-ghmodel-concurrent.cs

# Run the concurrent workflow
./03.dotnet-agent-framework-workflow-ghmodel-concurrent.cs
```

Ili na Windowsu:
```powershell
dotnet run 03.dotnet-agent-framework-workflow-ghmodel-concurrent.cs
```

### ğŸ“ OÄekivani izlaz

Radni tijek Ä‡e:
1. **Slanje zahtjeva**: Poslati "Planiraj putovanje u Seattle u prosincu" obojici agenata
2. **Istovremena obrada**: Oba agenta rade istovremeno:
   - Researcher identificira atrakcije i detalje
   - Planner izraÄ‘uje itinerar i logistiku
3. **Agregacija**: Kombinirati oba odgovora u sveobuhvatan izlaz
4. **Prikaz rezultata**: Prikazati objedinjeni plan putovanja sa svim informacijama

### ğŸ”§ Opcije prilagodbe

**Dodavanje viÅ¡e istovremenih agenata:**
```csharp
// Create additional specialized agents
AIAgent budgetAgent = openAIClient.GetChatClient(github_model_id).CreateAIAgent(
    name: "Budget-Agent", instructions: "Calculate travel costs...");

// Add to fan-out
var workflow = new WorkflowBuilder(startExecutor)
    .AddFanOutEdge(startExecutor, targets: [researcherAgent, plannerAgent, budgetAgent])
    .AddFanInEdge(aggregationExecutor, sources: [researcherAgent, plannerAgent, budgetAgent])
    .WithOutputFrom(aggregationExecutor)
    .Build();

// Update aggregation count
if (this._messages.Count == 3) { ... }
```

**Modifikacija uputa za agente:**
```csharp
const string ResearcherAgentInstructions = "Your custom instructions for research...";
const string PlanAgentInstructions = "Your custom instructions for planning...";
```

**Promjena zadatka:**
```csharp
StreamingRun run = await InProcessExecution.StreamAsync(
    workflow, 
    "Plan a European vacation for 2 weeks in summer"
);
```

### ğŸ¯ Primjene u stvarnom svijetu

Ovaj uzorak istovremenosti idealan je za:
- **Kreiranje sadrÅ¾aja**: ViÅ¡e pisaca istovremeno izraÄ‘uje razliÄite dijelove
- **Pregled koda**: ViÅ¡e recenzenata analizira kod iz razliÄitih perspektiva
- **IstraÅ¾ivanje trÅ¾iÅ¡ta**: Paralelna analiza razliÄitih trÅ¾iÅ¡nih segmenata
- **Obrada dokumenata**: Istovremeno izdvajanje, analiza i validacija
- **Analiza iz viÅ¡e perspektiva**: Dobivanje razliÄitih pogleda na isti ulaz

### ğŸ” Razumijevanje prilagoÄ‘enih izvrÅ¡itelja

**ConcurrentStartExecutor:**
- Implementira `IMessageHandler<string>` za prihvaÄ‡anje ulaznog stringa
- Å alje poruke svim povezanim agentima
- Å alje `TurnToken` za pokretanje istovremene obrade

**ConcurrentAggregationExecutor:**
- Implementira `IMessageHandler<ChatMessage>` za primanje odgovora agenata
- Prikuplja poruke na naÄin siguran za viÅ¡e niti
- Agregira kada stignu svi oÄekivani odgovori
- Daje konaÄni izlaz koristeÄ‡i `context.YieldOutputAsync()`

### âš¡ Prednosti performansi

**Istovremeno vs sekvencijalno:**
- Sekvencijalno: Agent1 (30s) â†’ Agent2 (30s) = **60 sekundi ukupno**
- Istovremeno: Agent1 (30s) || Agent2 (30s) = **30 sekundi ukupno**

**PoboljÅ¡anje propusnosti**: Do NÃ— brÅ¾e za N istovremenih agenata (ovisno o optereÄ‡enju i resursima)

### ğŸ›¡ï¸ Rukovanje greÅ¡kama

Radni tijek rukuje neuspjesima pojedinih agenata na elegantan naÄin:
- Ako jedan agent ne uspije, drugi nastavljaju obradu
- Agregator moÅ¾e implementirati logiku vremenskog ograniÄenja
- DjelomiÄni rezultati mogu se vratiti ako je potrebno

### ğŸ“Š Napredne znaÄajke

**DinamiÄan broj agenata:**
Prilagodite logiku agregacije za podrÅ¡ku promjenjivom broju agenata:

```csharp
private int _expectedAgentCount;
private readonly List<ChatMessage> _messages = [];

public async ValueTask HandleAsync(ChatMessage message, IWorkflowContext context)
{
    this._messages.Add(message);
    if (this._messages.Count == _expectedAgentCount)
    {
        // Process aggregation
    }
}
```

Ovaj uzorak istovremenog radnog tijeka kljuÄan je za izgradnju visokouÄinkovitih, skalabilnih sustava AI agenata!

---

<!-- CO-OP TRANSLATOR DISCLAIMER START -->
**Odricanje od odgovornosti**:  
Ovaj dokument je preveden pomoÄ‡u AI usluge za prevoÄ‘enje [Co-op Translator](https://github.com/Azure/co-op-translator). Iako nastojimo osigurati toÄnost, imajte na umu da automatski prijevodi mogu sadrÅ¾avati pogreÅ¡ke ili netoÄnosti. Izvorni dokument na izvornom jeziku treba smatrati autoritativnim izvorom. Za kljuÄne informacije preporuÄuje se profesionalni prijevod od strane Äovjeka. Ne odgovaramo za nesporazume ili pogreÅ¡na tumaÄenja koja proizlaze iz koriÅ¡tenja ovog prijevoda.
<!-- CO-OP TRANSLATOR DISCLAIMER END -->