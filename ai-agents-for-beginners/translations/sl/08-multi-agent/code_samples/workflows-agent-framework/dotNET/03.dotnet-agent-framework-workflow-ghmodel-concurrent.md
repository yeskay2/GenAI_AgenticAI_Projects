<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "b9c6e32c9b5f2fed20b6916984440d88",
  "translation_date": "2025-11-11T13:33:37+00:00",
  "source_file": "08-multi-agent/code_samples/workflows-agent-framework/dotNET/03.dotnet-agent-framework-workflow-ghmodel-concurrent.md",
  "language_code": "sl"
}
-->
# âš¡ SoÄasni delovni tokovi agentov z modeli GitHub (.NET)

## ğŸ“‹ Vadnica za visokozmogljivo vzporedno obdelavo

Ta zvezek prikazuje **vzorce soÄasnih delovnih tokov** z uporabo Microsoft Agent Framework za .NET in modelov GitHub. NauÄili se boste, kako zgraditi visokozmogljive delovne tokove za vzporedno obdelavo, ki maksimizirajo prepustnost z istoÄasnim izvajanjem veÄ AI agentov ob ohranjanju koordinacije in doslednosti podatkov.

## ğŸ¯ Cilji uÄenja

### ğŸš€ **Osnove soÄasne obdelave**
- **IstoÄasno izvajanje agentov**: IstoÄasno izvajanje veÄ AI agentov za maksimalno zmogljivost
- **Vzorec Async/Await**: Uporaba asinhronega programskega modela .NET za uÄinkovito soÄasnost
- **Integracija modelov GitHub**: Koordinacija veÄ soÄasnih klicev storitve za sklepanje modelov GitHub
- **Upravljanje virov**: UÄinkovito upravljanje virov modelov AI pri soÄasnih operacijah

### ğŸ—ï¸ **Napredna arhitektura soÄasnosti**
- **Vzporednost na osnovi nalog**: Uporaba knjiÅ¾nice Task Parallel Library .NET za optimalno soÄasno izvajanje
- **Vzorec sinhronizacije**: Koordinacija soÄasnih agentov ob izogibanju tekmovalnim pogojem
- **UravnoteÅ¾enje obremenitve**: UÄinkovita razdelitev dela med razpoloÅ¾ljivo zmogljivost soÄasne obdelave
- **Odpornost na napake**: Obvladovanje posameznih napak agentov brez zaustavitve celotnega delovnega toka

### ğŸ¢ **SoÄasne aplikacije za podjetja**
- **Obdelava dokumentov z velikim obsegom**: IstoÄasna obdelava veÄ dokumentov
- **Analiza vsebine v realnem Äasu**: SoÄasna analiza dohodnih podatkovnih tokov
- **Optimizacija obdelave serij**: Maksimizacija prepustnosti za obdelavo podatkov v velikem obsegu
- **Multimodalna analiza**: Vzporedna obdelava razliÄnih vrst in formatov vsebine

## âš™ï¸ Predpogoji in nastavitev

### ğŸ“¦ **Potrebni paketi NuGet**

Bistveni paketi za visokozmogljive soÄasne delovne tokove:

```xml
<!-- Core AI Framework with Async Support -->
<PackageReference Include="Microsoft.Extensions.AI" Version="9.9.0" />

<!-- Client Model Abstractions for API Communication -->
<PackageReference Include="System.ClientModel" Version="1.6.1.0" />

<!-- Azure Identity and Async LINQ for Advanced Operations -->
<PackageReference Include="Azure.Identity" Version="1.15.0" />
<PackageReference Include="System.Linq.Async" Version="6.0.3" />

<!-- Local Agent Framework References -->
<!-- Microsoft.Agents.AI.dll - Core agent abstractions with async support -->
<!-- Microsoft.Agents.AI.OpenAI.dll - GitHub Models integration with concurrency -->
```

### ğŸ”‘ **Konfiguracija modelov GitHub**

**Nastavitev okolja (.env datoteka):**
```env
GITHUB_TOKEN=your_github_personal_access_token
GITHUB_ENDPOINT=https://models.inference.ai.azure.com
GITHUB_MODEL_ID=gpt-4o-mini
```

**Premisleki o soÄasni obdelavi:**
```csharp
// Configure for concurrent operations
var clientOptions = new OpenAIClientOptions()
{
    Endpoint = new Uri(githubEndpoint),
    // Configure connection pooling for concurrent requests
    NetworkTimeout = TimeSpan.FromMinutes(5)
};
```

### ğŸ—ï¸ **Arhitektura soÄasnega delovnega toka**

```mermaid
graph TD
    A[Workflow Input] --> B[Task Distribution]
    B --> C[Concurrent Agent Pool]
    C --> D[Agent Task 1]
    C --> E[Agent Task 2]
    C --> F[Agent Task 3]
    C --> G[Agent Task N]
    
    D --> H[Result Aggregation]
    E --> H
    F --> H
    G --> H
    
    H --> I[Synchronized Output]
    
    J[GitHub Models API] --> D
    J --> E
    J --> F
    J --> G
    
    K[.NET Task Scheduler] --> C
```

**KljuÄne komponente:**
- **KnjiÅ¾nica Task Parallel Library**: Vgrajena podpora .NET za soÄasne operacije
- **Bazen agentov**: VeÄ instanc agentov za vzporedno obdelavo
- **ZdruÅ¾evanje rezultatov**: Koordinacija in zdruÅ¾evanje rezultatov soÄasnih agentov
- **ToÄke sinhronizacije**: Zagotavljanje doslednosti podatkov pri soÄasnih operacijah

## ğŸ¨ **Vzorec oblikovanja soÄasnih delovnih tokov**

### ğŸ” **Vzporedno raziskovanje in analiza**
```
Research Topic â†’ Concurrent Research Agents â†’ Result Synthesis â†’ Final Report
```

### ğŸ“Š **Obdelava podatkov iz veÄ virov**
```
Data Sources â†’ Parallel Processing Agents â†’ Data Integration â†’ Unified Output
```

### ğŸ­ **Cevovod za generiranje vsebine**
```
Content Requirements â†’ Concurrent Content Generators â†’ Quality Review â†’ Final Content
```

### ğŸ”„ **Obdelava Fan-Out/Fan-In**
```
Single Input â†’ Multiple Concurrent Processors â†’ Result Aggregation â†’ Single Output
```

## ğŸ¢ **Prednosti zmogljivosti za podjetja**

### âš¡ **Prepustnost in razÅ¡irljivost**
- **Linearno skaliranje zmogljivosti**: Dodajte veÄ soÄasnih agentov za poveÄanje prepustnosti
- **Izkoristek virov**: Maksimalna uÄinkovitost razpoloÅ¾ljive zmogljivosti modelov AI
- **ZmanjÅ¡an Äas obdelave**: Znatno zmanjÅ¡anje Äasa z vzporednim izvajanjem
- **ElastiÄno skaliranje**: DinamiÄno prilagajanje Å¡tevila soÄasnih agentov glede na obremenitev

### ğŸ›¡ï¸ **Zanesljivost in odpornost**
- **Izolacija napak**: Posamezne napake agentov ne vplivajo na druge soÄasne operacije
- **Postopno poslabÅ¡anje**: Sistem deluje naprej z zmanjÅ¡ano zmogljivostjo agentov
- **Obnovitev po napakah**: Samodejni mehanizmi ponovnega poskusa za neuspele soÄasne operacije
- **Razdelitev obremenitve**: Enakomerna razdelitev dela med razpoloÅ¾ljive agente

### ğŸ“Š **Spremljanje zmogljivosti**
- **MetriÄne soÄasne izvedbe**: Sledenje zmogljivosti vseh vzporednih operacij
- **Analitika uporabe virov**: Spremljanje uporabe CPU, pomnilnika in omreÅ¾ja
- **Analiza prepustnosti**: Merjenje uÄinkovitostnih pridobitev zaradi soÄasne obdelave
- **Odkrivanje ozkih grl**: Identifikacija in odprava omejitev zmogljivosti

### ğŸ”§ **Razvoj in operacije**
- **Asinhroni programski model**: Uporaba zrelih vzorcev async/await v .NET
- **Koordinacija nalog**: Vgrajeno upravljanje in koordinacija nalog
- **Obravnava izjem**: Celovito obravnavanje napak pri soÄasnih operacijah
- **Podpora za odpravljanje napak**: Orodja za odpravljanje napak v Visual Studio za soÄasne delovne tokove

Zgradimo visokozmogljive soÄasne AI delovne tokove z .NET! ğŸš€

## ğŸ’» Zagon kode

Celotna implementacija je na voljo v `03.dotnet-agent-framework-workflow-ghmodel-concurrent.cs`. Ta datoteka prikazuje **soÄasni delovni tok Fan-Out/Fan-In** za naÄrtovanje potovanj:

### ğŸ—ï¸ **Arhitektura delovnega toka**

```
User Request â†’ ConcurrentStartExecutor â†’ [Researcher Agent || Planner Agent] â†’ ConcurrentAggregationExecutor â†’ Final Output
```

**KljuÄne komponente:**

1. **ConcurrentStartExecutor**: IstoÄasno poÅ¡lje zahtevo uporabnika vsem agentom
2. **Raziskovalni agent**: IstoÄasno analizira destinacije in znamenitosti
3. **NaÄrtovalni agent**: IstoÄasno ustvari podrobne naÄrte potovanja
4. **ConcurrentAggregationExecutor**: Zbira in zdruÅ¾uje rezultate obeh agentov

### ğŸ¯ **Vzorec Fan-Out/Fan-In**

Ta delovni tok prikazuje klasiÄni vzorec **Fan-Out/Fan-In**:
- **Fan-Out**: Ena vhodna zahteva se istoÄasno poÅ¡lje veÄ agentom
- **SoÄasna obdelava**: VeÄ agentov istoÄasno dela na isti nalogi
- **Fan-In**: Rezultati vseh agentov se zberejo in zdruÅ¾ijo v en izhod

### ğŸš€ Zagon primera

```bash
# Make the script executable (Unix/Linux/macOS)
chmod +x 03.dotnet-agent-framework-workflow-ghmodel-concurrent.cs

# Run the concurrent workflow
./03.dotnet-agent-framework-workflow-ghmodel-concurrent.cs
```

Ali na Windows:
```powershell
dotnet run 03.dotnet-agent-framework-workflow-ghmodel-concurrent.cs
```

### ğŸ“ PriÄakovani izhod

Delovni tok bo:
1. **PoÅ¡iljanje zahteve**: PoÅ¡lje "NaÄrtuj potovanje v Seattle decembra" obema agentoma
2. **SoÄasna obdelava**: Oba agenta delata istoÄasno:
   - Raziskovalec identificira znamenitosti in podrobnosti
   - NaÄrtovalec ustvari itinerar in logistiko
3. **ZdruÅ¾evanje**: ZdruÅ¾i oba odgovora v celovit izhod
4. **Prikaz rezultatov**: PrikaÅ¾e zdruÅ¾en naÄrt potovanja z vsemi informacijami

### ğŸ”§ MoÅ¾nosti prilagoditve

**Dodaj veÄ soÄasnih agentov:**
```csharp
// Create additional specialized agents
AIAgent budgetAgent = openAIClient.GetChatClient(github_model_id).CreateAIAgent(
    name: "Budget-Agent", instructions: "Calculate travel costs...");

// Add to fan-out
var workflow = new WorkflowBuilder(startExecutor)
    .AddFanOutEdge(startExecutor, targets: [researcherAgent, plannerAgent, budgetAgent])
    .AddFanInEdge(aggregationExecutor, sources: [researcherAgent, plannerAgent, budgetAgent])
    .WithOutputFrom(aggregationExecutor)
    .Build();

// Update aggregation count
if (this._messages.Count == 3) { ... }
```

**Spremeni navodila za agente:**
```csharp
const string ResearcherAgentInstructions = "Your custom instructions for research...";
const string PlanAgentInstructions = "Your custom instructions for planning...";
```

**Spremeni nalogo:**
```csharp
StreamingRun run = await InProcessExecution.StreamAsync(
    workflow, 
    "Plan a European vacation for 2 weeks in summer"
);
```

### ğŸ¯ ResniÄne aplikacije

Ta vzorec soÄasnosti je idealen za:
- **Ustvarjanje vsebine**: VeÄ piscev istoÄasno ustvarja razliÄne odseke
- **Pregled kode**: VeÄ pregledovalcev analizira kodo z razliÄnih vidikov
- **Raziskave trga**: Vzporedna analiza razliÄnih trÅ¾nih segmentov
- **Obdelava dokumentov**: SoÄasno pridobivanje, analiza in validacija
- **Analiza z veÄ perspektivami**: Pridobivanje razliÄnih pogledov na isti vhod

### ğŸ” Razumevanje prilagojenih izvajalcev

**ConcurrentStartExecutor:**
- Implementira `IMessageHandler<string>` za sprejemanje vhodnih nizov
- IstoÄasno poÅ¡lje sporoÄila vsem povezanim agentom
- PoÅ¡lje `TurnToken` za sproÅ¾itev soÄasne obdelave

**ConcurrentAggregationExecutor:**
- Implementira `IMessageHandler<ChatMessage>` za sprejemanje odgovorov agentov
- Zbira sporoÄila na naÄin, ki je varen za veÄ niti
- ZdruÅ¾i, ko prispejo vsi priÄakovani odgovori
- Ustvari konÄni izhod z uporabo `context.YieldOutputAsync()`

### âš¡ Prednosti zmogljivosti

**SoÄasno vs zaporedno:**
- Zaporedno: Agent1 (30s) â†’ Agent2 (30s) = **60 sekund skupaj**
- SoÄasno: Agent1 (30s) || Agent2 (30s) = **30 sekund skupaj**

**IzboljÅ¡anje prepustnosti**: Do NÃ— hitreje za N soÄasnih agentov (odvisno od obremenitve in virov)

### ğŸ›¡ï¸ Obravnava napak

Delovni tok obravnava posamezne napake agentov brez teÅ¾av:
- ÄŒe en agent odpove, drugi nadaljujejo obdelavo
- ZdruÅ¾evalnik lahko implementira logiko Äasovne omejitve
- Po potrebi se lahko vrnejo delni rezultati

### ğŸ“Š Napredne funkcije

**DinamiÄno Å¡tevilo agentov:**
Spremenite logiko zdruÅ¾evanja za podporo spremenljivemu Å¡tevilu agentov:

```csharp
private int _expectedAgentCount;
private readonly List<ChatMessage> _messages = [];

public async ValueTask HandleAsync(ChatMessage message, IWorkflowContext context)
{
    this._messages.Add(message);
    if (this._messages.Count == _expectedAgentCount)
    {
        // Process aggregation
    }
}
```

Ta vzorec soÄasnega delovnega toka je bistven za gradnjo visokozmogljivih, razÅ¡irljivih sistemov AI agentov!

---

<!-- CO-OP TRANSLATOR DISCLAIMER START -->
**Omejitev odgovornosti**:  
Ta dokument je bil preveden z uporabo storitve AI za prevajanje [Co-op Translator](https://github.com/Azure/co-op-translator). ÄŒeprav si prizadevamo za natanÄnost, vas prosimo, da upoÅ¡tevate, da lahko avtomatizirani prevodi vsebujejo napake ali netoÄnosti. Izvirni dokument v njegovem maternem jeziku naj se Å¡teje za avtoritativni vir. Za kljuÄne informacije priporoÄamo profesionalni ÄloveÅ¡ki prevod. Ne odgovarjamo za morebitne nesporazume ali napaÄne razlage, ki izhajajo iz uporabe tega prevoda.
<!-- CO-OP TRANSLATOR DISCLAIMER END -->