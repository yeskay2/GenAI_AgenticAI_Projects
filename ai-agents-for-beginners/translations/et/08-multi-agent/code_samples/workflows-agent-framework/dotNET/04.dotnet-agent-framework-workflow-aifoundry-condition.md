<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "8abd335151cee553293b637ee3d80d10",
  "translation_date": "2025-11-11T12:37:12+00:00",
  "source_file": "08-multi-agent/code_samples/workflows-agent-framework/dotNET/04.dotnet-agent-framework-workflow-aifoundry-condition.md",
  "language_code": "et"
}
-->
# ğŸ”€ Tingimuslikud agentide tÃ¶Ã¶vood Azure AI Foundryga (.NET)

## ğŸ“‹ Nutikas otsustuspÃµhine tÃ¶Ã¶voo Ãµpetus

See mÃ¤rkmik demonstreerib **tingimuslikke tÃ¶Ã¶voo mustreid**, kasutades Azure AI Foundryt ja Microsoft Agent Frameworki .NET jaoks. Ã•pid looma keerukaid, otsustepÃµhiseid tÃ¶Ã¶vooge, mis suunavad tÃ¶Ã¶tlemist intelligentselt AI analÃ¼Ã¼si, Ã¤rireeglite ja dÃ¼naamiliste tingimuste alusel, et saavutada ettevÃµtte tasemel automatiseerimine.

## ğŸ¯ Ã•pieesmÃ¤rgid

### ğŸ§  **Nutika otsustusarhitektuur**
- **Tingimusliku loogika rakendamine**: Loo keerukaid otsustepuid mitme harupunktiga
- **AI-pÃµhine suunamine**: Kasuta Azure AI Foundry mudeleid intelligentsete suunamisotsuste tegemiseks
- **DÃ¼naamiline tÃ¶Ã¶voo kohandamine**: Muuda tÃ¶Ã¶voo kÃ¤itumist jooksva analÃ¼Ã¼si ja tingimuste alusel
- **EttevÃµtte reeglite integreerimine**: Kaasa tÃ¶Ã¶voogudesse Ã¤riloogika ja vastavusnÃµuded

### ğŸ”€ **Tingimuslikud mustrid**
- **Mitme kriteeriumi otsuste tegemine**: Hinda mitmeid tegureid suunamisotsuste tegemiseks
- **Kontekstiteadlik tÃ¶Ã¶tlemine**: Tee otsuseid, tuginedes kogunenud tÃ¶Ã¶voo kontekstile ja ajaloole
- **Kohanduv tÃ¶Ã¶voo muutmine**: Kohanda tÃ¶Ã¶tlemisteid reaalajas tingimuste alusel
- **Reeglimootori integreerimine**: Rakenda keerukaid Ã¤rireeglimootoreid tÃ¶Ã¶voogudes

### ğŸ¢ **EttevÃµtte tingimuslikud rakendused**
- **Dokumentide klassifitseerimine ja suunamine**: Klassifitseeri ja suuna dokumendid automaatselt sobivatesse tÃ¶Ã¶voogudesse
- **Klienditeeninduse triage**: KliendipÃ¤ringute intelligentne suunamine spetsialiseeritud meeskondadele
- **Vastavus- ja riskitÃ¶Ã¶tlus**: Rakenda erinevaid valideerimis- ja Ã¼levaatusprotsesse riskihinnangu alusel
- **Kvaliteedikontrolli tÃ¶Ã¶vood**: Suuna sisu sobivatesse Ã¼levaatusprotsessidesse kvaliteedimÃµÃµdikute alusel

## âš™ï¸ Eeltingimused ja seadistamine

### ğŸ“¦ **NÃµutavad NuGet paketid**

Tingimusliku tÃ¶Ã¶voo tÃ¶Ã¶tlemiseks vajalikud tÃ¤iustatud paketid:

```xml
<!-- Core AI Framework -->
<PackageReference Include="Microsoft.Extensions.AI" Version="9.9.0" />

<!-- Azure AI Agents with Persistent State -->
<PackageReference Include="Azure.AI.Agents.Persistent" Version="1.2.0-beta.5" />

<!-- Azure Identity and Utilities -->
<PackageReference Include="Azure.Identity" Version="1.15.0" />
<PackageReference Include="System.Linq.Async" Version="6.0.3" />
<PackageReference Include="DotNetEnv" Version="3.1.1" />

<!-- Local Workflow Framework References -->
<!-- Microsoft.Agents.Workflows.dll - Advanced workflow orchestration -->
<!-- Microsoft.Agents.AI.AzureAI.dll - Azure AI Foundry integration -->
<!-- Microsoft.Agents.AI.dll - Core agent abstractions -->
```

### ğŸ”‘ **Azure AI Foundry konfiguratsioon**

**NÃµutavad Azure'i ressursid:**
- Azure AI Foundry tÃ¶Ã¶ruum tingimusliku tÃ¶Ã¶tlemise mudelitega
- Azure'i tellimus sobivate arvutuslimiitide ja Ãµigustega
- OtsustepÃµhiste ja sisuanalÃ¼Ã¼si mudelite juurutamine
- (Valikuline) Bing Search API Ã¼hendus maandamisvÃµimekuse jaoks

**Keskkonna konfiguratsioon (.env fail):**
```env
# Azure AI Foundry Configuration
AZURE_AI_PROJECT_ENDPOINT=https://your-project.cognitiveservices.azure.com/
BING_CONNECTION_ID=your-bing-connection-id
```

**Autentimise seadistamine:**
```csharp
// Azure CLI or Managed Identity authentication
using Azure.Identity;
var credential = new AzureCliCredential();

// Load environment configuration
DotNetEnv.Env.Load("../../../.env");
```

### ğŸ—ï¸ **Tingimusliku tÃ¶Ã¶voo arhitektuur**

```mermaid
graph TD
    A[Input: Content Outline] --> B[Draft Executor]
    B --> C[Content Review Executor]
    C --> D{Review Decision}
    
    D -->|Yes - Approved| E[Publish Executor]
    D -->|No - Rejected| F[Send Review Executor]
    
    E --> G[Save as Markdown File]
    F --> H[Notify for Revisions]
    
    I[Azure AI Foundry] --> B
    I --> C
    I --> E
    
    J[Bing Grounding] --> B
```

**Peamised komponendid:**
- **Draft Executor**: AI agent, mis loob esialgsed sisukavandid
- **Content Review Executor**: AI agent, mis hindab kavandi kvaliteeti ja vastavust
- **Tingimuslik suunamine**: Otsustusloogika, mis suunab Ã¼levaatuse tulemuste alusel
- **Avaldamise/Ã¼levaatuse teed**: Eraldi tÃ¶Ã¶tlemisteed heakskiidetud ja tagasi lÃ¼katud sisu jaoks
- **Oleku haldamine**: SÃ¤ilitab sisu ja Ã¼levaatuse konteksti kogu tÃ¶Ã¶voo vÃ¤ltel

## ğŸ¨ **Tingimusliku tÃ¶Ã¶voo disainimustrid**

### ğŸ“‹ **Sisuloome kvaliteedi vÃ¤ravatega**
```
Outline â†’ Draft Creation â†’ Quality Review â†’ {Approve: Publish | Reject: Revise}
```

### ğŸ¯ **RiskipÃµhine dokumentide tÃ¶Ã¶tlemine**
```
Document â†’ Risk Assessment â†’ {Low: Standard | High: Enhanced Review}
```

### ğŸ” **Intelligentne klienditeeninduse suunamine**
```
Customer Query â†’ Analysis â†’ {Simple: FAQ Bot | Complex: Human Agent}
```

### ğŸ’¼ **VastavuspÃµhised tÃ¶Ã¶vood**
```
Content â†’ Compliance Check â†’ {Pass: Publish | Fail: Legal Review}
```

## ğŸ¢ **EttevÃµtte tingimuslikud eelised**

### ğŸ¯ **Nutikas automatiseerimine**
- **Targad otsused**: AI-pÃµhised suunamisotsused sisuanalÃ¼Ã¼si ja konteksti alusel
- **Kohanduv tÃ¶Ã¶tlemine**: TÃ¶Ã¶vood, mis kohanduvad automaatselt muutuvate tingimuste jÃ¤rgi
- **Ã„rireeglite rakendamine**: Keerukate Ã¤riloogikate ja poliitikate automaatne rakendamine
- **Kontekstiteadlik suunamine**: Otsused, mis pÃµhinevad kogu tÃ¶Ã¶voo ajaloole ja kogunenud kontekstile

### ğŸ“ˆ **Operatiivne tipptase**
- **Ressursside optimeeritud jaotamine**: Suuna tÃ¶Ã¶ kÃµige sobivamatele spetsialistidele ja protsessidele
- **VÃ¤henenud kÃ¤sitsi sekkumine**: Automaatne otsustamine vÃ¤hendab inimeste vajadust suunamiseks
- **Kiirem lahendusaeg**: Otsene suunamine sobivale ekspertiisile ja tÃ¶Ã¶tlemisvÃµimekusele
- **JÃ¤rjekindel rakendamine**: Ãœhtne Ã¤rireeglite ja otsustuskriteeriumide rakendamine

### ğŸ›¡ï¸ **Riskijuhtimine ja vastavus**
- **Automaatne riskihinnang**: AI-pÃµhine sisu ja olukorra riskitaseme hindamine
- **Vastavuse tagamine**: Automaatne suunamine vajalike regulatiivsete protsesside kaudu
- **Turvaprotokollide rakendamine**: TÃµhustatud turvameetmed rakendatakse riskihinnangu alusel
- **AuditijÃ¤lje sÃ¤ilitamine**: TÃ¶Ã¶voo otsuste ja pÃµhjenduste tÃ¤ielik dokumentatsioon

### ğŸ“Š **AnalÃ¼Ã¼tika ja pidev tÃ¤iustamine**
- **Otsuste analÃ¼Ã¼tika**: JÃ¤lgi suunamisotsuste tÃµhusust ja tÃ¤psust
- **Mustrite tuvastamine**: Tuvasta suunamisotsuste suundumusi ja mustreid aja jooksul
- **TÃ¶Ã¶voo optimeerimine**: Otsustuskriteeriumide ja suunamise tÃµhususe pidev tÃ¤iustamine
- **Ã„riteave**: Ãœlevaated sisu omadustest ja tÃ¶Ã¶tlemisvajadustest

### ğŸ”§ **Tehniline tipptase**
- **PÃ¼siv oleku haldamine**: SÃ¤ilita keerukas olek kogu tÃ¶Ã¶voo tÃ¤itmise ajal
- **Mastaapsus**: Toeta suuremahulisi tingimusliku tÃ¶Ã¶tlemise nÃµudeid
- **IntegreerimisvÃµimekus**: Sujuv integreerimine olemasolevate Ã¤risÃ¼steemide ja protsessidega
- **JÃ¤lgimine ja nÃ¤htavus**: TÃ¶Ã¶voo jÃµudluse ja otsuste ulatuslik jÃ¤lgimine

Loome nutikaid, otsustepÃµhiseid ettevÃµtte tÃ¶Ã¶vooge .NET-iga! ğŸš€

## ğŸ’» Koodi kÃ¤ivitamine

TÃ¤ielik teostus on saadaval failis `04.dotnet-agent-framework-workflow-aifoundry-condition.cs`. See demonstreerib **sisuloome tÃ¶Ã¶voogu kvaliteedi vÃ¤ravatega**:

### ğŸ—ï¸ **TÃ¶Ã¶voo arhitektuur**

```
Content Outline â†’ Draft Creation â†’ Quality Review â†’ Conditional Routing:
                                                      â”œâ”€ Approved (>200 words) â†’ Publish
                                                      â””â”€ Rejected (<200 words) â†’ Review Notification
```

**Agendid tÃ¶Ã¶voos:**
1. **Evangelist Agent**: Loob Ãµpetuse kavandid Bing maandamisega
2. **Content Reviewer Agent**: Hindab kavandi kvaliteeti (sÃµnade arv, tÃ¤ielikkus)
3. **Publisher Agent**: Salvestab heakskiidetud sisu ajatemplitud Markdown-failidena

**Kohandatud tÃ¤itjad:**
1. **DraftExecutor**: Orkestreerib kavandi loomist
2. **ContentReviewExecutor**: Viib lÃ¤bi kvaliteedi hindamise
3. **PublishExecutor**: Haldab heakskiidetud sisu avaldamist
4. **SendReviewExecutor**: Haldab tagasi lÃ¼katud sisu teavitusi

### ğŸš€ NÃ¤ite kÃ¤ivitamine

**Eeltingimused:**
- Azure AI Foundry tÃ¶Ã¶ruum konfigureeritud
- Azure CLI autentimine (`az login`)
- (Valikuline) Bing Search Ã¼hendus maandamiseks

```bash
# Make the script executable (Unix/Linux/macOS)
chmod +x 04.dotnet-agent-framework-workflow-aifoundry-condition.cs

# Run the conditional workflow
./04.dotnet-agent-framework-workflow-aifoundry-condition.cs
```

VÃµi Windowsis:
```powershell
dotnet run 04.dotnet-agent-framework-workflow-aifoundry-condition.cs
```

### ğŸ“ Oodatav vÃ¤ljund

TÃ¶Ã¶voog:
1. **Loob agendid**: Initsialiseerib kolm spetsialiseeritud Azure AI Foundry agenti
2. **Loob kavandi**: Evangelist agent loob Ãµpetuse kavandi
3. **Hindab sisu**: Content Reviewer hindab kavandi kvaliteeti
4. **Tingimuslik suunamine**:
   - **Kui heakskiidetud (>200 sÃµna)**: Publish executor salvestab Markdown-failina
   - **Kui tagasi lÃ¼katud (<200 sÃµna)**: Send review teavitab
5. **NÃ¤itab tulemusi**: Kuvab lÃµpliku tÃ¶Ã¶voo tulemuse

### ğŸ”§ KohandamisvÃµimalused

**Muuda Ã¼levaatuse kriteeriume:**
```csharp
const string ContentReviewerInstructions = @"
You are a content reviewer...
1. Check if content is more than 500 words (instead of 200)
2. Verify technical accuracy
3. Ensure proper formatting
...";
```

**Lisa rohkem tingimuslikke teid:**
```csharp
var workflow = new WorkflowBuilder(draftExecutor)
    .AddEdge(draftExecutor, contentReviewerExecutor)
    .AddEdge(contentReviewerExecutor, publishExecutor, condition: GetCondition("Excellent"))
    .AddEdge(contentReviewerExecutor, editExecutor, condition: GetCondition("Good"))
    .AddEdge(contentReviewerExecutor, sendReviewerExecutor, condition: GetCondition("Poor"))
    .Build();
```

**Muuda sisunÃµudeid:**
```csharp
string OUTLINE_Content = @"
# Your Custom Topic
## Section 1
https://your-reference-url
## Section 2
...
";
```

### ğŸ¯ Reaalsed rakendused

See tingimusliku tÃ¶Ã¶voo muster sobib ideaalselt:
- **SisuhaldussÃ¼steemid**: Automaatne toimetuse tÃ¶Ã¶voog kvaliteedi vÃ¤ravatega
- **Dokumentide tÃ¶Ã¶tlemine**: Suuna dokumendid klassifikatsiooni ja vastavuse alusel
- **Klienditugi**: Intelligentsed piletite suunamised keerukuse ja kiireloomulisuse alusel
- **Ã•iguslik Ã¼levaatus**: Suuna lepingud riskihinnangu ja vÃ¤Ã¤rtuse alusel
- **HR protsessid**: Suuna taotlused sobivatesse sÃµelumisvoogudesse

### ğŸ” Tingimusliku loogika mÃµistmine

**Tingimuse funktsioon:**
```csharp
public Func<object?, bool> GetCondition(string expectedResult) =>
    reviewResult => reviewResult is ReviewResult review && review.Result == expectedResult;
```

See funktsioon loob predikaadi, mis:
1. Kontrollib, kas tulemus on tÃ¼Ã¼pi `ReviewResult`
2. VÃµrdleb `Result` omadust oodatud vÃ¤Ã¤rtusega
3. Tagastab tÃµene/vale suunamise mÃ¤Ã¤ramiseks

**TÃ¶Ã¶voo servad tingimustega:**
```csharp
.AddEdge(contentReviewerExecutor, publishExecutor, condition: GetCondition("Yes"))
.AddEdge(contentReviewerExecutor, sendReviewerExecutor, condition: GetCondition("No"))
```

### ğŸ“Š TÃ¤iustatud funktsioonid

**JSON skeemi valideerimine:**
TÃ¶Ã¶voog kasutab JSON skeeme struktureeritud vastuste tagamiseks:

```csharp
// Define response structure
public class ReviewResult
{
    [JsonPropertyName("review_result")]
    public string Result { get; set; } = string.Empty;
    
    [JsonPropertyName("reason")]
    public string Reason { get; set; } = string.Empty;
    
    [JsonPropertyName("draft_content")]
    public string DraftContent { get; set; } = string.Empty;
}

// Apply to agent
ResponseFormat = ChatResponseFormat.ForJsonSchema(
    AIJsonUtilities.CreateJsonSchema(typeof(ReviewResult)), 
    "ReviewResult", 
    "Review Result From DraftContent"
)
```

**Bing maandamise integreerimine:**
Evangelist agent kasutab Bing maandamist reaalajas teabe saamiseks:

```csharp
var bingGroundingConfig = new BingGroundingSearchConfiguration(bing_conn_id);
BingGroundingToolDefinition bingGroundingTool = new(
    new BingGroundingSearchToolParameters([bingGroundingConfig])
);
```

See vÃµimaldab agendil jÃ¤lgida URL-e kavandis ja ekstraktida aktuaalset teavet.

### ğŸ›¡ï¸ Vigade kÃ¤sitlemine

TÃ¶Ã¶voog sisaldab tugevat vigade kÃ¤sitlemist tagasi lÃ¼katud sisu jaoks:
- Ãœlevaatuse ebaÃµnnestumised kÃ¤ivitavad alternatiivse tee
- Teavitused annavad selged tagasilÃ¼kkamise pÃµhjused
- Sisu sÃ¤ilitatakse redigeerimiseks

### ğŸ”„ TÃ¶Ã¶voo laiendamine

**Lisa redigeerimistsÃ¼kkel:**
Loo tagasiside tsÃ¼kkel, mis koostab sisu automaatselt uuesti:

```csharp
.AddEdge(contentReviewerExecutor, publishExecutor, condition: GetCondition("Yes"))
.AddEdge(contentReviewerExecutor, draftExecutor, condition: GetCondition("No")) // Loop back
```

**Rakenda mitmetasandiline Ã¼levaatus:**
Lisa mitu Ã¼levaatuse etappi erinevate kriteeriumidega:

```csharp
.AddEdge(draftExecutor, technicalReviewer)
.AddEdge(technicalReviewer, editorialReviewer, condition: GetCondition("TechPass"))
.AddEdge(editorialReviewer, publishExecutor, condition: GetCondition("EditPass"))
```

See tingimusliku tÃ¶Ã¶voo muster pakub alust keerukate, intelligentsete ettevÃµtte automatiseerimissÃ¼steemide loomiseks! ğŸš€

---

<!-- CO-OP TRANSLATOR DISCLAIMER START -->
**LahtiÃ¼tlus**:  
See dokument on tÃµlgitud AI tÃµlketeenuse [Co-op Translator](https://github.com/Azure/co-op-translator) abil. Kuigi pÃ¼Ã¼ame tagada tÃ¤psust, palume arvestada, et automaatsed tÃµlked vÃµivad sisaldada vigu vÃµi ebatÃ¤psusi. Algne dokument selle algses keeles tuleks pidada autoriteetseks allikaks. Olulise teabe puhul soovitame kasutada professionaalset inimtÃµlget. Me ei vastuta selle tÃµlke kasutamisest tulenevate arusaamatuste vÃµi valesti tÃµlgenduste eest.
<!-- CO-OP TRANSLATOR DISCLAIMER END -->