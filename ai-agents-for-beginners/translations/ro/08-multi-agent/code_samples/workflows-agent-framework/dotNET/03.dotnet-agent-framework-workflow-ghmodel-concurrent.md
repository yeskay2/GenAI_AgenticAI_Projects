<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "b9c6e32c9b5f2fed20b6916984440d88",
  "translation_date": "2025-11-11T13:30:43+00:00",
  "source_file": "08-multi-agent/code_samples/workflows-agent-framework/dotNET/03.dotnet-agent-framework-workflow-ghmodel-concurrent.md",
  "language_code": "ro"
}
-->
# âš¡ Fluxuri de lucru concurente cu modele GitHub (.NET)

## ğŸ“‹ Tutorial pentru procesare paralelÄƒ de Ã®naltÄƒ performanÈ›Äƒ

Acest notebook demonstreazÄƒ **modele de fluxuri de lucru concurente** utilizÃ¢nd Microsoft Agent Framework pentru .NET È™i modelele GitHub. VeÈ›i Ã®nvÄƒÈ›a cum sÄƒ construiÈ›i fluxuri de lucru de procesare paralelÄƒ de Ã®naltÄƒ performanÈ›Äƒ care maximizeazÄƒ capacitatea prin executarea simultanÄƒ a mai multor agenÈ›i AI, menÈ›inÃ¢nd Ã®n acelaÈ™i timp coordonarea È™i consistenÈ›a datelor.

## ğŸ¯ Obiective de Ã®nvÄƒÈ›are

### ğŸš€ **Fundamentele procesÄƒrii concurente**
- **Executarea paralelÄƒ a agenÈ›ilor**: RulaÈ›i mai mulÈ›i agenÈ›i AI simultan pentru performanÈ›Äƒ maximÄƒ
- **Modele Async/Await**: UtilizaÈ›i modelul de programare asincron al .NET pentru concurenÈ›Äƒ eficientÄƒ
- **Integrarea modelelor GitHub**: CoordonaÈ›i apelurile concurente cÄƒtre serviciul de inferenÈ›Äƒ AI al GitHub
- **Gestionarea resurselor**: AdministraÈ›i eficient resursele modelului AI Ã®n operaÈ›iuni concurente

### ğŸ—ï¸ **Arhitectura avansatÄƒ de concurenÈ›Äƒ**
- **Paralelism bazat pe sarcini**: UtilizaÈ›i Task Parallel Library din .NET pentru execuÈ›ie concurentÄƒ optimÄƒ
- **Modele de sincronizare**: CoordonaÈ›i agenÈ›ii concurenÈ›i evitÃ¢nd condiÈ›iile de competiÈ›ie
- **Echilibrarea sarcinilor**: DistribuiÈ›i eficient munca pe capacitatea disponibilÄƒ de procesare concurentÄƒ
- **ToleranÈ›Äƒ la erori**: GestionaÈ›i eÈ™ecurile individuale ale agenÈ›ilor fÄƒrÄƒ a opri Ã®ntregul flux de lucru

### ğŸ¢ **AplicaÈ›ii concurente pentru Ã®ntreprinderi**
- **Procesarea documentelor de mare volum**: ProcesaÈ›i mai multe documente simultan
- **Analiza conÈ›inutului Ã®n timp real**: Analiza concurentÄƒ a fluxurilor de date primite
- **Optimizarea procesÄƒrii Ã®n loturi**: MaximizaÈ›i capacitatea pentru operaÈ›iuni de procesare a datelor la scarÄƒ largÄƒ
- **Analiza multi-modalÄƒ**: Procesarea paralelÄƒ a diferitelor tipuri È™i formate de conÈ›inut

## âš™ï¸ CerinÈ›e preliminare È™i configurare

### ğŸ“¦ **Pachete NuGet necesare**

Pachete esenÈ›iale pentru fluxuri de lucru concurente de Ã®naltÄƒ performanÈ›Äƒ:

```xml
<!-- Core AI Framework with Async Support -->
<PackageReference Include="Microsoft.Extensions.AI" Version="9.9.0" />

<!-- Client Model Abstractions for API Communication -->
<PackageReference Include="System.ClientModel" Version="1.6.1.0" />

<!-- Azure Identity and Async LINQ for Advanced Operations -->
<PackageReference Include="Azure.Identity" Version="1.15.0" />
<PackageReference Include="System.Linq.Async" Version="6.0.3" />

<!-- Local Agent Framework References -->
<!-- Microsoft.Agents.AI.dll - Core agent abstractions with async support -->
<!-- Microsoft.Agents.AI.OpenAI.dll - GitHub Models integration with concurrency -->
```

### ğŸ”‘ **Configurarea modelelor GitHub**

**Configurarea mediului (.env file):**
```env
GITHUB_TOKEN=your_github_personal_access_token
GITHUB_ENDPOINT=https://models.inference.ai.azure.com
GITHUB_MODEL_ID=gpt-4o-mini
```

**ConsideraÈ›ii pentru procesarea concurentÄƒ:**
```csharp
// Configure for concurrent operations
var clientOptions = new OpenAIClientOptions()
{
    Endpoint = new Uri(githubEndpoint),
    // Configure connection pooling for concurrent requests
    NetworkTimeout = TimeSpan.FromMinutes(5)
};
```

### ğŸ—ï¸ **Arhitectura fluxului de lucru concurent**

```mermaid
graph TD
    A[Workflow Input] --> B[Task Distribution]
    B --> C[Concurrent Agent Pool]
    C --> D[Agent Task 1]
    C --> E[Agent Task 2]
    C --> F[Agent Task 3]
    C --> G[Agent Task N]
    
    D --> H[Result Aggregation]
    E --> H
    F --> H
    G --> H
    
    H --> I[Synchronized Output]
    
    J[GitHub Models API] --> D
    J --> E
    J --> F
    J --> G
    
    K[.NET Task Scheduler] --> C
```

**Componente cheie:**
- **Task Parallel Library**: Suportul Ã®ncorporat al .NET pentru operaÈ›iuni concurente
- **Agent Pool**: InstanÈ›e multiple de agenÈ›i pentru procesare paralelÄƒ
- **Agregarea rezultatelor**: Coordonarea È™i combinarea rezultatelor agenÈ›ilor concurenÈ›i
- **Puncte de sincronizare**: Asigurarea consistenÈ›ei datelor Ã®n operaÈ›iuni concurente

## ğŸ¨ **Modele de design pentru fluxuri de lucru concurente**

### ğŸ” **Cercetare È™i analizÄƒ paralelÄƒ**
```
Research Topic â†’ Concurrent Research Agents â†’ Result Synthesis â†’ Final Report
```

### ğŸ“Š **Procesarea datelor din surse multiple**
```
Data Sources â†’ Parallel Processing Agents â†’ Data Integration â†’ Unified Output
```

### ğŸ­ **Pipeline de generare a conÈ›inutului**
```
Content Requirements â†’ Concurrent Content Generators â†’ Quality Review â†’ Final Content
```

### ğŸ”„ **Procesare Fan-Out/Fan-In**
```
Single Input â†’ Multiple Concurrent Processors â†’ Result Aggregation â†’ Single Output
```

## ğŸ¢ **Beneficii de performanÈ›Äƒ pentru Ã®ntreprinderi**

### âš¡ **Capacitate È™i scalabilitate**
- **Scalare liniarÄƒ a performanÈ›ei**: AdÄƒugaÈ›i mai mulÈ›i agenÈ›i concurenÈ›i pentru a creÈ™te capacitatea
- **Utilizarea resurselor**: EficienÈ›Äƒ maximÄƒ a capacitÄƒÈ›ii modelului AI disponibil
- **Reducerea timpului de procesare**: Reducere semnificativÄƒ a timpului prin execuÈ›ie paralelÄƒ
- **Scalare elasticÄƒ**: AjustaÈ›i dinamic numÄƒrul de agenÈ›i concurenÈ›i Ã®n funcÈ›ie de volumul de muncÄƒ

### ğŸ›¡ï¸ **Fiabilitate È™i rezilienÈ›Äƒ**
- **Izolarea erorilor**: EÈ™ecurile individuale ale agenÈ›ilor nu afecteazÄƒ alte operaÈ›iuni concurente
- **Degradare graÈ›ioasÄƒ**: Sistemul continuÄƒ sÄƒ funcÈ›ioneze cu capacitate redusÄƒ a agenÈ›ilor
- **Recuperarea erorilor**: Mecanisme automate de retry pentru operaÈ›iuni concurente eÈ™uate
- **DistribuÈ›ia sarcinilor**: DistribuÈ›ie uniformÄƒ a muncii Ã®ntre agenÈ›ii disponibili

### ğŸ“Š **Monitorizarea performanÈ›ei**
- **Metrice de execuÈ›ie concurentÄƒ**: UrmÄƒriÈ›i performanÈ›a tuturor operaÈ›iunilor paralele
- **Analiza utilizÄƒrii resurselor**: MonitorizaÈ›i utilizarea CPU, memoriei È™i reÈ›elei
- **Analiza capacitÄƒÈ›ii**: MÄƒsuraÈ›i cÃ¢È™tigurile de eficienÈ›Äƒ din procesarea concurentÄƒ
- **Detectarea blocajelor**: IdentificaÈ›i È™i rezolvaÈ›i constrÃ¢ngerile de performanÈ›Äƒ

### ğŸ”§ **Dezvoltare È™i operaÈ›iuni**
- **Model de programare asincron**: UtilizaÈ›i modelele mature async/await ale .NET
- **Coordonarea sarcinilor**: CapacitÄƒÈ›i Ã®ncorporate de gestionare È™i coordonare a sarcinilor
- **Gestionarea excepÈ›iilor**: Gestionare cuprinzÄƒtoare a erorilor pentru operaÈ›iuni concurente
- **Suport pentru depanare**: Instrumente de depanare Visual Studio pentru fluxuri de lucru concurente

SÄƒ construim fluxuri de lucru AI concurente de Ã®naltÄƒ performanÈ›Äƒ cu .NET! ğŸš€

## ğŸ’» Rularea codului

Implementarea completÄƒ este disponibilÄƒ Ã®n `03.dotnet-agent-framework-workflow-ghmodel-concurrent.cs`. Acest fiÈ™ier demonstreazÄƒ un **flux de lucru concurent Fan-Out/Fan-In** pentru planificarea cÄƒlÄƒtoriilor:

### ğŸ—ï¸ **Arhitectura fluxului de lucru**

```
User Request â†’ ConcurrentStartExecutor â†’ [Researcher Agent || Planner Agent] â†’ ConcurrentAggregationExecutor â†’ Final Output
```

**Componente cheie:**

1. **ConcurrentStartExecutor**: Transmite cererea utilizatorului cÄƒtre toÈ›i agenÈ›ii simultan
2. **Researcher Agent**: AnalizeazÄƒ destinaÈ›iile È™i atracÈ›iile Ã®n mod concurent
3. **Planner Agent**: CreeazÄƒ planuri detaliate de cÄƒlÄƒtorie Ã®n mod concurent
4. **ConcurrentAggregationExecutor**: ColecteazÄƒ È™i combinÄƒ rezultatele de la ambii agenÈ›i

### ğŸ¯ **Modelul Fan-Out/Fan-In**

Acest flux de lucru demonstreazÄƒ modelul clasic **Fan-Out/Fan-In**:
- **Fan-Out**: Un mesaj de intrare este transmis simultan cÄƒtre mai mulÈ›i agenÈ›i
- **Procesare concurentÄƒ**: Mai mulÈ›i agenÈ›i lucreazÄƒ Ã®n paralel la aceeaÈ™i sarcinÄƒ
- **Fan-In**: Rezultatele de la toÈ›i agenÈ›ii sunt colectate È™i agregate Ã®ntr-un singur rezultat

### ğŸš€ Rularea exemplului

```bash
# Make the script executable (Unix/Linux/macOS)
chmod +x 03.dotnet-agent-framework-workflow-ghmodel-concurrent.cs

# Run the concurrent workflow
./03.dotnet-agent-framework-workflow-ghmodel-concurrent.cs
```

Sau pe Windows:
```powershell
dotnet run 03.dotnet-agent-framework-workflow-ghmodel-concurrent.cs
```

### ğŸ“ Rezultatul aÈ™teptat

Fluxul de lucru va:
1. **Transmite cererea**: Trimite "PlanificÄƒ o cÄƒlÄƒtorie la Seattle Ã®n decembrie" cÄƒtre ambii agenÈ›i
2. **Procesare concurentÄƒ**: Ambii agenÈ›i lucreazÄƒ simultan:
   - CercetÄƒtorul identificÄƒ atracÈ›iile È™i detaliile
   - Planificatorul creeazÄƒ itinerariul È™i logistica
3. **Agregare**: CombinÄƒ ambele rÄƒspunsuri Ã®ntr-un rezultat cuprinzÄƒtor
4. **AfiÈ™eazÄƒ rezultatele**: PrezintÄƒ planul de cÄƒlÄƒtorie combinat cu toate informaÈ›iile

### ğŸ”§ OpÈ›iuni de personalizare

**AdÄƒugaÈ›i mai mulÈ›i agenÈ›i concurenÈ›i:**
```csharp
// Create additional specialized agents
AIAgent budgetAgent = openAIClient.GetChatClient(github_model_id).CreateAIAgent(
    name: "Budget-Agent", instructions: "Calculate travel costs...");

// Add to fan-out
var workflow = new WorkflowBuilder(startExecutor)
    .AddFanOutEdge(startExecutor, targets: [researcherAgent, plannerAgent, budgetAgent])
    .AddFanInEdge(aggregationExecutor, sources: [researcherAgent, plannerAgent, budgetAgent])
    .WithOutputFrom(aggregationExecutor)
    .Build();

// Update aggregation count
if (this._messages.Count == 3) { ... }
```

**ModificaÈ›i instrucÈ›iunile agenÈ›ilor:**
```csharp
const string ResearcherAgentInstructions = "Your custom instructions for research...";
const string PlanAgentInstructions = "Your custom instructions for planning...";
```

**SchimbaÈ›i sarcina:**
```csharp
StreamingRun run = await InProcessExecution.StreamAsync(
    workflow, 
    "Plan a European vacation for 2 weeks in summer"
);
```

### ğŸ¯ AplicaÈ›ii reale

Acest model concurent este ideal pentru:
- **Crearea de conÈ›inut**: Mai mulÈ›i autori creeazÄƒ secÈ›iuni diferite simultan
- **Revizuirea codului**: Mai mulÈ›i recenzori analizeazÄƒ codul din perspective diferite
- **Cercetare de piaÈ›Äƒ**: Analiza paralelÄƒ a diferitelor segmente de piaÈ›Äƒ
- **Procesarea documentelor**: ExtracÈ›ie, analizÄƒ È™i validare concurentÄƒ
- **Analiza multi-perspectivÄƒ**: ObÈ›inerea de puncte de vedere diverse asupra aceleiaÈ™i intrÄƒri

### ğŸ” ÃnÈ›elegerea executorilor personalizaÈ›i

**ConcurrentStartExecutor:**
- ImplementeazÄƒ `IMessageHandler<string>` pentru a accepta intrÄƒri de tip string
- Transmite mesaje cÄƒtre toÈ›i agenÈ›ii conectaÈ›i
- Trimite `TurnToken` pentru a declanÈ™a procesarea concurentÄƒ

**ConcurrentAggregationExecutor:**
- ImplementeazÄƒ `IMessageHandler<ChatMessage>` pentru a primi rÄƒspunsurile agenÈ›ilor
- ColecteazÄƒ mesaje Ã®ntr-un mod sigur pentru thread-uri
- AgregÄƒ atunci cÃ¢nd toate rÄƒspunsurile aÈ™teptate sosesc
- OferÄƒ rezultatul final utilizÃ¢nd `context.YieldOutputAsync()`

### âš¡ Beneficii de performanÈ›Äƒ

**Concurent vs SecvenÈ›ial:**
- SecvenÈ›ial: Agent1 (30s) â†’ Agent2 (30s) = **60 secunde total**
- Concurent: Agent1 (30s) || Agent2 (30s) = **30 secunde total**

**ÃmbunÄƒtÄƒÈ›irea capacitÄƒÈ›ii**: De pÃ¢nÄƒ la NÃ— mai rapid pentru N agenÈ›i concurenÈ›i (Ã®n funcÈ›ie de volumul de muncÄƒ È™i resurse)

### ğŸ›¡ï¸ Gestionarea erorilor

Fluxul de lucru gestioneazÄƒ eÈ™ecurile individuale ale agenÈ›ilor graÈ›ios:
- DacÄƒ un agent eÈ™ueazÄƒ, ceilalÈ›i continuÄƒ procesarea
- Agregatorul poate implementa logica de timeout
- Rezultatele parÈ›iale pot fi returnate dacÄƒ este necesar

### ğŸ“Š FuncÈ›ionalitÄƒÈ›i avansate

**NumÄƒr dinamic de agenÈ›i:**
ModificaÈ›i logica de agregare pentru a suporta un numÄƒr variabil de agenÈ›i:

```csharp
private int _expectedAgentCount;
private readonly List<ChatMessage> _messages = [];

public async ValueTask HandleAsync(ChatMessage message, IWorkflowContext context)
{
    this._messages.Add(message);
    if (this._messages.Count == _expectedAgentCount)
    {
        // Process aggregation
    }
}
```

Acest model de flux de lucru concurent este esenÈ›ial pentru construirea sistemelor AI de Ã®naltÄƒ performanÈ›Äƒ È™i scalabile!

---

<!-- CO-OP TRANSLATOR DISCLAIMER START -->
**Declinare de responsabilitate**:  
Acest document a fost tradus folosind serviciul de traducere AI [Co-op Translator](https://github.com/Azure/co-op-translator). DeÈ™i ne strÄƒduim sÄƒ asigurÄƒm acurateÈ›ea, vÄƒ rugÄƒm sÄƒ fiÈ›i conÈ™tienÈ›i cÄƒ traducerile automate pot conÈ›ine erori sau inexactitÄƒÈ›i. Documentul original Ã®n limba sa maternÄƒ ar trebui considerat sursa autoritarÄƒ. Pentru informaÈ›ii critice, se recomandÄƒ traducerea profesionalÄƒ realizatÄƒ de un specialist uman. Nu ne asumÄƒm responsabilitatea pentru eventualele neÃ®nÈ›elegeri sau interpretÄƒri greÈ™ite care pot apÄƒrea din utilizarea acestei traduceri.
<!-- CO-OP TRANSLATOR DISCLAIMER END -->