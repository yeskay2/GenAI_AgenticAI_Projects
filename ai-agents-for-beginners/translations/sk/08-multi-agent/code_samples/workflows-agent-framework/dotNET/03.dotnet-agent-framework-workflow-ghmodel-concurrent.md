<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "b9c6e32c9b5f2fed20b6916984440d88",
  "translation_date": "2025-11-11T13:30:04+00:00",
  "source_file": "08-multi-agent/code_samples/workflows-agent-framework/dotNET/03.dotnet-agent-framework-workflow-ghmodel-concurrent.md",
  "language_code": "sk"
}
-->
# âš¡ SÃºbeÅ¾nÃ© pracovnÃ© postupy agentov s GitHub modelmi (.NET)

## ğŸ“‹ NÃ¡vod na vysokovÃ½konnÃ© paralelnÃ© spracovanie

Tento notebook demonÅ¡truje **vzory sÃºbeÅ¾nÃ½ch pracovnÃ½ch postupov** pomocou Microsoft Agent Framework pre .NET a GitHub modelov. NauÄÃ­te sa, ako vytvÃ¡raÅ¥ vysokovÃ½konnÃ© pracovnÃ© postupy paralelnÃ©ho spracovania, ktorÃ© maximalizujÃº priepustnosÅ¥ vykonÃ¡vanÃ­m viacerÃ½ch AI agentov sÃºÄasne pri zachovanÃ­ koordinÃ¡cie a konzistencie Ãºdajov.

## ğŸ¯ Ciele uÄenia

### ğŸš€ **ZÃ¡klady sÃºbeÅ¾nÃ©ho spracovania**
- **ParalelnÃ© vykonÃ¡vanie agentov**: SpÃºÅ¡Å¥anie viacerÃ½ch AI agentov sÃºÄasne pre maximÃ¡lny vÃ½kon
- **Vzory Async/Await**: VyuÅ¾itie asynchrÃ³nneho programovacieho modelu .NET pre efektÃ­vnu sÃºbeÅ¾nosÅ¥
- **IntegrÃ¡cia GitHub modelov**: KoordinÃ¡cia viacerÃ½ch sÃºbeÅ¾nÃ½ch volanÃ­ na sluÅ¾bu inferencie AI modelov GitHub
- **Riadenie zdrojov**: EfektÃ­vne riadenie zdrojov AI modelov poÄas sÃºbeÅ¾nÃ½ch operÃ¡ciÃ­

### ğŸ—ï¸ **PokroÄilÃ¡ architektÃºra sÃºbeÅ¾nosti**
- **Paralelizmus zaloÅ¾enÃ½ na ÃºlohÃ¡ch**: PouÅ¾itie kniÅ¾nice Task Parallel Library v .NET pre optimÃ¡lne sÃºbeÅ¾nÃ© vykonÃ¡vanie
- **Vzory synchronizÃ¡cie**: KoordinÃ¡cia sÃºbeÅ¾nÃ½ch agentov pri predchÃ¡dzanÃ­ pretekovÃ½m podmienkam
- **VyvaÅ¾ovanie zÃ¡Å¥aÅ¾e**: EfektÃ­vne rozdelenie prÃ¡ce medzi dostupnÃº kapacitu sÃºbeÅ¾nÃ©ho spracovania
- **OdolnosÅ¥ voÄi chybÃ¡m**: RieÅ¡enie zlyhanÃ­ jednotlivÃ½ch agentov bez zastavenia celÃ©ho pracovnÃ©ho postupu

### ğŸ¢ **PodnikovÃ© aplikÃ¡cie sÃºbeÅ¾nosti**
- **Spracovanie dokumentov vo veÄ¾kom objeme**: SÃºbeÅ¾nÃ© spracovanie viacerÃ½ch dokumentov
- **AnalÃ½za obsahu v reÃ¡lnom Äase**: SÃºbeÅ¾nÃ¡ analÃ½za prichÃ¡dzajÃºcich dÃ¡tovÃ½ch tokov
- **OptimalizÃ¡cia dÃ¡vkovÃ©ho spracovania**: MaximalizÃ¡cia priepustnosti pre spracovanie veÄ¾kÃ©ho objemu dÃ¡t
- **MultimodÃ¡lna analÃ½za**: ParalelnÃ© spracovanie rÃ´znych typov a formÃ¡tov obsahu

## âš™ï¸ Predpoklady a nastavenie

### ğŸ“¦ **PoÅ¾adovanÃ© balÃ­Äky NuGet**

ZÃ¡kladnÃ© balÃ­Äky pre vysokovÃ½konnÃ© sÃºbeÅ¾nÃ© pracovnÃ© postupy:

```xml
<!-- Core AI Framework with Async Support -->
<PackageReference Include="Microsoft.Extensions.AI" Version="9.9.0" />

<!-- Client Model Abstractions for API Communication -->
<PackageReference Include="System.ClientModel" Version="1.6.1.0" />

<!-- Azure Identity and Async LINQ for Advanced Operations -->
<PackageReference Include="Azure.Identity" Version="1.15.0" />
<PackageReference Include="System.Linq.Async" Version="6.0.3" />

<!-- Local Agent Framework References -->
<!-- Microsoft.Agents.AI.dll - Core agent abstractions with async support -->
<!-- Microsoft.Agents.AI.OpenAI.dll - GitHub Models integration with concurrency -->
```

### ğŸ”‘ **KonfigurÃ¡cia GitHub modelov**

**Nastavenie prostredia (.env sÃºbor):**
```env
GITHUB_TOKEN=your_github_personal_access_token
GITHUB_ENDPOINT=https://models.inference.ai.azure.com
GITHUB_MODEL_ID=gpt-4o-mini
```

**Ãšvahy o sÃºbeÅ¾nom spracovanÃ­:**
```csharp
// Configure for concurrent operations
var clientOptions = new OpenAIClientOptions()
{
    Endpoint = new Uri(githubEndpoint),
    // Configure connection pooling for concurrent requests
    NetworkTimeout = TimeSpan.FromMinutes(5)
};
```

### ğŸ—ï¸ **ArchitektÃºra sÃºbeÅ¾nÃ©ho pracovnÃ©ho postupu**

```mermaid
graph TD
    A[Workflow Input] --> B[Task Distribution]
    B --> C[Concurrent Agent Pool]
    C --> D[Agent Task 1]
    C --> E[Agent Task 2]
    C --> F[Agent Task 3]
    C --> G[Agent Task N]
    
    D --> H[Result Aggregation]
    E --> H
    F --> H
    G --> H
    
    H --> I[Synchronized Output]
    
    J[GitHub Models API] --> D
    J --> E
    J --> F
    J --> G
    
    K[.NET Task Scheduler] --> C
```

**KÄ¾ÃºÄovÃ© komponenty:**
- **Task Parallel Library**: VstavanÃ¡ podpora .NET pre sÃºbeÅ¾nÃ© operÃ¡cie
- **Agent Pool**: Viacero inÅ¡tanciÃ­ agentov pre paralelnÃ© spracovanie
- **AgregÃ¡cia vÃ½sledkov**: KoordinÃ¡cia a zlÃºÄenie vÃ½sledkov sÃºbeÅ¾nÃ½ch agentov
- **SynchronizaÄnÃ© body**: ZabezpeÄenie konzistencie Ãºdajov poÄas sÃºbeÅ¾nÃ½ch operÃ¡ciÃ­

## ğŸ¨ **Vzory nÃ¡vrhu sÃºbeÅ¾nÃ½ch pracovnÃ½ch postupov**

### ğŸ” **ParalelnÃ½ vÃ½skum a analÃ½za**
```
Research Topic â†’ Concurrent Research Agents â†’ Result Synthesis â†’ Final Report
```

### ğŸ“Š **Spracovanie dÃ¡t z viacerÃ½ch zdrojov**
```
Data Sources â†’ Parallel Processing Agents â†’ Data Integration â†’ Unified Output
```

### ğŸ­ **Pipeline na generovanie obsahu**
```
Content Requirements â†’ Concurrent Content Generators â†’ Quality Review â†’ Final Content
```

### ğŸ”„ **Fan-Out/Fan-In spracovanie**
```
Single Input â†’ Multiple Concurrent Processors â†’ Result Aggregation â†’ Single Output
```

## ğŸ¢ **VÃ½hody vÃ½konu pre podniky**

### âš¡ **PriepustnosÅ¥ a Å¡kÃ¡lovateÄ¾nosÅ¥**
- **LineÃ¡rne Å¡kÃ¡lovanie vÃ½konu**: Pridanie viacerÃ½ch sÃºbeÅ¾nÃ½ch agentov na zvÃ½Å¡enie priepustnosti
- **VyuÅ¾itie zdrojov**: MaximÃ¡lna efektivita dostupnej kapacity AI modelov
- **ZnÃ­Å¾enie Äasu spracovania**: VÃ½raznÃ© skrÃ¡tenie Äasu prostrednÃ­ctvom paralelnÃ©ho vykonÃ¡vania
- **ElastickÃ© Å¡kÃ¡lovanie**: DynamickÃ© prispÃ´sobenie poÄtu sÃºbeÅ¾nÃ½ch agentov podÄ¾a pracovnÃ©ho zaÅ¥aÅ¾enia

### ğŸ›¡ï¸ **SpoÄ¾ahlivosÅ¥ a odolnosÅ¥**
- **IzolÃ¡cia chÃ½b**: Zlyhania jednotlivÃ½ch agentov neovplyvÅˆujÃº ostatnÃ© sÃºbeÅ¾nÃ© operÃ¡cie
- **PostupnÃ¡ degradÃ¡cia**: SystÃ©m pokraÄuje v prevÃ¡dzke s obmedzenou kapacitou agentov
- **Obnova chÃ½b**: AutomatickÃ© mechanizmy opakovania pre zlyhanÃ© sÃºbeÅ¾nÃ© operÃ¡cie
- **Rozdelenie zÃ¡Å¥aÅ¾e**: RovnomernÃ© rozdelenie prÃ¡ce medzi dostupnÃ½ch agentov

### ğŸ“Š **Monitorovanie vÃ½konu**
- **Metriky sÃºbeÅ¾nÃ©ho vykonÃ¡vania**: Sledovanie vÃ½konu vÅ¡etkÃ½ch paralelnÃ½ch operÃ¡ciÃ­
- **AnalÃ½za vyuÅ¾itia zdrojov**: Monitorovanie CPU, pamÃ¤te a sieÅ¥ovÃ©ho vyuÅ¾itia
- **AnalÃ½za priepustnosti**: Meranie efektivity zÃ­skanej zo sÃºbeÅ¾nÃ©ho spracovania
- **Detekcia Ãºzkych miest**: IdentifikÃ¡cia a rieÅ¡enie obmedzenÃ­ vÃ½konu

### ğŸ”§ **VÃ½voj a prevÃ¡dzka**
- **AsynchrÃ³nny programovacÃ­ model**: VyuÅ¾itie zrelÃ½ch vzorov async/await v .NET
- **KoordinÃ¡cia Ãºloh**: VstavanÃ© riadenie a koordinÃ¡cia Ãºloh
- **RieÅ¡enie vÃ½nimiek**: KomplexnÃ© rieÅ¡enie chÃ½b pre sÃºbeÅ¾nÃ© operÃ¡cie
- **Podpora ladenia**: NÃ¡stroje na ladenie pracovnÃ½ch postupov v Visual Studio

PoÄme vytvÃ¡raÅ¥ vysokovÃ½konnÃ© sÃºbeÅ¾nÃ© AI pracovnÃ© postupy s .NET! ğŸš€

## ğŸ’» Spustenie kÃ³du

KompletnÃ¡ implementÃ¡cia je dostupnÃ¡ v `03.dotnet-agent-framework-workflow-ghmodel-concurrent.cs`. Tento sÃºbor demonÅ¡truje **Fan-Out/Fan-In sÃºbeÅ¾nÃ½ pracovnÃ½ postup** pre plÃ¡novanie ciest:

### ğŸ—ï¸ **ArchitektÃºra pracovnÃ©ho postupu**

```
User Request â†’ ConcurrentStartExecutor â†’ [Researcher Agent || Planner Agent] â†’ ConcurrentAggregationExecutor â†’ Final Output
```

**KÄ¾ÃºÄovÃ© komponenty:**

1. **ConcurrentStartExecutor**: SÃºÄasne vysiela poÅ¾iadavku pouÅ¾Ã­vateÄ¾a vÅ¡etkÃ½m agentom
2. **Researcher Agent**: SÃºbeÅ¾ne analyzuje destinÃ¡cie a atrakcie
3. **Planner Agent**: SÃºbeÅ¾ne vytvÃ¡ra podrobnÃ© cestovnÃ© plÃ¡ny
4. **ConcurrentAggregationExecutor**: Zbiera a zlÃºÄuje vÃ½sledky od oboch agentov

### ğŸ¯ **Fan-Out/Fan-In vzor**

Tento pracovnÃ½ postup demonÅ¡truje klasickÃ½ **Fan-Out/Fan-In** vzor:
- **Fan-Out**: Jedna vstupnÃ¡ sprÃ¡va je sÃºÄasne vyslanÃ¡ viacerÃ½m agentom
- **SÃºbeÅ¾nÃ© spracovanie**: ViacerÃ­ agenti pracujÃº paralelne na tej istej Ãºlohe
- **Fan-In**: VÃ½sledky od vÅ¡etkÃ½ch agentov sÃº zhromaÅ¾denÃ© a zlÃºÄenÃ© do jednÃ©ho vÃ½stupu

### ğŸš€ Spustenie prÃ­kladu

```bash
# Make the script executable (Unix/Linux/macOS)
chmod +x 03.dotnet-agent-framework-workflow-ghmodel-concurrent.cs

# Run the concurrent workflow
./03.dotnet-agent-framework-workflow-ghmodel-concurrent.cs
```

Alebo na Windows:
```powershell
dotnet run 03.dotnet-agent-framework-workflow-ghmodel-concurrent.cs
```

### ğŸ“ OÄakÃ¡vanÃ½ vÃ½stup

PracovnÃ½ postup bude:
1. **Vyslanie poÅ¾iadavky**: Odoslanie "NaplÃ¡nuj vÃ½let do Seattlu v decembri" obom agentom
2. **SÃºbeÅ¾nÃ© spracovanie**: Obaja agenti pracujÃº sÃºÄasne:
   - Researcher identifikuje atrakcie a detaily
   - Planner vytvÃ¡ra itinerÃ¡r a logistiku
3. **AgregÃ¡cia**: KombinÃ¡cia oboch odpovedÃ­ do komplexnÃ©ho vÃ½stupu
4. **Zobrazenie vÃ½sledkov**: Zobrazenie zlÃºÄenÃ©ho cestovnÃ©ho plÃ¡nu so vÅ¡etkÃ½mi informÃ¡ciami

### ğŸ”§ MoÅ¾nosti prispÃ´sobenia

**Pridanie viacerÃ½ch sÃºbeÅ¾nÃ½ch agentov:**
```csharp
// Create additional specialized agents
AIAgent budgetAgent = openAIClient.GetChatClient(github_model_id).CreateAIAgent(
    name: "Budget-Agent", instructions: "Calculate travel costs...");

// Add to fan-out
var workflow = new WorkflowBuilder(startExecutor)
    .AddFanOutEdge(startExecutor, targets: [researcherAgent, plannerAgent, budgetAgent])
    .AddFanInEdge(aggregationExecutor, sources: [researcherAgent, plannerAgent, budgetAgent])
    .WithOutputFrom(aggregationExecutor)
    .Build();

// Update aggregation count
if (this._messages.Count == 3) { ... }
```

**Ãšprava inÅ¡trukciÃ­ agentov:**
```csharp
const string ResearcherAgentInstructions = "Your custom instructions for research...";
const string PlanAgentInstructions = "Your custom instructions for planning...";
```

**Zmena Ãºlohy:**
```csharp
StreamingRun run = await InProcessExecution.StreamAsync(
    workflow, 
    "Plan a European vacation for 2 weeks in summer"
);
```

### ğŸ¯ ReÃ¡lne aplikÃ¡cie

Tento sÃºbeÅ¾nÃ½ vzor je ideÃ¡lny pre:
- **Tvorbu obsahu**: ViacerÃ­ autori vytvÃ¡rajÃº rÃ´zne sekcie sÃºÄasne
- **Kontrolu kÃ³du**: ViacerÃ­ recenzenti analyzujÃº kÃ³d z rÃ´znych perspektÃ­v
- **Prieskum trhu**: ParalelnÃ¡ analÃ½za rÃ´znych segmentov trhu
- **Spracovanie dokumentov**: SÃºbeÅ¾nÃ¡ extrakcia, analÃ½za a validÃ¡cia
- **MultiperspektÃ­vna analÃ½za**: ZÃ­skanie rÃ´znych pohÄ¾adov na ten istÃ½ vstup

### ğŸ” Pochopenie vlastnÃ½ch vykonÃ¡vateÄ¾ov

**ConcurrentStartExecutor:**
- Implementuje `IMessageHandler<string>` na prijatie vstupu typu string
- Vysiela sprÃ¡vy vÅ¡etkÃ½m pripojenÃ½m agentom
- Posiela `TurnToken` na spustenie sÃºbeÅ¾nÃ©ho spracovania

**ConcurrentAggregationExecutor:**
- Implementuje `IMessageHandler<ChatMessage>` na prijatie odpovedÃ­ agentov
- Zbiera sprÃ¡vy bezpeÄne voÄi vlÃ¡knam
- Agreguje, keÄ dorazia vÅ¡etky oÄakÃ¡vanÃ© odpovede
- Poskytuje koneÄnÃ½ vÃ½stup pomocou `context.YieldOutputAsync()`

### âš¡ VÃ½hody vÃ½konu

**SÃºbeÅ¾nÃ© vs sekvenÄnÃ©:**
- SekvenÄnÃ©: Agent1 (30s) â†’ Agent2 (30s) = **60 sekÃºnd celkom**
- SÃºbeÅ¾nÃ©: Agent1 (30s) || Agent2 (30s) = **30 sekÃºnd celkom**

**ZlepÅ¡enie priepustnosti**: AÅ¾ NÃ— rÃ½chlejÅ¡ie pre N sÃºbeÅ¾nÃ½ch agentov (v zÃ¡vislosti od pracovnÃ©ho zaÅ¥aÅ¾enia a zdrojov)

### ğŸ›¡ï¸ RieÅ¡enie chÃ½b

PracovnÃ½ postup rieÅ¡i zlyhania jednotlivÃ½ch agentov elegantne:
- Ak jeden agent zlyhÃ¡, ostatnÃ­ pokraÄujÃº v spracovanÃ­
- AgregÃ¡tor mÃ´Å¾e implementovaÅ¥ logiku ÄasovÃ©ho limitu
- ÄŒiastoÄnÃ© vÃ½sledky mÃ´Å¾u byÅ¥ v prÃ­pade potreby vrÃ¡tenÃ©

### ğŸ“Š PokroÄilÃ© funkcie

**DynamickÃ½ poÄet agentov:**
Upravte logiku agregÃ¡cie na podporu variabilnÃ©ho poÄtu agentov:

```csharp
private int _expectedAgentCount;
private readonly List<ChatMessage> _messages = [];

public async ValueTask HandleAsync(ChatMessage message, IWorkflowContext context)
{
    this._messages.Add(message);
    if (this._messages.Count == _expectedAgentCount)
    {
        // Process aggregation
    }
}
```

Tento vzor sÃºbeÅ¾nÃ©ho pracovnÃ©ho postupu je nevyhnutnÃ½ pre vytvÃ¡ranie vysokovÃ½konnÃ½ch, Å¡kÃ¡lovateÄ¾nÃ½ch systÃ©mov AI agentov!

---

<!-- CO-OP TRANSLATOR DISCLAIMER START -->
**Zrieknutie sa zodpovednosti**:  
Tento dokument bol preloÅ¾enÃ½ pomocou sluÅ¾by AI prekladu [Co-op Translator](https://github.com/Azure/co-op-translator). Aj keÄ sa snaÅ¾Ã­me o presnosÅ¥, prosÃ­m, berte na vedomie, Å¾e automatizovanÃ© preklady mÃ´Å¾u obsahovaÅ¥ chyby alebo nepresnosti. PÃ´vodnÃ½ dokument v jeho rodnom jazyku by mal byÅ¥ povaÅ¾ovanÃ½ za autoritatÃ­vny zdroj. Pre kritickÃ© informÃ¡cie sa odporÃºÄa profesionÃ¡lny Ä¾udskÃ½ preklad. Nenesieme zodpovednosÅ¥ za akÃ©koÄ¾vek nedorozumenia alebo nesprÃ¡vne interpretÃ¡cie vyplÃ½vajÃºce z pouÅ¾itia tohto prekladu.
<!-- CO-OP TRANSLATOR DISCLAIMER END -->