<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "8abd335151cee553293b637ee3d80d10",
  "translation_date": "2025-11-11T12:28:42+00:00",
  "source_file": "08-multi-agent/code_samples/workflows-agent-framework/dotNET/04.dotnet-agent-framework-workflow-aifoundry-condition.md",
  "language_code": "sk"
}
-->
# üîÄ Podmienen√© pracovn√© postupy agentov s Azure AI Foundry (.NET)

## üìã N√°vod na inteligentn√© pracovn√© postupy zalo≈æen√© na rozhodovan√≠

Tento notebook demon≈°truje **vzory podmienen√Ωch pracovn√Ωch postupov** pomocou Azure AI Foundry a Microsoft Agent Framework pre .NET. Nauƒç√≠te sa, ako vytv√°ra≈• sofistikovan√© pracovn√© postupy zalo≈æen√© na rozhodovan√≠, ktor√© inteligentne smeruj√∫ spracovanie na z√°klade AI anal√Ωzy, obchodn√Ωch pravidiel a dynamick√Ωch podmienok pre automatiz√°ciu na podnikovej √∫rovni.

## üéØ Ciele uƒçenia

### üß† **Architekt√∫ra inteligentn√©ho rozhodovania**
- **Implement√°cia podmienen√©ho logick√©ho rozhodovania**: Vytv√°rajte komplexn√© rozhodovacie stromy s viacer√Ωmi bodmi vetvenia
- **Smerovanie poh√°≈àan√© AI**: Pou≈æ√≠vajte modely Azure AI Foundry na inteligentn√© rozhodovanie o smerovan√≠
- **Dynamick√° adapt√°cia pracovn√©ho postupu**: Modifikujte spr√°vanie pracovn√©ho postupu na z√°klade anal√Ωzy a podmienok v re√°lnom ƒçase
- **Integr√°cia podnikov√Ωch pravidiel**: Zahr≈àte obchodn√∫ logiku a po≈æiadavky na s√∫lad do pracovn√Ωch postupov

### üîÄ **Pokroƒçil√© podmienen√© vzory**
- **Rozhodovanie na z√°klade viacer√Ωch krit√©ri√≠**: Vyhodnocujte viacero faktorov pre rozhodovanie o smerovan√≠
- **Spracovanie s ohƒæadom na kontext**: Robte rozhodnutia na z√°klade nahromaden√©ho kontextu a hist√≥rie pracovn√©ho postupu
- **Adapt√≠vna modifik√°cia pracovn√©ho postupu**: Dynamicky upravujte cesty spracovania na z√°klade podmienok v re√°lnom ƒçase
- **Integr√°cia pravidlov√©ho enginu**: Implementujte sofistikovan√© obchodn√© pravidlov√© enginy do pracovn√Ωch postupov

### üè¢ **Podnikov√© aplik√°cie podmienen√Ωch pracovn√Ωch postupov**
- **Klasifik√°cia a smerovanie dokumentov**: Automaticky klasifikujte a smerujte dokumenty do vhodn√Ωch pracovn√Ωch postupov
- **Triedenie z√°kazn√≠ckych slu≈æieb**: Inteligentn√© smerovanie z√°kazn√≠ckych dotazov na ≈°pecializovan√© t√≠my
- **Spracovanie s√∫ladu a riz√≠k**: Aplikujte r√¥zne validaƒçn√© a kontroln√© procesy na z√°klade hodnotenia riz√≠k
- **Pracovn√© postupy kontroly kvality**: Smerujte obsah cez vhodn√© kontroln√© procesy na z√°klade kvalitat√≠vnych metr√≠k

## ‚öôÔ∏è Predpoklady a nastavenie

### üì¶ **Po≈æadovan√© bal√≠ƒçky NuGet**

Pokroƒçil√© bal√≠ƒçky pre spracovanie podmienen√Ωch pracovn√Ωch postupov:

```xml
<!-- Core AI Framework -->
<PackageReference Include="Microsoft.Extensions.AI" Version="9.9.0" />

<!-- Azure AI Agents with Persistent State -->
<PackageReference Include="Azure.AI.Agents.Persistent" Version="1.2.0-beta.5" />

<!-- Azure Identity and Utilities -->
<PackageReference Include="Azure.Identity" Version="1.15.0" />
<PackageReference Include="System.Linq.Async" Version="6.0.3" />
<PackageReference Include="DotNetEnv" Version="3.1.1" />

<!-- Local Workflow Framework References -->
<!-- Microsoft.Agents.Workflows.dll - Advanced workflow orchestration -->
<!-- Microsoft.Agents.AI.AzureAI.dll - Azure AI Foundry integration -->
<!-- Microsoft.Agents.AI.dll - Core agent abstractions -->
```

### üîë **Konfigur√°cia Azure AI Foundry**

**Po≈æadovan√© zdroje Azure:**
- Pracovn√Ω priestor Azure AI Foundry s modelmi na podmienen√© spracovanie
- Predplatn√© Azure s vhodn√Ωmi kv√≥tami v√Ωpoƒçtov a povoleniami
- Nasaden√© AI modely na rozhodovanie a anal√Ωzu obsahu
- (Voliteƒæn√©) Pripojenie Bing Search API pre schopnosti zakotvenia

**Konfigur√°cia prostredia (.env s√∫bor):**
```env
# Azure AI Foundry Configuration
AZURE_AI_PROJECT_ENDPOINT=https://your-project.cognitiveservices.azure.com/
BING_CONNECTION_ID=your-bing-connection-id
```

**Nastavenie autentifik√°cie:**
```csharp
// Azure CLI or Managed Identity authentication
using Azure.Identity;
var credential = new AzureCliCredential();

// Load environment configuration
DotNetEnv.Env.Load("../../../.env");
```

### üèóÔ∏è **Architekt√∫ra podmienen√©ho pracovn√©ho postupu**

```mermaid
graph TD
    A[Input: Content Outline] --> B[Draft Executor]
    B --> C[Content Review Executor]
    C --> D{Review Decision}
    
    D -->|Yes - Approved| E[Publish Executor]
    D -->|No - Rejected| F[Send Review Executor]
    
    E --> G[Save as Markdown File]
    F --> H[Notify for Revisions]
    
    I[Azure AI Foundry] --> B
    I --> C
    I --> E
    
    J[Bing Grounding] --> B
```

**Kƒæ√∫ƒçov√© komponenty:**
- **Draft Executor**: AI agent, ktor√Ω vytv√°ra poƒçiatoƒçn√© n√°vrhy obsahu z osnov
- **Content Review Executor**: AI agent, ktor√Ω hodnot√≠ kvalitu a s√∫lad n√°vrhov
- **Podmienen√© smerovanie**: Logika rozhodovania, ktor√° smeruje na z√°klade v√Ωsledkov hodnotenia
- **Cesty publikovania/kontroly**: Oddelen√© cesty spracovania pre schv√°len√Ω vs zamietnut√Ω obsah
- **Spr√°va stavu**: Udr≈æiava kontext obsahu a kontroly poƒças cel√©ho pracovn√©ho postupu

## üé® **Vzory dizajnu podmienen√Ωch pracovn√Ωch postupov**

### üìã **Produkcia obsahu s kontroln√Ωmi br√°nami kvality**
```
Outline ‚Üí Draft Creation ‚Üí Quality Review ‚Üí {Approve: Publish | Reject: Revise}
```

### üéØ **Spracovanie dokumentov na z√°klade riz√≠k**
```
Document ‚Üí Risk Assessment ‚Üí {Low: Standard | High: Enhanced Review}
```

### üîç **Inteligentn√© smerovanie z√°kazn√≠ckych slu≈æieb**
```
Customer Query ‚Üí Analysis ‚Üí {Simple: FAQ Bot | Complex: Human Agent}
```

### üíº **Pracovn√© postupy riaden√© s√∫ladom**
```
Content ‚Üí Compliance Check ‚Üí {Pass: Publish | Fail: Legal Review}
```

## üè¢ **V√Ωhody podmienen√Ωch pracovn√Ωch postupov pre podniky**

### üéØ **Inteligentn√° automatiz√°cia**
- **Inteligentn√© rozhodovanie**: Rozhodovanie o smerovan√≠ poh√°≈àan√© AI na z√°klade anal√Ωzy obsahu a kontextu
- **Adapt√≠vne spracovanie**: Pracovn√© postupy, ktor√© sa automaticky prisp√¥sobuj√∫ meniacim sa podmienkam
- **Presadzovanie obchodn√Ωch pravidiel**: Automatick√° aplik√°cia komplexnej obchodnej logiky a polit√≠k
- **Smerovanie s ohƒæadom na kontext**: Rozhodovanie na z√°klade celej hist√≥rie pracovn√©ho postupu a nahromaden√©ho kontextu

### üìà **Prev√°dzkov√° dokonalos≈•**
- **Optimalizovan√© prideƒæovanie zdrojov**: Smerovanie pr√°ce na najvhodnej≈°√≠ch ≈°pecialistov a procesy
- **Zn√≠≈æenie manu√°lneho z√°sahu**: Automatizovan√© rozhodovanie minimalizuje potrebu ƒæudsk√©ho smerovania
- **R√Ωchlej≈°ie ƒçasy rie≈°enia**: Priame smerovanie na vhodn√© odborn√© znalosti a schopnosti spracovania
- **Konzistentn√° aplik√°cia**: Jednotn√° aplik√°cia obchodn√Ωch pravidiel a krit√©ri√≠ rozhodovania

### üõ°Ô∏è **Riadenie riz√≠k a s√∫ladu**
- **Automatizovan√© hodnotenie riz√≠k**: Hodnotenie obsahu a √∫rovn√≠ rizika poh√°≈àan√© AI
- **Presadzovanie s√∫ladu**: Automatick√© smerovanie cez po≈æadovan√© regulaƒçn√© procesy
- **Aplik√°cia bezpeƒçnostn√Ωch protokolov**: Zlep≈°en√© bezpeƒçnostn√© opatrenia aplikovan√© na z√°klade hodnotenia riz√≠k
- **Udr≈æiavanie auditnej stopy**: Kompletn√° dokument√°cia rozhodnut√≠ o smerovan√≠ a ich od√¥vodnen√≠

### üìä **Analytika a neust√°le zlep≈°ovanie**
- **Analytika rozhodovania**: Sledovanie efekt√≠vnosti a presnosti rozhodnut√≠ o smerovan√≠
- **Rozpozn√°vanie vzorov**: Identifik√°cia trendov a vzorov v rozhodnutiach o smerovan√≠ v priebehu ƒçasu
- **Optimaliz√°cia v√Ωkonu**: Neust√°le zlep≈°ovanie krit√©ri√≠ rozhodovania a efekt√≠vnosti smerovania
- **Obchodn√° inteligencia**: Prehƒæady o charakteristik√°ch obsahu a po≈æiadavk√°ch na spracovanie

### üîß **Technick√° dokonalos≈•**
- **Trval√° spr√°va stavu**: Udr≈æiavanie komplexn√©ho stavu poƒças vykon√°vania pracovn√©ho postupu
- **≈†k√°lovateƒæn√° architekt√∫ra**: Rie≈°enie po≈æiadaviek na spracovanie podmienen√Ωch pracovn√Ωch postupov vo veƒækom objeme
- **Schopnosti integr√°cie**: Bezprobl√©mov√° integr√°cia s existuj√∫cimi obchodn√Ωmi syst√©mami a procesmi
- **Monitorovanie a pozorovateƒænos≈•**: Komplexn√© sledovanie v√Ωkonu pracovn√©ho postupu a rozhodnut√≠

Poƒème vytv√°ra≈• inteligentn√©, rozhodovan√≠m poh√°≈àan√© podnikov√© pracovn√© postupy s .NET! üöÄ

## üíª Spustenie k√≥du

Kompletn√° implement√°cia je dostupn√° v `04.dotnet-agent-framework-workflow-aifoundry-condition.cs`. T√°to demon≈°truje **pracovn√Ω postup produkcie obsahu s kontroln√Ωmi br√°nami kvality**:

### üèóÔ∏è **Architekt√∫ra pracovn√©ho postupu**

```
Content Outline ‚Üí Draft Creation ‚Üí Quality Review ‚Üí Conditional Routing:
                                                      ‚îú‚îÄ Approved (>200 words) ‚Üí Publish
                                                      ‚îî‚îÄ Rejected (<200 words) ‚Üí Review Notification
```

**Agenti v pracovnom postupe:**
1. **Evangelist Agent**: Vytv√°ra n√°vrhy tutori√°lov z osnov s Bing zakotven√≠m
2. **Content Reviewer Agent**: Hodnot√≠ kvalitu n√°vrhov (poƒçet slov, √∫plnos≈•)
3. **Publisher Agent**: Uklad√° schv√°len√Ω obsah ako Markdown s√∫bory s ƒçasovou peƒçiatkou

**Vlastn√© vykon√°vaƒçe:**
1. **DraftExecutor**: Orchestruje tvorbu n√°vrhov
2. **ContentReviewExecutor**: Vykon√°va hodnotenie kvality
3. **PublishExecutor**: Spracov√°va publikovanie schv√°len√©ho obsahu
4. **SendReviewExecutor**: Spravuje ozn√°menia o zamietnutom obsahu

### üöÄ Spustenie pr√≠kladu

**Predpoklady:**
- Konfigurovan√Ω pracovn√Ω priestor Azure AI Foundry
- Autentifik√°cia Azure CLI (`az login`)
- (Voliteƒæn√©) Pripojenie Bing Search pre zakotvenie

```bash
# Make the script executable (Unix/Linux/macOS)
chmod +x 04.dotnet-agent-framework-workflow-aifoundry-condition.cs

# Run the conditional workflow
./04.dotnet-agent-framework-workflow-aifoundry-condition.cs
```

Alebo na Windows:
```powershell
dotnet run 04.dotnet-agent-framework-workflow-aifoundry-condition.cs
```

### üìù Oƒçak√°van√Ω v√Ωstup

Pracovn√Ω postup bude:
1. **Vytv√°ra≈• agentov**: Inicializova≈• troch ≈°pecializovan√Ωch agentov Azure AI Foundry
2. **Generova≈• n√°vrh**: Agent Evangelist vytvor√≠ n√°vrh tutori√°lu z osnovy
3. **Hodnoti≈• obsah**: Content Reviewer hodnot√≠ kvalitu n√°vrhu
4. **Podmienen√© smerovanie**:
   - **Ak schv√°len√© (>200 slov)**: Publish Executor ulo≈æ√≠ ako Markdown s√∫bor
   - **Ak zamietnut√© (<200 slov)**: Send Review Executor po≈°le ozn√°menie o kontrole
5. **Zobrazi≈• v√Ωsledky**: Uk√°≈æe koneƒçn√Ω v√Ωsledok pracovn√©ho postupu

### üîß Mo≈ænosti prisp√¥sobenia

**Upravi≈• krit√©ri√° hodnotenia:**
```csharp
const string ContentReviewerInstructions = @"
You are a content reviewer...
1. Check if content is more than 500 words (instead of 200)
2. Verify technical accuracy
3. Ensure proper formatting
...";
```

**Prida≈• viac podmienen√Ωch ciest:**
```csharp
var workflow = new WorkflowBuilder(draftExecutor)
    .AddEdge(draftExecutor, contentReviewerExecutor)
    .AddEdge(contentReviewerExecutor, publishExecutor, condition: GetCondition("Excellent"))
    .AddEdge(contentReviewerExecutor, editExecutor, condition: GetCondition("Good"))
    .AddEdge(contentReviewerExecutor, sendReviewerExecutor, condition: GetCondition("Poor"))
    .Build();
```

**Zmeni≈• po≈æiadavky na obsah:**
```csharp
string OUTLINE_Content = @"
# Your Custom Topic
## Section 1
https://your-reference-url
## Section 2
...
";
```

### üéØ Aplik√°cie v re√°lnom svete

Tento vzor podmienen√©ho pracovn√©ho postupu je ide√°lny pre:
- **Syst√©my spr√°vy obsahu**: Automatizovan√© redakƒçn√© pracovn√© postupy s kontroln√Ωmi br√°nami kvality
- **Spracovanie dokumentov**: Smerovanie dokumentov na z√°klade klasifik√°cie a s√∫ladu
- **Z√°kazn√≠cka podpora**: Inteligentn√© smerovanie tiketov na z√°klade zlo≈æitosti a naliehavosti
- **Pr√°vna kontrola**: Smerovanie zml√∫v na z√°klade hodnotenia riz√≠k a hodnoty
- **HR procesy**: Smerovanie ≈æiadost√≠ cez vhodn√© screeningov√© pracovn√© postupy

### üîç Pochopenie podmienen√©ho logick√©ho rozhodovania

**Funkcia podmienky:**
```csharp
public Func<object?, bool> GetCondition(string expectedResult) =>
    reviewResult => reviewResult is ReviewResult review && review.Result == expectedResult;
```

T√°to funkcia vytv√°ra predik√°t, ktor√Ω:
1. Kontroluje, ƒçi je v√Ωsledok typu `ReviewResult`
2. Porovn√°va vlastnos≈• `Result` s oƒçak√°vanou hodnotou
3. Vracia true/false na urƒçenie smerovania

**Hrany pracovn√©ho postupu s podmienkami:**
```csharp
.AddEdge(contentReviewerExecutor, publishExecutor, condition: GetCondition("Yes"))
.AddEdge(contentReviewerExecutor, sendReviewerExecutor, condition: GetCondition("No"))
```

### üìä Pokroƒçil√© funkcie

**Valid√°cia JSON sch√©my:**
Pracovn√Ω postup pou≈æ√≠va JSON sch√©my na zabezpeƒçenie ≈°trukt√∫rovan√Ωch odpoved√≠:

```csharp
// Define response structure
public class ReviewResult
{
    [JsonPropertyName("review_result")]
    public string Result { get; set; } = string.Empty;
    
    [JsonPropertyName("reason")]
    public string Reason { get; set; } = string.Empty;
    
    [JsonPropertyName("draft_content")]
    public string DraftContent { get; set; } = string.Empty;
}

// Apply to agent
ResponseFormat = ChatResponseFormat.ForJsonSchema(
    AIJsonUtilities.CreateJsonSchema(typeof(ReviewResult)), 
    "ReviewResult", 
    "Review Result From DraftContent"
)
```

**Integr√°cia Bing zakotvenia:**
Agent Evangelist pou≈æ√≠va Bing zakotvenie na pr√≠stup k inform√°ci√°m v re√°lnom ƒçase:

```csharp
var bingGroundingConfig = new BingGroundingSearchConfiguration(bing_conn_id);
BingGroundingToolDefinition bingGroundingTool = new(
    new BingGroundingSearchToolParameters([bingGroundingConfig])
);
```

To umo≈æ≈àuje agentovi sledova≈• URL adresy v osnov√°ch a extrahova≈• aktu√°lne inform√°cie.

### üõ°Ô∏è Spracovanie ch√Ωb

Pracovn√Ω postup zah≈ï≈àa robustn√© spracovanie ch√Ωb pre zamietnut√Ω obsah:
- Zlyhania kontroly sp√∫≈°≈•aj√∫ alternat√≠vnu cestu
- Ozn√°menia poskytuj√∫ jasn√© d√¥vody zamietnutia
- Obsah je zachovan√Ω na rev√≠ziu

### üîÑ Roz≈°√≠renie pracovn√©ho postupu

**Prida≈• sluƒçku rev√≠zie:**
Vytvorte sp√§tn√∫ v√§zbu, ktor√° automaticky prepracuje obsah:

```csharp
.AddEdge(contentReviewerExecutor, publishExecutor, condition: GetCondition("Yes"))
.AddEdge(contentReviewerExecutor, draftExecutor, condition: GetCondition("No")) // Loop back
```

**Implementova≈• viac√∫rov≈àov√∫ kontrolu:**
Prida≈• viacero f√°z kontroly s r√¥znymi krit√©riami:

```csharp
.AddEdge(draftExecutor, technicalReviewer)
.AddEdge(technicalReviewer, editorialReviewer, condition: GetCondition("TechPass"))
.AddEdge(editorialReviewer, publishExecutor, condition: GetCondition("EditPass"))
```

Tento vzor podmienen√©ho pracovn√©ho postupu poskytuje z√°klad pre vytv√°ranie sofistikovan√Ωch, inteligentn√Ωch podnikov√Ωch automatizaƒçn√Ωch syst√©mov! üöÄ

---

<!-- CO-OP TRANSLATOR DISCLAIMER START -->
**Zrieknutie sa zodpovednosti**:  
Tento dokument bol prelo≈æen√Ω pomocou slu≈æby AI prekladu [Co-op Translator](https://github.com/Azure/co-op-translator). Aj keƒè sa sna≈æ√≠me o presnos≈•, pros√≠m, berte na vedomie, ≈æe automatizovan√© preklady m√¥≈æu obsahova≈• chyby alebo nepresnosti. P√¥vodn√Ω dokument v jeho rodnom jazyku by mal by≈• pova≈æovan√Ω za autoritat√≠vny zdroj. Pre kritick√© inform√°cie sa odpor√∫ƒça profesion√°lny ƒæudsk√Ω preklad. Nie sme zodpovedn√≠ za ≈æiadne nedorozumenia alebo nespr√°vne interpret√°cie vypl√Ωvaj√∫ce z pou≈æitia tohto prekladu.
<!-- CO-OP TRANSLATOR DISCLAIMER END -->